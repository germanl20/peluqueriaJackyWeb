var yL=Object.defineProperty,vL=Object.defineProperties,bL=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,CL=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,Ux=($e,fe,O)=>fe in $e?yL($e,fe,{enumerable:!0,configurable:!0,writable:!0,value:O}):$e[fe]=O,Fe=($e,fe)=>{for(var O in fe||(fe={}))CL.call(fe,O)&&Ux($e,O,fe[O]);if(Bx)for(var O of Bx(fe))EL.call(fe,O)&&Ux($e,O,fe[O]);return $e},Ln=($e,fe)=>vL($e,bL(fe));(self.webpackChunkpeluqueriaJacky=self.webpackChunkpeluqueriaJacky||[]).push([[179],{7905:($e,fe,O)=>{"use strict";O.d(fe,{hO:()=>Pe,xv:()=>ae,Dh:()=>oe,GT:()=>he,cc:()=>De,on:()=>H,pX:()=>re});var a=O(3668),Q=O(7892),P=O(7233);$e=O.hmd($e);const se=["ngOnDestroy"],re=(Z,ce,Se,ve={})=>new Proxy(Z,{get:(je,Ae)=>Se.runOutsideAngular(()=>{var He;if(Z[Ae])return(null===(He=null==ve?void 0:ve.spy)||void 0===He?void 0:He.get)&&ve.spy.get(Ae,Z[Ae]),Z[Ae];if(se.indexOf(Ae)>-1)return()=>{};const Ze=ce.toPromise().then(it=>{const ne=it&&it[Ae];return"function"==typeof ne?ne.bind(it):ne&&ne.then?ne.then(le=>Se.run(()=>le)):Se.run(()=>ne)});return new Proxy(()=>{},{get:(it,ne)=>Ze[ne],apply:(it,ne,le)=>Ze.then(ge=>{var Ce;const Re=ge&&ge(...le);return(null===(Ce=null==ve?void 0:ve.spy)||void 0===Ce?void 0:Ce.apply)&&ve.spy.apply(Ae,le,Re),Re})})})}),he=(Z,ce)=>{ce.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(ve=>{Object.defineProperty(Z.prototype,ve,Object.getOwnPropertyDescriptor(Se.prototype||Se,ve))})})};class J{constructor(ce){return ce}}const oe=new a.OlP("angularfire2.app.options"),ae=new a.OlP("angularfire2.app.name");function H(Z,ce,Se){const je="object"==typeof Se&&Se||{};je.name=je.name||"string"==typeof Se&&Se||"[DEFAULT]";const He=Q.Z.apps.filter(Ze=>Ze&&Ze.name===je.name)[0]||ce.runOutsideAngular(()=>Q.Z.initializeApp(Z,je));try{JSON.stringify(Z)!==JSON.stringify(He.options)&&j("error",`${He.name} Firebase App already initialized with different options${$e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new J(He)}const j=(Z,...ce)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Z](...ce)},Y={provide:J,useFactory:H,deps:[oe,a.R0b,[new a.FiY,ae]]};let Pe=(()=>{class Z{constructor(Se){Q.Z.registerVersion("angularfire",P.q4.full,"core"),Q.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Q.Z.registerVersion("angular",a.q4F.full,Se.toString())}static initializeApp(Se,ve){return{ngModule:Z,providers:[{provide:oe,useValue:Se},{provide:ae,useValue:ve}]}}}return Z.\u0275fac=function(Se){return new(Se||Z)(a.LFG(a.Lbi))},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({providers:[Y]}),Z})();function De(Z,ce,Se,ve,je){const[,Ae,He]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===Z)||[];if(Ae)return function(Z,ce){try{return Z.toString()===ce.toString()}catch(Se){return Z===ce}}(je,He)||(de("error",`${ce} was already initialized on the ${Se} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:je,was:He})),Ae;{const Ze=ve();return globalThis.\u0275AngularfireInstanceCache.push([Z,Ze,je]),Ze}}const Qe=!!$e.hot,de=(Z,...ce)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Z](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:($e,fe,O)=>{"use strict";O.d(fe,{q4:()=>Dl,iC:()=>Qr,HU:()=>Ma,vb:()=>Mh,JM:()=>Ah});var a=O(3668),Q=O(7713),P=O(8239),se=O(1572),re=O(4213),he=O(1177),J=O(3855),oe=O(4995);const ae="@firebase/installations",H="0.5.5",Y=`w:${H}`,Pe="FIS_v2",ce=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(T){return T instanceof re.ZR&&T.code.includes("request-failed")}function ve({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function je(T){return{token:T.token,requestStatus:2,expiresIn:ge(T.expiresIn),creationTime:Date.now()}}function Ae(T,D){return He.apply(this,arguments)}function He(){return(He=(0,P.Z)(function*(T,D){const L=(yield D.json()).error;return ce.create("request-failed",{requestName:T,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ze({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function it(T,{refreshToken:D}){const k=Ze(T);return k.append("Authorization",function(T){return`${Pe} ${T}`}(D)),k}function ne(T){return le.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(T){const D=yield T();return D.status>=500&&D.status<600?T():D})).apply(this,arguments)}function ge(T){return Number(T.replace("s","000"))}function Re(T,D){return ue.apply(this,arguments)}function ue(){return(ue=(0,P.Z)(function*(T,{fid:D}){const k=ve(T),X={method:"POST",headers:Ze(T),body:JSON.stringify({fid:D,authVersion:Pe,appId:T.appId,sdkVersion:Y})},Ie=yield ne(()=>fetch(k,X));if(Ie.ok){const We=yield Ie.json();return{fid:We.fid||D,registrationStatus:2,refreshToken:We.refreshToken,authToken:je(We.authToken)}}throw yield Ae("Create Installation",Ie)})).apply(this,arguments)}function yt(T){return new Promise(D=>{setTimeout(D,T)})}const zn=/^[cdef][\w-]{21}$/;function Et(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function(T){return function(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return zn.test(k)?k:""}catch(T){return""}}function Ht(T){return`${T.appName}!${T.appId}`}const $n=new Map;function Ni(T,D){const k=Ht(T);vn(k,D),function(T,D){const k=(!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=T=>{vn(T.data.key,T.data.fid)}),jt);k&&k.postMessage({key:T,fid:D}),0===$n.size&&jt&&(jt.close(),jt=null)}(k,D)}function vn(T,D){const k=$n.get(T);if(k)for(const L of k)L(D)}let jt=null;const Te="firebase-installations-store";let Vn=null;function Bn(){return Vn||(Vn=(0,oe.openDb)("firebase-installations-database",1,T=>{0===T.oldVersion&&T.createObjectStore(Te)})),Vn}function ot(T,D){return xt.apply(this,arguments)}function xt(){return(xt=(0,P.Z)(function*(T,D){const k=Ht(T),q=(yield Bn()).transaction(Te,"readwrite"),X=q.objectStore(Te),Ie=yield X.get(k);return yield X.put(D,k),yield q.complete,(!Ie||Ie.fid!==D.fid)&&Ni(T,D.fid),D})).apply(this,arguments)}function nr(T){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*(T){const D=Ht(T),L=(yield Bn()).transaction(Te,"readwrite");yield L.objectStore(Te).delete(D),yield L.complete})).apply(this,arguments)}function Un(T,D){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,P.Z)(function*(T,D){const k=Ht(T),q=(yield Bn()).transaction(Te,"readwrite"),X=q.objectStore(Te),Ie=yield X.get(k),We=D(Ie);return void 0===We?yield X.delete(k):yield X.put(We,k),yield q.complete,We&&(!Ie||Ie.fid!==We.fid)&&Ni(T,We.fid),We})).apply(this,arguments)}function bn(T){return cn.apply(this,arguments)}function cn(){return(cn=(0,P.Z)(function*(T){let D;const k=yield Un(T,L=>{const q=_o(L),X=en(T,q);return D=X.registrationPromise,X.installationEntry});return""===k.fid?{installationEntry:yield D}:{installationEntry:k,registrationPromise:D}})).apply(this,arguments)}function _o(T){return ct(T||{fid:Et(),registrationStatus:0})}function en(T,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ce.create("app-offline"))};const k={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function(T,D){return at.apply(this,arguments)}(T,k);return{installationEntry:k,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Us(T)}:{installationEntry:D}}function at(){return(at=(0,P.Z)(function*(T,D){try{return ot(T,yield Re(T,D))}catch(k){throw Se(k)&&409===k.customData.serverCode?yield nr(T):yield ot(T,{fid:D.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Us(T){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,P.Z)(function*(T){let D=yield Ot(T);for(;1===D.registrationStatus;)yield yt(100),D=yield Ot(T);if(0===D.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield bn(T);return L||k}return D})).apply(this,arguments)}function Ot(T){return Un(T,D=>{if(!D)throw ce.create("installation-not-found");return ct(D)})}function ct(T){return function(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function ea(T,D){return $.apply(this,arguments)}function $(){return($=(0,P.Z)(function*({appConfig:T,platformLoggerProvider:D},k){const L=U(T,k),q=it(T,k),X=D.getImmediate({optional:!0});X&&q.append("x-firebase-client",X.getPlatformInfoString());const We={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Y}})},ze=yield ne(()=>fetch(L,We));if(ze.ok)return je(yield ze.json());throw yield Ae("Generate Auth Token",ze)})).apply(this,arguments)}function U(T,{fid:D}){return`${ve(T)}/${D}/authTokens:generate`}function G(T){return _e.apply(this,arguments)}function _e(){return(_e=(0,P.Z)(function*(T,D=!1){let k;const L=yield Un(T.appConfig,X=>{if(!Je(X))throw ce.create("not-registered");const Ie=X.authToken;if(!D&&bt(Ie))return X;if(1===Ie.requestStatus)return k=te(T,D),X;{if(!navigator.onLine)throw ce.create("app-offline");const We=Yt(X);return k=pe(T,We),We}});return k?yield k:L.authToken})).apply(this,arguments)}function te(T,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,P.Z)(function*(T,D){let k=yield ye(T.appConfig);for(;1===k.authToken.requestStatus;)yield yt(100),k=yield ye(T.appConfig);const L=k.authToken;return 0===L.requestStatus?G(T,D):L})).apply(this,arguments)}function ye(T){return Un(T,D=>{if(!Je(D))throw ce.create("not-registered");return function(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function pe(T,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(T,D){try{const k=yield ea(T,D),L=Object.assign(Object.assign({},D),{authToken:k});return yield ot(T.appConfig,L),k}catch(k){if(!Se(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ot(T.appConfig,L)}else yield nr(T.appConfig);throw k}})).apply(this,arguments)}function Je(T){return void 0!==T&&2===T.registrationStatus}function bt(T){return 2===T.requestStatus&&!function(T){const D=Date.now();return D<T.creationTime||T.creationTime+T.expiresIn<D+36e5}(T)}function Yt(T){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:D})}function na(){return(na=(0,P.Z)(function*(T){const D=T,{installationEntry:k,registrationPromise:L}=yield bn(D.appConfig);return L?L.catch(console.error):G(D).catch(console.error),k.fid})).apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(T,D=!1){const k=T;return yield lc(k.appConfig),(yield G(k,D)).token})).apply(this,arguments)}function lc(T){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(T){const{registrationPromise:D}=yield bn(T);D&&(yield D)})).apply(this,arguments)}function rr(T){return ce.create("missing-app-config-values",{valueName:T})}const xn="installations";(0,se._registerComponent)(new he.wA(xn,T=>{const D=T.getProvider("app").getImmediate(),k=function(T){if(!T||!T.options)throw rr("App Configuration");if(!T.name)throw rr("App Name");const D=["projectId","apiKey","appId"];for(const k of D)if(!T.options[k])throw rr(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(D);return{app:D,appConfig:k,platformLoggerProvider:(0,se._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,se._registerComponent)(new he.wA("installations-internal",T=>{const D=T.getProvider("app").getImmediate(),k=(0,se._getProvider)(D,xn).getImmediate();return{getId:()=>function(T){return na.apply(this,arguments)}(k),getToken:q=>function(T){return Hs.apply(this,arguments)}(k,q)}},"PRIVATE")),(0,se.registerVersion)(ae,H),(0,se.registerVersion)(ae,H,"esm2017");const lt="@firebase/remote-config",Gt=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ph{constructor(D,k,L,q){this.client=D,this.storage=k,this.storageCache=L,this.logger=q}isCachedDataFresh(D,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,q=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var k=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(q&&k.isCachedDataFresh(D.cacheMaxAgeMillis,L))return q;D.eTag=q&&q.eTag;const X=yield k.client.fetch(D),Ie=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&Ie.push(k.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(Ie),X})()}}function _p(T=navigator){return T.languages&&T.languages[0]||T.language}class ar{constructor(D,k,L,q,X,Ie){this.firebaseInstallations=D,this.sdkVersion=k,this.namespace=L,this.projectId=q,this.apiKey=X,this.appId=Ie}fetch(D){var k=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ze={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:k.appId,language_code:_p()},wt={method:"POST",headers:We,body:JSON.stringify(ze)},Pt=fetch(Ie,wt),jn=new Promise((Gi,Jr)=>{D.signal.addEventListener(()=>{const ci=new Error("The operation was aborted.");ci.name="AbortError",Jr(ci)})});let Ei;try{yield Promise.race([Pt,jn]),Ei=yield Pt}catch(Gi){let Jr="fetch-client-network";throw"AbortError"===Gi.name&&(Jr="fetch-timeout"),Gt.create(Jr,{originalErrorMessage:Gi.message})}let pn=Ei.status;const xi=Ei.headers.get("ETag")||void 0;let Is,pr;if(200===Ei.status){let Gi;try{Gi=yield Ei.json()}catch(Jr){throw Gt.create("fetch-client-parse",{originalErrorMessage:Jr.message})}Is=Gi.entries,pr=Gi.state}if("INSTANCE_STATE_UNSPECIFIED"===pr?pn=500:"NO_CHANGE"===pr?pn=304:("NO_TEMPLATE"===pr||"EMPTY_CONFIG"===pr)&&(Is={}),304!==pn&&200!==pn)throw Gt.create("fetch-status",{httpStatus:pn});return{status:pn,eTag:xi,config:Is}})()}}class Pu{constructor(D,k){this.client=D,this.storage=k}fetch(D){var k=this;return(0,P.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:k,backoffCount:L}){var q=this;return(0,P.Z)(function*(){yield function(T,D){return new Promise((k,L)=>{const q=Math.max(D-Date.now(),0),X=setTimeout(k,q);T.addEventListener(()=>{clearTimeout(X),L(Gt.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,k);try{const X=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),X}catch(X){if(!function(T){if(!(T instanceof re.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}(X))throw X;const Ie={throttleEndTimeMillis:Date.now()+(0,re.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Ie),q.attemptFetch(D,Ie)}})()}}class yp{constructor(D,k,L,q,X){this.app=D,this._client=k,this._storageCache=L,this._storage=q,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function aa(T,D){const k=T.target.error||void 0;return Gt.create(D,{originalErrorMessage:k&&k.message})}const vo="app_namespace_store";class vp{constructor(D,k,L,q=function(){return new Promise((T,D)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{D(aa(L,"storage-open"))},k.onsuccess=L=>{T(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(vo,{keyPath:"compositeKey"})}}catch(k){D(Gt.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=D,this.appName=k,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((q,X)=>{const We=L.transaction([vo],"readonly").objectStore(vo),ze=k.createCompositeKey(D);try{const wt=We.get(ze);wt.onerror=Pt=>{X(aa(Pt,"storage-get"))},wt.onsuccess=Pt=>{const jn=Pt.target.result;q(jn?jn.value:void 0)}}catch(wt){X(Gt.create("storage-get",{originalErrorMessage:wt&&wt.message}))}})})()}set(D,k){var L=this;return(0,P.Z)(function*(){const q=yield L.openDbPromise;return new Promise((X,Ie)=>{const ze=q.transaction([vo],"readwrite").objectStore(vo),wt=L.createCompositeKey(D);try{const Pt=ze.put({compositeKey:wt,value:k});Pt.onerror=jn=>{Ie(aa(jn,"storage-set"))},Pt.onsuccess=()=>{X()}}catch(Pt){Ie(Gt.create("storage-set",{originalErrorMessage:Pt&&Pt.message}))}})})()}delete(D){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((q,X)=>{const We=L.transaction([vo],"readwrite").objectStore(vo),ze=k.createCompositeKey(D);try{const wt=We.delete(ze);wt.onerror=Pt=>{X(aa(Pt,"storage-delete"))},wt.onsuccess=()=>{q()}}catch(wt){X(Gt.create("storage-delete",{originalErrorMessage:wt&&wt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Lu{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const k=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),X=yield k;X&&(D.lastFetchStatus=X);const Ie=yield L;Ie&&(D.lastSuccessfulFetchTimestampMillis=Ie);const We=yield q;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function la(){return dc.apply(this,arguments)}function dc(){return(dc=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(T){return!1}})).apply(this,arguments)}(0,se._registerComponent)(new he.wA("remote-config",function(D,{instanceIdentifier:k}){const L=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gt.create("registration-window");if(!(0,re.hl)())throw Gt.create("indexed-db-unavailable");const{projectId:X,apiKey:Ie,appId:We}=L.options;if(!X)throw Gt.create("registration-project-id");if(!Ie)throw Gt.create("registration-api-key");if(!We)throw Gt.create("registration-app-id");const ze=new vp(We,L.name,k=k||"firebase"),wt=new Lu(ze),Pt=new J.Yd(lt);Pt.logLevel=J.in.ERROR;const jn=new ar(q,se.SDK_VERSION,k,X,Ie,We),Ei=new Pu(jn,ze),pn=new ph(Ei,ze,wt,Pt),xi=new yp(L,pn,wt,ze,Pt);return function(T){const D=(0,re.m9)(T);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(xi),xi},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(lt,"0.3.4"),(0,se.registerVersion)(lt,"0.3.4","esm2017");const Vu="/firebase-messaging-sw.js",Cp="/firebase-cloud-messaging-push-scope",Sr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vs="google.c.a.c_id",bo="google.c.a.c_l",bs="google.c.a.ts",Ar="google.c.a.e";var qn=(()=>{return(T=qn||(qn={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",qn;var T})();function Hr(T){const D=new Uint8Array(T);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ca(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),q=new Uint8Array(L.length);for(let X=0;X<L.length;++X)q[X]=L.charCodeAt(X);return q}const fc="fcm_token_details_db",Uu="fcm_token_object_Store";function pc(T){return ll.apply(this,arguments)}function ll(){return ll=(0,P.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(fc))return null;let D=null;return(yield(0,oe.openDb)(fc,5,function(){var L=(0,P.Z)(function*(q){var X;if(q.oldVersion<2||!q.objectStoreNames.contains(Uu))return;const Ie=q.transaction.objectStore(Uu),We=yield Ie.index("fcmSenderId").get(T);if(yield Ie.clear(),We)if(2===q.oldVersion){const ze=We;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;D={token:ze.fcmToken,createTime:null!==(X=ze.createTime)&&void 0!==X?X:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Hr(ze.vapidKey)}}}else if(3===q.oldVersion){const ze=We;D={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Hr(ze.auth),p256dh:Hr(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Hr(ze.vapidKey)}}}else if(4===q.oldVersion){const ze=We;D={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Hr(ze.auth),p256dh:Hr(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Hr(ze.vapidKey)}}}});return function(q){return L.apply(this,arguments)}}())).close(),yield(0,oe.deleteDb)(fc),yield(0,oe.deleteDb)("fcm_vapid_details_db"),yield(0,oe.deleteDb)("undefined"),yh(D)?D:null}),ll.apply(this,arguments)}function yh(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:D}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Zt="firebase-messaging-store";let mc=null;function Gs(){return mc||(mc=(0,oe.openDb)("firebase-messaging-database",1,T=>{0===T.oldVersion&&T.createObjectStore(Zt)})),mc}function An(T){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(T){const D=Zs(T),L=yield(yield Gs()).transaction(Zt).objectStore(Zt).get(D);if(L)return L;{const q=yield pc(T.appConfig.senderId);if(q)return yield yi(T,q),q}})).apply(this,arguments)}function yi(T,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(T,D){const k=Zs(T),q=(yield Gs()).transaction(Zt,"readwrite");return yield q.objectStore(Zt).put(D,k),yield q.complete,D})).apply(this,arguments)}function Mn(T){return cl.apply(this,arguments)}function cl(){return(cl=(0,P.Z)(function*(T){const D=Zs(T),L=(yield Gs()).transaction(Zt,"readwrite");yield L.objectStore(Zt).delete(D),yield L.complete})).apply(this,arguments)}function Zs({appConfig:T}){return T.appId}const zt=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jr(T,D){return da.apply(this,arguments)}function da(){return(da=(0,P.Z)(function*(T,D){const k=yield ul(T),L=Co(D),q={method:"POST",headers:k,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(Ye(T.appConfig),q)).json()}catch(Ie){throw zt.create("token-subscribe-failed",{errorInfo:Ie})}if(X.error)throw zt.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw zt.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Ys(T,D){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(T,D){const k=yield ul(T),L=Co(D.subscriptionOptions),q={method:"PATCH",headers:k,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${Ye(T.appConfig)}/${D.token}`,q)).json()}catch(Ie){throw zt.create("token-update-failed",{errorInfo:Ie})}if(X.error)throw zt.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw zt.create("token-update-no-token");return X.token})).apply(this,arguments)}function ha(T,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(T,D){const L={method:"DELETE",headers:yield ul(T)};try{const X=yield(yield fetch(`${Ye(T.appConfig)}/${D}`,L)).json();if(X.error)throw zt.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(q){throw zt.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function Ye({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function ul(T){return fa.apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*({appConfig:T,installations:D}){const k=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Co({p256dh:T,auth:D,endpoint:k,vapidKey:L}){const q={web:{endpoint:k,auth:D,p256dh:T}};return L!==Sr&&(q.web.applicationPubKey=L),q}const pa=6048e5;function dl(T){return hl.apply(this,arguments)}function hl(){return(hl=(0,P.Z)(function*(T){const D=yield $r(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:D.endpoint,auth:Hr(D.getKey("auth")),p256dh:Hr(D.getKey("p256dh"))},L=yield An(T.firebaseDependencies);if(L){if(fl(L.subscriptionOptions,k))return Date.now()>=L.createTime+pa?At(T,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield ha(T.firebaseDependencies,L.token)}catch(q){console.warn(q)}return dn(T.firebaseDependencies,k)}return dn(T.firebaseDependencies,k)})).apply(this,arguments)}function Hu(T){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(T){const D=yield An(T.firebaseDependencies);D&&(yield ha(T.firebaseDependencies,D.token),yield Mn(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function At(T,D){return zr.apply(this,arguments)}function zr(){return(zr=(0,P.Z)(function*(T,D){try{const k=yield Ys(T.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:k,createTime:Date.now()});return yield yi(T.firebaseDependencies,L),k}catch(k){throw yield Hu(T),k}})).apply(this,arguments)}function dn(T,D){return ma.apply(this,arguments)}function ma(){return(ma=(0,P.Z)(function*(T,D){const L={token:yield jr(T,D),createTime:Date.now(),subscriptionOptions:D};return yield yi(T,L),L.token})).apply(this,arguments)}function $r(T,D){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(T,D){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ca(D)})})).apply(this,arguments)}function fl(T,D){return D.vapidKey===T.vapidKey&&D.endpoint===T.endpoint&&D.auth===T.auth&&D.p256dh===T.p256dh}function Ks(T){const D={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function(T,D){if(!D.notification)return;T.notification={};const k=D.notification.title;k&&(T.notification.title=k);const L=D.notification.body;L&&(T.notification.body=L);const q=D.notification.image;q&&(T.notification.image=q)}(D,T),function(T,D){!D.data||(T.data=D.data)}(D,T),function(T,D){if(!D.fcmOptions)return;T.fcmOptions={};const k=D.fcmOptions.link;k&&(T.fcmOptions.link=k);const L=D.fcmOptions.analytics_label;L&&(T.fcmOptions.analyticsLabel=L)}(D,T),D}function Qs(T){return"object"==typeof T&&!!T&&vs in T}function Hn(T,D){const k=[];for(let L=0;L<T.length;L++)k.push(T.charAt(L)),L<D.length&&k.push(D.charAt(L));return k.join("")}function _a(T){return zt.create("missing-app-config-values",{valueName:T})}Hn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Es{constructor(D,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function(T){if(!T||!T.options)throw _a("App Configuration Object");if(!T.name)throw _a("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const L of D)if(!k[L])throw _a(L);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Mr(T){return ya.apply(this,arguments)}function ya(){return(ya=(0,P.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Vu,{scope:Cp}),T.swRegistration.update().catch(()=>{})}catch(D){throw zt.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function va(T,D){return ba.apply(this,arguments)}function ba(){return(ba=(0,P.Z)(function*(T,D){if(!D&&!T.swRegistration&&(yield Mr(T)),D||!T.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw zt.create("invalid-sw-registration");T.swRegistration=D}})).apply(this,arguments)}function pl(T,D){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,P.Z)(function*(T,D){D?T.vapidKey=D:T.vapidKey||(T.vapidKey=Sr)})).apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(T,D){if(!navigator)throw zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zt.create("permission-blocked");return yield pl(T,null==D?void 0:D.vapidKey),yield va(T,null==D?void 0:D.serviceWorkerRegistration),dl(T)})).apply(this,arguments)}function wo(T,D,k){return ju.apply(this,arguments)}function ju(){return(ju=(0,P.Z)(function*(T,D,k){const L=gl(D);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[vs],message_name:k[bo],message_time:k[bs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gl(T){switch(T){case qn.NOTIFICATION_CLICKED:return"notification_open";case qn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ea(){return(Ea=(0,P.Z)(function*(T,D){const k=D.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===qn.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Ks(k)):T.onMessageHandler.next(Ks(k)));const L=k.data;Qs(L)&&"1"===L[Ar]&&(yield wo(T,k.messageType,L))})).apply(this,arguments)}const yc="@firebase/messaging";function vc(){return nn.apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,se._registerComponent)(new he.wA("messaging",T=>{const D=new Es(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function(T,D){return Ea.apply(this,arguments)}(D,k)),D},"PUBLIC")),(0,se._registerComponent)(new he.wA("messaging-internal",T=>{const D=T.getProvider("messaging").getImmediate();return{getToken:L=>function(T,D){return ml.apply(this,arguments)}(D,L)}},"PRIVATE")),(0,se.registerVersion)(yc,"0.9.9"),(0,se.registerVersion)(yc,"0.9.9","esm2017");const Ts="analytics",yl="firebase_id",bc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zu="https://www.googletagmanager.com/gtag/js",sn=new J.Yd("@firebase/analytics");function Ia(T){return Promise.all(T.map(D=>D.catch(k=>k)))}function Tp(T,D){const k=document.createElement("script");k.src=`${Zu}?l=${T}&id=${D}`,k.async=!0,document.head.appendChild(k)}function Do(T,D,k,L,q,X){return vl.apply(this,arguments)}function vl(){return(vl=(0,P.Z)(function*(T,D,k,L,q,X){const Ie=L[q];try{if(Ie)yield D[Ie];else{const ze=(yield Ia(k)).find(wt=>wt.measurementId===q);ze&&(yield D[ze.appId])}}catch(We){sn.error(We)}T("config",q,X)})).apply(this,arguments)}function Gr(T,D,k,L,q){return bl.apply(this,arguments)}function bl(){return(bl=(0,P.Z)(function*(T,D,k,L,q){try{let X=[];if(q&&q.send_to){let Ie=q.send_to;Array.isArray(Ie)||(Ie=[Ie]);const We=yield Ia(k);for(const ze of Ie){const wt=We.find(jn=>jn.measurementId===ze),Pt=wt&&D[wt.appId];if(!Pt){X=[];break}X.push(Pt)}}0===X.length&&(X=Object.values(D)),yield Promise.all(X),T("event",L,q||{})}catch(X){sn.error(X)}})).apply(this,arguments)}function En(){const T=window.document.getElementsByTagName("script");for(const D of Object.values(T))if(D.src&&D.src.includes(Zu))return D;return null}const oi=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Js=new class{constructor(D={},k=1e3){this.throttleMetadata=D,this.intervalMillis=k}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,k){this.throttleMetadata[D]=k}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Dp(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Hi(T){return xr.apply(this,arguments)}function xr(){return(xr=(0,P.Z)(function*(T){var D;const{appId:k,apiKey:L}=T,q={method:"GET",headers:Dp(L)},X=bc.replace("{app-id}",k),Ie=yield fetch(X,q);if(200!==Ie.status&&304!==Ie.status){let We="";try{const ze=yield Ie.json();(null===(D=ze.error)||void 0===D?void 0:D.message)&&(We=ze.error.message)}catch(ze){}throw oi.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:We})}return Ie.json()})).apply(this,arguments)}function Kt(T){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(T,D=Js,k){const{appId:L,apiKey:q,measurementId:X}=T.options;if(!L)throw oi.create("no-app-id");if(!q){if(X)return{measurementId:X,appId:L};throw oi.create("no-api-key")}const Ie=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Io;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==k?k:6e4),Sa({appId:L,apiKey:q,measurementId:X},Ie,We,D)})).apply(this,arguments)}function Sa(T,D,k){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,P.Z)(function*(T,{throttleEndTimeMillis:D,backoffCount:k},L,q=Js){const{appId:X,measurementId:Ie}=T;try{yield Ec(L,D)}catch(We){if(Ie)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:X,measurementId:Ie};throw We}try{const We=yield Hi(T);return q.deleteThrottleMetadata(X),We}catch(We){if(!qu(We)){if(q.deleteThrottleMetadata(X),Ie)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:X,measurementId:Ie};throw We}const ze=503===Number(We.customData.httpStatus)?(0,re.$s)(k,q.intervalMillis,30):(0,re.$s)(k,q.intervalMillis),wt={throttleEndTimeMillis:Date.now()+ze,backoffCount:k+1};return q.setThrottleMetadata(X,wt),sn.debug(`Calling attemptFetch again in ${ze} millis`),Sa(T,wt,L,q)}})).apply(this,arguments)}function Ec(T,D){return new Promise((k,L)=>{const q=Math.max(D-Date.now(),0),X=setTimeout(k,q);T.addEventListener(()=>{clearTimeout(X),L(oi.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function qu(T){if(!(T instanceof re.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Io{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function So(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,P.Z)(function*(){if(!(0,re.hl)())return sn.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(T){return sn.warn(oi.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Wr(){return(Wr=(0,P.Z)(function*(T,D,k,L,q,X,Ie){var We;const ze=Kt(T);ze.then(pn=>{k[pn.measurementId]=pn.appId,T.options.measurementId&&pn.measurementId!==T.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pn=>sn.error(pn)),D.push(ze);const wt=So().then(pn=>{if(pn)return L.getId()}),[Pt,jn]=yield Promise.all([ze,wt]);En()||Tp(X,Pt.measurementId),q("js",new Date);const Ei=null!==(We=null==Ie?void 0:Ie.config)&&void 0!==We?We:{};return Ei.origin="firebase",Ei.update=!0,null!=jn&&(Ei[yl]=jn),q("config",Pt.measurementId,Ei),Pt.measurementId})).apply(this,arguments)}class wc{constructor(D){this.app=D}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},Tc=[];const Dc={};let Yu,Vt,ur="dataLayer",bi=!1;function Ic(T,D,k){!function(){const T=[];if((0,re.ru)()&&T.push("This is a browser extension environment."),(0,re.zI)()||T.push("Cookies are not available."),T.length>0){const D=T.map((L,q)=>`(${q+1}) ${L}`).join(" "),k=oi.create("invalid-analytics-context",{errorInfo:D});sn.warn(k.message)}}();const L=T.options.appId;if(!L)throw oi.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw oi.create("no-api-key");sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[L])throw oi.create("already-exists",{id:L});if(!bi){!function(T){let D=[];Array.isArray(window[T])?D=window[T]:window[T]=D}(ur);const{wrappedGtag:X,gtagCore:Ie}=function(T,D,k,L,q){let X=function(...Ie){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(X=window[q]),window[q]=function(T,D,k,L){function X(){return(X=(0,P.Z)(function*(Ie,We,ze){try{"event"===Ie?yield Gr(T,D,k,We,ze):"config"===Ie?yield Do(T,D,k,L,We,ze):T("set",We)}catch(wt){sn.error(wt)}})).apply(this,arguments)}return function(Ie,We,ze){return X.apply(this,arguments)}}(X,T,D,k),{gtagCore:X,wrappedGtag:window[q]}}(kr,Tc,Dc,ur,"gtag");Vt=X,Yu=Ie,bi=!0}return kr[L]=function(T,D,k,L,q,X,Ie){return Wr.apply(this,arguments)}(T,Tc,Dc,D,Yu,ur,k),new wc(T)}function Aa(){return(Aa=(0,P.Z)(function*(T,D,k,L,q){if(q&&q.global)T("event",k,L);else{const X=yield D;T("event",k,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function an(){return wl.apply(this,arguments)}function wl(){return(wl=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(T){return!1}})).apply(this,arguments)}const Ac="@firebase/analytics";(0,se._registerComponent)(new he.wA(Ts,(D,{options:k})=>Ic(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,se._registerComponent)(new he.wA("analytics-internal",function(D){try{const k=D.getProvider(Ts).getImmediate();return{logEvent:(L,q,X)=>function(T,D,k,L){T=(0,re.m9)(T),function(T,D,k,L,q){return Aa.apply(this,arguments)}(Vt,kr[T.app.options.appId],D,k,L).catch(q=>sn.error(q))}(k,L,q,X)}}catch(k){throw oi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,se.registerVersion)(Ac,"0.7.5"),(0,se.registerVersion)(Ac,"0.7.5","esm2017");var Tn=O(2869),ko=O(8843);const li=new class extends ko.v{}(class extends Tn.o{constructor(D,k){super(D,k),this.scheduler=D,this.work=k}schedule(D,k=0){return k>0?super.schedule(D,k):(this.delay=k,this.state=D,this.scheduler.flush(this),this)}execute(D,k){return k>0||this.closed?super.execute(D,k):this._execute(D,k)}requestAsyncId(D,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,k,L):D.flush(this)}});var dr=O(2210),ed=O(7384),Tl=O(5222),Rr=O(4763);const Dl=new a.GfV("7.2.1"),Ds="__angularfire_symbol__analyticsIsSupportedValue",Ro="__angularfire_symbol__analyticsIsSupported",td="__angularfire_symbol__remoteConfigIsSupportedValue",Il="__angularfire_symbol__remoteConfigIsSupported",Oo="__angularfire_symbol__messagingIsSupportedValue",Ci="__angularfire_symbol__messagingIsSupported";function Ah(T,D,k){if(D){if(1===D.length)return D[0];const X=D.filter(Ie=>Ie.app===k);if(1===X.length)return X[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ro]||(globalThis[Ro]=an().then(T=>globalThis[Ds]=T).catch(()=>globalThis[Ds]=!1)),globalThis[Ci]||(globalThis[Ci]=vc().then(T=>globalThis[Oo]=T).catch(()=>globalThis[Oo]=!1)),globalThis[Il]||(globalThis[Il]=la().then(T=>globalThis[td]=T).catch(()=>globalThis[td]=!1));const Mh=(T,D)=>{const k=D?[D]:(0,Q.C6)(),L=[];return k.forEach(q=>{q.container.getProvider(T).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function Kr(){}class Po{constructor(D,k=li){this.zone=D,this.delegate=k}now(){return this.delegate.now()}schedule(D,k,L){const q=this.zone;return this.delegate.schedule(function(Ie){q.runGuarded(()=>{D.apply(this,[Ie])})},k,L)}}class No{constructor(D){this.zone=D,this.task=null}call(D,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kr,{},Kr,Kr)),k.pipe((0,ed.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ma=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Po(Zone.current)),this.insideAngular=k.run(()=>new Po(Zone.current,dr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function hr(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Qr(T){return hr(),function(T){return function(k){return(k=k.lift(new No(T.ngZone))).pipe((0,Tl.R)(T.outsideAngular),(0,Rr.Q)(T.insideAngular))}}(hr())(T)}},4213:($e,fe,O)=>{"use strict";O.d(fe,{BH:()=>Pe,LL:()=>ue,ZR:()=>Re,gQ:()=>Te,zI:()=>le,hu:()=>Q,g5:()=>P,US:()=>he,tV:()=>ae,h$:()=>J,$s:()=>Ot,r3:()=>$t,Sg:()=>De,ne:()=>Vn,p$:()=>H,vZ:()=>jt,ZB:()=>j,gK:()=>Un,pd:()=>Dr,m9:()=>ea,z$:()=>ke,GJ:()=>Ni,jU:()=>Z,ru:()=>ce,xb:()=>vn,w1:()=>je,hl:()=>it,uI:()=>Qe,UG:()=>de,Yr:()=>He,b$:()=>Se,w9:()=>$n,cI:()=>zn,UI:()=>Fi,xO:()=>go,zd:()=>tr,DV:()=>Vs,ug:()=>en,dS:()=>_o,Pz:()=>pt,Dv:()=>mi,Wj:()=>bn,lb:()=>cn,eu:()=>ne});const Q=function($,U){if(!$)throw P(U)},P=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},se=function($){const U=[];let G=0;for(let _e=0;_e<$.length;_e++){let te=$.charCodeAt(_e);te<128?U[G++]=te:te<2048?(U[G++]=te>>6|192,U[G++]=63&te|128):55296==(64512&te)&&_e+1<$.length&&56320==(64512&$.charCodeAt(_e+1))?(te=65536+((1023&te)<<10)+(1023&$.charCodeAt(++_e)),U[G++]=te>>18|240,U[G++]=te>>12&63|128,U[G++]=te>>6&63|128,U[G++]=63&te|128):(U[G++]=te>>12|224,U[G++]=te>>6&63|128,U[G++]=63&te|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,U){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let te=0;te<$.length;te+=3){const Ge=$[te],ye=te+1<$.length,pe=ye?$[te+1]:0,Be=te+2<$.length,Je=Be?$[te+2]:0;let Yt=(15&pe)<<2|Je>>6,Wn=63&Je;Be||(Wn=64,ye||(Yt=64)),_e.push(G[Ge>>2],G[(3&Ge)<<4|pe>>4],G[Yt],G[Wn])}return _e.join("")},encodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa($):this.encodeByteArray(se($),U)},decodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?atob($):function($){const U=[];let G=0,_e=0;for(;G<$.length;){const te=$[G++];if(te<128)U[_e++]=String.fromCharCode(te);else if(te>191&&te<224){const Ge=$[G++];U[_e++]=String.fromCharCode((31&te)<<6|63&Ge)}else if(te>239&&te<365){const Be=((7&te)<<18|(63&$[G++])<<12|(63&$[G++])<<6|63&$[G++])-65536;U[_e++]=String.fromCharCode(55296+(Be>>10)),U[_e++]=String.fromCharCode(56320+(1023&Be))}else{const Ge=$[G++],ye=$[G++];U[_e++]=String.fromCharCode((15&te)<<12|(63&Ge)<<6|63&ye)}}return U.join("")}(this.decodeStringToByteArray($,U))},decodeStringToByteArray($,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let te=0;te<$.length;){const Ge=G[$.charAt(te++)],pe=te<$.length?G[$.charAt(te)]:0;++te;const Je=te<$.length?G[$.charAt(te)]:64;++te;const rt=te<$.length?G[$.charAt(te)]:64;if(++te,null==Ge||null==pe||null==Je||null==rt)throw Error();_e.push(Ge<<2|pe>>4),64!==Je&&(_e.push(pe<<4&240|Je>>2),64!==rt&&_e.push(Je<<6&192|rt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},J=function($){const U=se($);return he.encodeByteArray(U,!0)},oe=function($){return J($).replace(/\./g,"")},ae=function($){try{return he.decodeString($,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function H($){return j(void 0,$)}function j($,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return U}for(const G in U)!U.hasOwnProperty(G)||!Y(G)||($[G]=j($[G],U[G]));return $}function Y($){return"__proto__"!==$}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,_e)=>{G?this.reject(G):this.resolve(_e),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,_e))}}}function De($,U){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=U||"demo-project",te=$.iat||0,Ge=$.sub||$.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:te,exp:te+3600,auth_time:te,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},$);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(ye)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function Z(){return"object"==typeof self&&self.self===self}function ce(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){const $=ke();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function He(){return!1}function it(){return"object"==typeof indexedDB}function ne(){return new Promise(($,U)=>{try{let G=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(_e);te.onsuccess=()=>{te.result.close(),G||self.indexedDB.deleteDatabase(_e),$(!0)},te.onupgradeneeded=()=>{G=!1},te.onerror=()=>{var Ge;U((null===(Ge=te.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(G){U(G)}})}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Re extends Error{constructor(U,G,_e){super(G),this.code=U,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(U,G,_e){this.service=U,this.serviceName=G,this.errors=_e}create(U,...G){const _e=G[0]||{},te=`${this.service}/${U}`,Ge=this.errors[U],ye=Ge?function($,U){return $.replace(Lt,(G,_e)=>{const te=U[_e];return null!=te?String(te):`<${_e}?>`})}(Ge,_e):"Error";return new Re(te,`${this.serviceName}: ${ye} (${te}).`,_e)}}const Lt=/\{\$([^}]+)}/g;function zn($){return JSON.parse($)}function pt($){return JSON.stringify($)}const Et=function($){let U={},G={},_e={},te="";try{const Ge=$.split(".");U=zn(ae(Ge[0])||""),G=zn(ae(Ge[1])||""),te=Ge[2],_e=G.d||{},delete G.d}catch(Ge){}return{header:U,claims:G,data:_e,signature:te}},$n=function($){const G=Et($).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Ni=function($){const U=Et($).claims;return"object"==typeof U&&!0===U.admin};function $t($,U){return Object.prototype.hasOwnProperty.call($,U)}function Vs($,U){if(Object.prototype.hasOwnProperty.call($,U))return $[U]}function vn($){for(const U in $)if(Object.prototype.hasOwnProperty.call($,U))return!1;return!0}function Fi($,U,G){const _e={};for(const te in $)Object.prototype.hasOwnProperty.call($,te)&&(_e[te]=U.call(G,$[te],te,$));return _e}function jt($,U){if($===U)return!0;const G=Object.keys($),_e=Object.keys(U);for(const te of G){if(!_e.includes(te))return!1;const Ge=$[te],ye=U[te];if(Bt(Ge)&&Bt(ye)){if(!jt(Ge,ye))return!1}else if(Ge!==ye)return!1}for(const te of _e)if(!G.includes(te))return!1;return!0}function Bt($){return null!==$&&"object"==typeof $}function go($){const U=[];for(const[G,_e]of Object.entries($))Array.isArray(_e)?_e.forEach(te=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent(te))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(_e));return U.length?"&"+U.join("&"):""}function tr($){const U={};return $.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[te,Ge]=_e.split("=");U[decodeURIComponent(te)]=decodeURIComponent(Ge)}}),U}function Dr($){const U=$.indexOf("?");if(!U)return"";const G=$.indexOf("#",U);return $.substring(U,G>0?G:void 0)}class Te{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,G){G||(G=0);const _e=this.W_;if("string"==typeof U)for(let rt=0;rt<16;rt++)_e[rt]=U.charCodeAt(G)<<24|U.charCodeAt(G+1)<<16|U.charCodeAt(G+2)<<8|U.charCodeAt(G+3),G+=4;else for(let rt=0;rt<16;rt++)_e[rt]=U[G]<<24|U[G+1]<<16|U[G+2]<<8|U[G+3],G+=4;for(let rt=16;rt<80;rt++){const Yt=_e[rt-3]^_e[rt-8]^_e[rt-14]^_e[rt-16];_e[rt]=4294967295&(Yt<<1|Yt>>>31)}let Je,bt,te=this.chain_[0],Ge=this.chain_[1],ye=this.chain_[2],pe=this.chain_[3],Be=this.chain_[4];for(let rt=0;rt<80;rt++){rt<40?rt<20?(Je=pe^Ge&(ye^pe),bt=1518500249):(Je=Ge^ye^pe,bt=1859775393):rt<60?(Je=Ge&ye|pe&(Ge|ye),bt=2400959708):(Je=Ge^ye^pe,bt=3395469782);const Yt=(te<<5|te>>>27)+Je+Be+bt+_e[rt]&4294967295;Be=pe,pe=ye,ye=4294967295&(Ge<<30|Ge>>>2),Ge=te,te=Yt}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+ye&4294967295,this.chain_[3]=this.chain_[3]+pe&4294967295,this.chain_[4]=this.chain_[4]+Be&4294967295}update(U,G){if(null==U)return;void 0===G&&(G=U.length);const _e=G-this.blockSize;let te=0;const Ge=this.buf_;let ye=this.inbuf_;for(;te<G;){if(0===ye)for(;te<=_e;)this.compress_(U,te),te+=this.blockSize;if("string"==typeof U){for(;te<G;)if(Ge[ye]=U.charCodeAt(te),++ye,++te,ye===this.blockSize){this.compress_(Ge),ye=0;break}}else for(;te<G;)if(Ge[ye]=U[te],++ye,++te,ye===this.blockSize){this.compress_(Ge),ye=0;break}}this.inbuf_=ye,this.total_+=G}digest(){const U=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&G,G/=256;this.compress_(this.buf_);let _e=0;for(let te=0;te<5;te++)for(let Ge=24;Ge>=0;Ge-=8)U[_e]=this.chain_[te]>>Ge&255,++_e;return U}}function Vn($,U){const G=new Bn($,U);return G.subscribe.bind(G)}class Bn{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(_e=>{this.error(_e)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,_e){let te;if(void 0===U&&void 0===G&&void 0===_e)throw new Error("Missing Observer.");te=function($,U){if("object"!=typeof $||null===$)return!1;for(const G of["next","error","complete"])if(G in $&&"function"==typeof $[G])return!0;return!1}(U)?U:{next:U,error:G,complete:_e},void 0===te.next&&(te.next=nr),void 0===te.error&&(te.error=nr),void 0===te.complete&&(te.complete=nr);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(ye){}}),this.observers.push(te),Ge}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(_e){"undefined"!=typeof console&&console.error&&console.error(_e)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}const mi=function($,U,G,_e){let te;if(_e<U?te="at least "+U:_e>G&&(te=0===G?"none":"no more than "+G),te)throw new Error($+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+te+".")};function Un($,U){return`${$} failed: ${U} argument `}function bn($,U,G,_e){if((!_e||G)&&"function"!=typeof G)throw new Error(Un($,U)+"must be a valid function.")}function cn($,U,G,_e){if((!_e||G)&&("object"!=typeof G||null===G))throw new Error(Un($,U)+"must be a valid context object.")}const _o=function($){const U=[];let G=0;for(let _e=0;_e<$.length;_e++){let te=$.charCodeAt(_e);if(te>=55296&&te<=56319){const Ge=te-55296;_e++,Q(_e<$.length,"Surrogate pair missing trail surrogate."),te=65536+(Ge<<10)+($.charCodeAt(_e)-56320)}te<128?U[G++]=te:te<2048?(U[G++]=te>>6|192,U[G++]=63&te|128):te<65536?(U[G++]=te>>12|224,U[G++]=te>>6&63|128,U[G++]=63&te|128):(U[G++]=te>>18|240,U[G++]=te>>12&63|128,U[G++]=te>>6&63|128,U[G++]=63&te|128)}return U},en=function($){let U=0;for(let G=0;G<$.length;G++){const _e=$.charCodeAt(G);_e<128?U++:_e<2048?U+=2:_e>=55296&&_e<=56319?(U+=4,G++):U+=3}return U};function Ot($,U=1e3,G=2){const _e=U*Math.pow(G,$),te=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+te)}function ea($){return $&&$._delegate?$._delegate:$}},7713:($e,fe,O)=>{"use strict";O.d(fe,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=O(1572);(0,a.registerVersion)("firebase","9.6.8","app")},7892:($e,fe,O)=>{"use strict";O.d(fe,{Z:()=>a.Z});var a=O(6293);a.Z.registerVersion("firebase","9.6.8","app-compat")},8694:($e,fe,O)=>{"use strict";O.r(fe);var a=O(8239),Q=O(6293),P=O(4213),se=O(1572);function oe(_,f){var p={};for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&f.indexOf(b)<0&&(p[b]=_[b]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(b=Object.getOwnPropertySymbols(_);I<b.length;I++)f.indexOf(b[I])<0&&Object.prototype.propertyIsEnumerable.call(_,b[I])&&(p[b[I]]=_[b[I]])}return p}var Re=O(3855),ue=O(1177);const $n=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ni=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$t=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vn=new Re.Yd("@firebase/auth");function Fi(_,...f){vn.logLevel<=Re.in.ERROR&&vn.error(`Auth (${se.SDK_VERSION}): ${_}`,...f)}function jt(_,...f){throw Dr(_,...f)}function Bt(_,...f){return Dr(_,...f)}function go(_,f,p){const b=Object.assign(Object.assign({},Ni()),{[f]:p});return new P.LL("auth","Firebase",b).create(f,{appName:_.name})}function tr(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&jt(_,"argument-error"),go(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dr(_,...f){if("string"!=typeof _){const p=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(p,...b)}return $t.create(_,...f)}function Te(_,f,...p){if(!_)throw Dr(f,...p)}function Vn(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Fi(f),new Error(f)}function Bn(_,f){_||Vn(f)}const ot=new Map;function xt(_){Bn(_ instanceof Function,"Expected a class definition");let f=ot.get(_);return f?(Bn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ot.set(_,f),f)}function Un(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Bs(){return"http:"===bn()||"https:"===bn()}function bn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class en{constructor(f,p){this.shortDelay=f,this.longDelay=p,Bn(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bs()||(0,P.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function qe(_,f){Bn(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class at{static initialize(f,p,b){this.fetchImpl=f,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Us={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ir=new en(3e4,6e4);function Ot(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function ct(_,f,p,b){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(_,f,p,b,I={}){return ea(_,I,(0,a.Z)(function*(){let M={},B={};b&&("GET"===f?B=b:M={body:JSON.stringify(b)});const ie=(0,P.xO)(Object.assign({key:_.config.apiKey},B)).slice(1),xe=yield _._getAdditionalHeaders();return xe["Content-Type"]="application/json",_.languageCode&&(xe["X-Firebase-Locale"]=_.languageCode),at.fetch()(_e(_,_.config.apiHost,p,ie),Object.assign({method:f,headers:xe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ea(_,f,p){return $.apply(this,arguments)}function $(){return($=(0,a.Z)(function*(_,f,p){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Us),f);try{const I=new te(_),M=yield Promise.race([p(),I.promise]);I.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw Ge(_,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const ie=M.ok?B.errorMessage:B.error.message,[xe,Me]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw Ge(_,"credential-already-in-use",B);if("EMAIL_EXISTS"===xe)throw Ge(_,"email-already-in-use",B);const et=b[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw go(_,et,Me);jt(_,et)}}catch(I){if(I instanceof P.ZR)throw I;jt(_,"network-request-failed")}})).apply(this,arguments)}function U(_,f,p,b){return G.apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(_,f,p,b,I={}){const M=yield ct(_,f,p,b,I);return"mfaPendingCredential"in M&&jt(_,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function _e(_,f,p,b){const I=`${f}${p}?${b}`;return _.config.emulator?qe(_.config,I):`${_.config.apiScheme}://${I}`}class te{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(Bt(this.auth,"network-request-failed")),Ir.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ge(_,f,p){const b={appName:_.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const I=Bt(_,f,b);return I.customData._tokenResponse=p,I}function pe(){return(pe=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Be(_,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bt(_,f){return rt.apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Yt(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function na(){return(na=(0,a.Z)(function*(_,f=!1){const p=(0,P.m9)(_),b=yield p.getIdToken(f),I=Hs(b);Te(I&&I.exp&&I.auth_time&&I.iat,p.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,B=null==M?void 0:M.sign_in_provider;return{claims:I,token:b,authTime:Yt(rl(I.auth_time)),issuedAtTime:Yt(rl(I.iat)),expirationTime:Yt(rl(I.exp)),signInProvider:B||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function rl(_){return 1e3*Number(_)}function Hs(_){const[f,p,b]=_.split(".");if(void 0===f||void 0===p||void 0===b)return Fi("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,P.tV)(p);return I?JSON.parse(I):(Fi("Failed to decode base64 JWT payload"),null)}catch(I){return Fi("Caught error parsing JWT payload as JSON",I),null}}function tn(_,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&Li(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Li({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Zn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield p.iteration()}),b)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class Vi{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yt(this.lastLoginAt),this.creationTime=Yt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Le(_){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(_){var f;const p=_.auth,b=yield _.getIdToken(),I=yield tn(_,bt(p,{idToken:b}));Te(null==I?void 0:I.users.length,p,"internal-error");const M=I.users[0];_._notifyReloadListener(M);const B=(null===(f=M.providerUserInfo)||void 0===f?void 0:f.length)?xn(M.providerUserInfo):[],ie=rr(_.providerData,B),et=!!_.isAnonymous&&!(_.email&&M.passwordHash||(null==ie?void 0:ie.length)),Xe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ie,metadata:new Vi(M.createdAt,M.lastLoginAt),isAnonymous:et};Object.assign(_,Xe)})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(_){const f=(0,P.m9)(_);yield Le(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function rr(_,f){return[..._.filter(b=>!f.some(I=>I.providerId===b.providerId)),...f]}function xn(_){return _.map(f=>{var{providerId:p}=f,b=oe(f,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function fn(){return(fn=(0,a.Z)(function*(_,f){const p=yield ea(_,{},(0,a.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:M}=_.config,B=_e(_,I,"/v1/token",`key=${M}`),ie=yield _._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",at.fetch()(B,{method:"POST",headers:ie,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Te(f.idToken,"internal-error"),Te(void 0!==f.idToken,"internal-error"),Te(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=Hs(_);return Te(f,"internal-error"),Te(void 0!==f.exp,"internal-error"),Te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var b=this;return(0,a.Z)(function*(){return Te(!b.accessToken||b.refreshToken,f,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var b=this;return(0,a.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:B}=yield function(_,f){return fn.apply(this,arguments)}(f,p);b.updateTokensAndExpiration(I,M,Number(B))})()}updateTokensAndExpiration(f,p,b){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,p){const{refreshToken:b,accessToken:I,expirationTime:M}=p,B=new sr;return b&&(Te("string"==typeof b,"internal-error",{appName:f}),B.refreshToken=b),I&&(Te("string"==typeof I,"internal-error",{appName:f}),B.accessToken=I),M&&(Te("number"==typeof M,"internal-error",{appName:f}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new sr,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Di(_,f){Te("string"==typeof _||void 0===_,"internal-error",{appName:f})}class lt{constructor(f){var{uid:p,auth:b,stsTokenManager:I}=f,M=oe(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Vi(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,a.Z)(function*(){const b=yield tn(p,p.stsTokenManager.getToken(p.auth,f));return Te(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(f){return function(_){return na.apply(this,arguments)}(this,f)}reload(){return function(_){return ri.apply(this,arguments)}(this)}_assign(f){this!==f&&(Te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new lt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var b=this;return(0,a.Z)(function*(){let I=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),I=!0),p&&(yield Le(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,a.Z)(function*(){const p=yield f.getIdToken();return yield tn(f,function(_,f){return pe.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var b,I,M,B,ie,xe,Me,et;const Xe=null!==(b=p.displayName)&&void 0!==b?b:void 0,It=null!==(I=p.email)&&void 0!==I?I:void 0,ln=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,xs=null!==(B=p.photoURL)&&void 0!==B?B:void 0,Ll=null!==(ie=p.tenantId)&&void 0!==ie?ie:void 0,tf=null!==(xe=p._redirectEventId)&&void 0!==xe?xe:void 0,za=null!==(Me=p.createdAt)&&void 0!==Me?Me:void 0,nf=null!==(et=p.lastLoginAt)&&void 0!==et?et:void 0,{uid:Ed,emailVerified:rf,isAnonymous:sf,providerData:Hc,stsTokenManager:af}=p;Te(Ed&&af,f,"internal-error");const $a=sr.fromJSON(this.name,af);Te("string"==typeof Ed,f,"internal-error"),Di(Xe,f.name),Di(It,f.name),Te("boolean"==typeof rf,f,"internal-error"),Te("boolean"==typeof sf,f,"internal-error"),Di(ln,f.name),Di(xs,f.name),Di(Ll,f.name),Di(tf,f.name),Di(za,f.name),Di(nf,f.name);const Vl=new lt({uid:Ed,auth:f,email:It,emailVerified:rf,displayName:Xe,isAnonymous:sf,photoURL:xs,phoneNumber:ln,tenantId:Ll,stsTokenManager:$a,createdAt:za,lastLoginAt:nf});return Hc&&Array.isArray(Hc)&&(Vl.providerData=Hc.map(jo=>Object.assign({},jo))),tf&&(Vl._redirectEventId=tf),Vl}static _fromIdTokenResponse(f,p,b=!1){return(0,a.Z)(function*(){const I=new sr;I.updateFromServerResponse(p);const M=new lt({uid:p.localId,auth:f,stsTokenManager:I,isAnonymous:b});return yield Le(M),M})()}}const Ii=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(p,b){var I=this;return(0,a.Z)(function*(){I.storage[p]=b})()}_get(p){var b=this;return(0,a.Z)(function*(){const I=b.storage[p];return void 0===I?null:I})()}_remove(p){var b=this;return(0,a.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return _.type="NONE",_})();function Si(_,f,p){return`firebase:${_}:${f}:${p}`}class Bi{constructor(f,p,b){this.persistence=f,this.auth=p,this.userKey=b;const{config:I,name:M}=this.auth;this.fullUserKey=Si(this.userKey,I.apiKey,M),this.fullPersistenceKey=Si("persistence",I.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?lt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,a.Z)(function*(){if(p.persistence===f)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,b="authUser"){return(0,a.Z)(function*(){if(!p.length)return new Bi(xt(Ii),f,b);const I=(yield Promise.all(p.map(function(){var Me=(0,a.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let M=I[0]||xt(Ii);const B=Si(b,f.config.apiKey,f.name);let ie=null;for(const Me of p)try{const et=yield Me._get(B);if(et){const Xe=lt._fromJSON(f,et);Me!==M&&(ie=Xe),M=Me;break}}catch(et){}const xe=I.filter(Me=>Me._shouldAllowMigration);return M._shouldAllowMigration&&xe.length?(M=xe[0],ie&&(yield M._set(B,ie.toJSON())),yield Promise.all(p.map(function(){var Me=(0,a.Z)(function*(et){if(et!==M)try{yield et._remove(B)}catch(Xe){}});return function(et){return Me.apply(this,arguments)}}())),new Bi(M,f,b)):new Bi(M,f,b)})()}}function Gt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Wt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ia(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(gs(f))return"Blackberry";if(sa(f))return"Webos";if(ms(f))return"Safari";if((f.includes("chrome/")||si(f))&&!f.includes("edge/"))return"Chrome";if(ra(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function ia(_=(0,P.z$)()){return/firefox\//i.test(_)}function ms(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function si(_=(0,P.z$)()){return/crios\//i.test(_)}function Wt(_=(0,P.z$)()){return/iemobile/i.test(_)}function ra(_=(0,P.z$)()){return/android/i.test(_)}function gs(_=(0,P.z$)()){return/blackberry/i.test(_)}function sa(_=(0,P.z$)()){return/webos/i.test(_)}function _s(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)}function Cn(_=(0,P.z$)()){return _s(_)||ra(_)||sa(_)||gs(_)||/windows phone/i.test(_)||Wt(_)}function Ai(_,f=[]){let p;switch(_){case"Browser":p=Gt((0,P.z$)());break;case"Worker":p=`${Gt((0,P.z$)())}-${_}`;break;default:p=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${b}`}class or{constructor(f,p){this.app=f,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(f,p){var b=this;return p&&(this._popupRedirectResolver=xt(p)),this._initializationPromise=this.queue((0,a.Z)(function*(){var I,M;if(!b._deleted&&(b.persistenceManager=yield Bi.create(b,f),!b._deleted)){if(null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(B){}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(M=b.currentUser)||void 0===M?void 0:M.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,a.Z)(function*(){var b;let I=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const M=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,B=null==I?void 0:I._redirectEventId,ie=yield p.tryRedirectSignIn(f);(!M||M===B)&&(null==ie?void 0:ie.user)&&(I=ie.user)}return I?I._redirectEventId?(Te(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===I._redirectEventId?p.directlySetCurrentUser(I):p.reloadAndSetCurrentUserOrClear(I)):p.reloadAndSetCurrentUserOrClear(I):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,a.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(I){yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,a.Z)(function*(){try{yield Le(f)}catch(b){if("auth/network-request-failed"!==b.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,a.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&Te(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,a.Z)(function*(){if(!p._deleted)return f&&Te(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,a.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,a.Z)(function*(){yield p.assertedPersistence.setPersistence(xt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,p,b){return this.registerStateListener(this.authStateSubscription,f,p,b)}onIdTokenChanged(f,p,b){return this.registerStateListener(this.idTokenSubscription,f,p,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var b=this;return(0,a.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(p);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,a.Z)(function*(){if(!p.redirectPersistenceManager){const b=f&&xt(f)||p._popupRedirectResolver;Te(b,p,"argument-error"),p.redirectPersistenceManager=yield Bi.create(p,[xt(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,a.Z)(function*(){var b,I;return p._isInitialized&&(yield p.queue((0,a.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===f?p._currentUser:(null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,a.Z)(function*(){if(f===p.currentUser)return p.queue((0,a.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,b,I){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p),B=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(B,this,"internal-error"),B.then(()=>M(this.currentUser)),"function"==typeof p?f.addObserver(p,b,I):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,a.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){const p={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(p["X-Firebase-gmpid"]=f.app.options.appId),p})()}}function Pn(_){return(0,P.m9)(_)}class Ur{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ui(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function _p(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class yo{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Vn("not implemented")}_getIdTokenResponse(f){return Vn("not implemented")}_linkToIdToken(f,p){return Vn("not implemented")}_getReauthenticationResolver(f){return Vn("not implemented")}}function mh(_,f){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:resetPassword",Ot(_,f))})).apply(this,arguments)}function gh(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yp(_,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:update",Ot(_,f))})).apply(this,arguments)}function Nu(){return(Nu=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithPassword",Ot(_,f))})).apply(this,arguments)}function uc(_,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:sendOobCode",Ot(_,f))})).apply(this,arguments)}function vp(_,f){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,a.Z)(function*(_,f){return uc(_,f)})).apply(this,arguments)}function bp(_,f){return _h.apply(this,arguments)}function _h(){return(_h=(0,a.Z)(function*(_,f){return uc(_,f)})).apply(this,arguments)}function al(_,f){return la.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(_,f){return uc(_,f)})).apply(this,arguments)}function dc(_,f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,a.Z)(function*(_,f){return uc(_,f)})).apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,f))})).apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithEmailLink",Ot(_,f))})).apply(this,arguments)}class bo extends yo{constructor(f,p,b,I=null){super("password",b),this._email=f,this._password=p,this._tenantId=I}static _fromEmailAndPassword(f,p){return new bo(f,p,"password")}static _fromEmailAndCode(f,p,b=null){return new bo(f,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,a.Z)(function*(){switch(p.signInMethod){case"password":return function(_,f){return Nu.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(_,f){return Sr.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:jt(f,"internal-error")}})()}_linkToIdToken(f,p){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return gh(f,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(_,f){return vs.apply(this,arguments)}(f,{idToken:p,email:b._email,oobCode:b._password});default:jt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function bs(_,f){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithIdp",Ot(_,f))})).apply(this,arguments)}class qn extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new qn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):jt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I}=p,M=oe(p,["providerId","signInMethod"]);if(!b||!I)return null;const B=new qn(b,I);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(f){return bs(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,bs(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,bs(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,P.xO)(p)}return f}}function Hr(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:sendVerificationCode",Ot(_,f))})).apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,f))})).apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(_,f){const p=yield U(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,f));if(p.temporaryProof)throw Ge(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ll={USER_NOT_FOUND:"user-not-found"};function ua(){return(ua=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithPhoneNumber",Ot(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ll)})).apply(this,arguments)}class $s extends yo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new $s({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new $s({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function(_,f){return _i.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function(_,f){return pc.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return ua.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:b,verificationCode:I}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:b,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:b,phoneNumber:I,temporaryProof:M}=f;return b||p||I||M?new $s({verificationId:p,verificationCode:b,phoneNumber:I,temporaryProof:M}):null}}class Gs{constructor(f){var p,b,I,M,B,ie;const xe=(0,P.zd)((0,P.pd)(f)),Me=null!==(p=xe.apiKey)&&void 0!==p?p:null,et=null!==(b=xe.oobCode)&&void 0!==b?b:null,Xe=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=xe.mode)&&void 0!==I?I:null);Te(Me&&et&&Xe,"argument-error"),this.apiKey=Me,this.operation=Xe,this.code=et,this.continueUrl=null!==(M=xe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(B=xe.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(ie=xe.tenantId)&&void 0!==ie?ie:null}static parseLink(f){const p=function(_){const f=(0,P.zd)((0,P.pd)(_)).link,p=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||p||f||_}(f);try{return new Gs(p)}catch(b){return null}}}let Ws=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,b){return bo._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const I=Gs.parseLink(b);return Te(I,"argument-error"),bo._fromEmailAndCode(p,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class yi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class lr extends yi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Mn extends lr{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Te("providerId"in p&&"signInMethod"in p,"argument-error"),qn._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Te(f.idToken||f.accessToken,"argument-error"),qn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Mn.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Mn.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:M,nonce:B,providerId:ie}=f;if(!b&&!I&&!p&&!M||!ie)return null;try{return new Mn(ie)._credential({idToken:p,accessToken:b,nonce:B,pendingToken:M})}catch(xe){return null}}}let cl=(()=>{class _ extends lr{constructor(){super("facebook.com")}static credential(p){return qn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Zs=(()=>{class _ extends lr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,b){return qn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:b})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:b,oauthAccessToken:I}=p;if(!b&&!I)return null;try{return _.credential(b,I)}catch(M){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),qs=(()=>{class _ extends lr{constructor(){super("github.com")}static credential(p){return qn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class jr extends yo{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return bs(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,bs(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,bs(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I,pendingToken:M}=p;return b&&I&&M&&b===I?new jr(b,M):null}static _create(f,p){return new jr(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ys extends yi{constructor(f){Te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ys.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ys.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=jr.fromJSON(f);return Te(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:b}=f;if(!p||!b)return null;try{return jr._create(b,p)}catch(I){return null}}}let vi=(()=>{class _ extends lr{constructor(){super("twitter.com")}static credential(p,b){return qn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:b})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=p;if(!b||!I)return null;try{return _.credential(b,I)}catch(M){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ha(_,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signUp",Ot(_,f))})).apply(this,arguments)}class Ye{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,b,I=!1){return(0,a.Z)(function*(){const M=yield lt._fromIdTokenResponse(f,b,I),B=ul(b);return new Ye({user:M,providerId:B,_tokenResponse:b,operationType:p})})()}static _forOperation(f,p,b){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const I=ul(b);return new Ye({user:f,providerId:I,_tokenResponse:b,operationType:p})})()}}function ul(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Co(){return(Co=(0,a.Z)(function*(_){var f;const p=Pn(_);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new Ye({user:p.currentUser,providerId:null,operationType:"signIn"});const b=yield ha(p,{returnSecureToken:!0}),I=yield Ye._fromIdTokenResponse(p,"signIn",b,!0);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class pa extends P.ZR{constructor(f,p,b,I){var M;super(p.code,p.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,pa.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,p,b,I){return new pa(f,p,b,I)}}function dl(_,f,p,b){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?pa._fromErrorAndOperation(_,M,f,b):M})}function hl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Ee(){return(Ee=(0,a.Z)(function*(_,f){const p=(0,P.m9)(_);yield dn(!0,p,f);const{providerUserInfo:b}=yield Be(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),I=hl(b||[]);return p.providerData=p.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function At(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(_,f,p=!1){const b=yield tn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return Ye._forOperation(_,"link",b)})).apply(this,arguments)}function dn(_,f,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,a.Z)(function*(_,f,p){yield Le(f);const I=!1===_?"provider-already-linked":"no-such-provider";Te(hl(f.providerData).has(p)===_,f.auth,I)})).apply(this,arguments)}function $r(_,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(_,f,p=!1){const{auth:b}=_,I="reauthenticate";try{const M=yield tn(_,dl(b,I,f,_),p);Te(M.idToken,b,"internal-error");const B=Hs(M.idToken);Te(B,b,"internal-error");const{sub:ie}=B;return Te(_.uid===ie,b,"user-mismatch"),Ye._forOperation(_,I,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&jt(b,"user-mismatch"),M}})).apply(this,arguments)}function fl(_,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,a.Z)(function*(_,f,p=!1){const b="signIn",I=yield dl(_,b,f),M=yield Ye._fromIdTokenResponse(_,b,I);return p||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function gc(_,f){return _c.apply(this,arguments)}function _c(){return(_c=(0,a.Z)(function*(_,f){return fl(Pn(_),f)})).apply(this,arguments)}function ga(_,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(_,f){const p=(0,P.m9)(_);return yield dn(!1,p,f.providerId),At(p,f)})).apply(this,arguments)}function Hn(_,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(_,f){return $r((0,P.m9)(_),f)})).apply(this,arguments)}function _a(_,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(_,f){return U(_,"POST","/v1/accounts:signInWithCustomToken",Ot(_,f))})).apply(this,arguments)}function ya(){return(ya=(0,a.Z)(function*(_,f){const p=Pn(_),b=yield _a(p,{token:f,returnSecureToken:!0}),I=yield Ye._fromIdTokenResponse(p,"signIn",b);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class va{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?ba._fromServerResponse(f,p):jt(f,"internal-error")}}class ba extends va{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new ba(p)}}function pl(_,f,p){var b;Te((null===(b=p.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),Te(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Te(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Te(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Eo(){return(Eo=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_),I={requestType:"PASSWORD_RESET",email:f};p&&pl(b,I,p),yield bp(b,I)})).apply(this,arguments)}function wo(){return(wo=(0,a.Z)(function*(_,f,p){yield mh((0,P.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(_,f){yield yp((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function _l(_,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(_,f){const p=(0,P.m9)(_),b=yield mh(p,{oobCode:f}),I=b.requestType;switch(Te(I,p,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(b.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(b.mfaInfo,p,"internal-error");default:Te(b.email,p,"internal-error")}let M=null;return b.mfaInfo&&(M=va._fromServerResponse(Pn(p),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function wa(){return(wa=(0,a.Z)(function*(_,f){const{data:p}=yield _l((0,P.m9)(_),f);return p.email})).apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(_,f,p){const b=Pn(_),I=yield ha(b,{returnSecureToken:!0,email:f,password:p}),M=yield Ye._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_),I={requestType:"EMAIL_SIGNIN",email:f};Te(p.handleCodeInApp,b,"argument-error"),p&&pl(b,I,p),yield al(b,I)})).apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_),I=Ws.credentialWithLink(f,p||Un());return Te(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),gc(b,I)})).apply(this,arguments)}function vh(_,f){return $u.apply(this,arguments)}function $u(){return($u=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:createAuthUri",Ot(_,f))})).apply(this,arguments)}function bh(){return(bh=(0,a.Z)(function*(_,f){const b={identifier:f,continueUri:Bs()?Un():"http://localhost"},{signinMethods:I}=yield vh((0,P.m9)(_),b);return I||[]})).apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(_,f){const p=(0,P.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&pl(p.auth,I,f);const{email:M}=yield vp(p.auth,I);M!==_.email&&(yield _.reload())})).apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&pl(b.auth,M,p);const{email:B}=yield dc(b.auth,M);B!==_.email&&(yield _.reload())})).apply(this,arguments)}function Wu(_,f){return bc.apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const b=(0,P.m9)(_),M={idToken:yield b.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},B=yield tn(b,Wu(b.auth,M));b.displayName=B.displayName||null,b.photoURL=B.photoUrl||null;const ie=b.providerData.find(({providerId:xe})=>"password"===xe);ie&&(ie.displayName=b.displayName,ie.photoURL=b.photoURL),yield b._updateTokensIfNecessary(B)})).apply(this,arguments)}function Ch(_,f,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(_,f,p){const{auth:b}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(M.email=f),p&&(M.password=p);const B=yield tn(_,gh(b,M));yield _._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Gr{constructor(f,p,b={}){this.isNewUser=f,this.providerId=p,this.profile=b}}class bl extends Gr{constructor(f,p,b,I){super(f,p,b),this.username=I}}class Eh extends Gr{constructor(f,p){super(f,"facebook.com",p)}}class Rg extends bl{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class En extends Gr{constructor(f,p){super(f,"google.com",p)}}class kn extends bl{constructor(f,p,b){super(f,"twitter.com",p,b)}}function oi(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,p;if(!_)return null;const{providerId:b}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const B=null===(p=null===(f=Hs(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new Gr(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!b)return null;switch(b){case"facebook.com":return new Eh(M,I);case"github.com":return new Rg(M,I);case"google.com":return new En(M,I);case"twitter.com":return new kn(M,I,_.screenName||null);case"custom":case"anonymous":return new Gr(M,null);default:return new Gr(M,b,I)}}(p)}class Ke{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Ke("enroll",f)}static _fromMfaPendingCredential(f){return new Ke("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,b;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Ke._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Ke._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Sa{constructor(f,p,b){this.session=f,this.hints=p,this.signInResolver=b}static _fromError(f,p){const b=Pn(f),I=p.customData._serverResponse,M=(I.mfaInfo||[]).map(ie=>va._fromServerResponse(b,ie));Te(I.mfaPendingCredential,b,"internal-error");const B=Ke._fromMfaPendingCredential(I.mfaPendingCredential);return new Sa(B,M,function(){var ie=(0,a.Z)(function*(xe){const Me=yield xe._process(b,B);delete I.mfaInfo,delete I.mfaPendingCredential;const et=Object.assign(Object.assign({},I),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(p.operationType){case"signIn":const Xe=yield Ye._fromIdTokenResponse(b,p.operationType,et);return yield b._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return Te(p.user,b,"internal-error"),Ye._forOperation(p.user,p.operationType,et);default:jt(b,"internal-error")}});return function(xe){return ie.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,a.Z)(function*(){return p.signInResolver(f)})()}}function Ec(_,f){return ct(_,"POST","/v2/accounts/mfaEnrollment:start",Ot(_,f))}class So{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(b=>va._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new So(f)}getSession(){var f=this;return(0,a.Z)(function*(){return Ke._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var b=this;return(0,a.Z)(function*(){const I=f,M=yield b.getSession(),B=yield tn(b.user,I._process(b.user.auth,M,p));return yield b.user._updateTokensIfNecessary(B),b.user.reload()})()}unenroll(f){var p=this;return(0,a.Z)(function*(){const b="string"==typeof f?f:f.uid,I=yield p.user.getIdToken(),M=yield tn(p.user,function(_,f){return ct(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(_,f))}(p.user.auth,{idToken:I,mfaEnrollmentId:b}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==b),yield p.user._updateTokensIfNecessary(M);try{yield p.user.reload()}catch(B){if("auth/user-token-expired"!==B.code)throw B}})()}}const Mi=new WeakMap,Wr="__sak";class wc{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Wr,"1"),this.storage.removeItem(Wr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ji=(()=>{class _ extends wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,P.z$)();return ms(_)||_s(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),M=this.localCache[b];I!==M&&p(b,M,I)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((ie,xe,Me)=>{this.notifyListeners(ie,Me)});const I=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(I);if(p.newValue!==ie)null!==p.newValue?this.storage.setItem(I,p.newValue):this.storage.removeItem(I);else if(this.localCache[I]===p.newValue&&!b)return}const M=()=>{const ie=this.storage.getItem(I);!b&&this.localCache[I]===ie||this.notifyListeners(I,ie)},B=this.storage.getItem(I);(0,P.w1)()&&10===document.documentMode&&B!==p.newValue&&p.newValue!==p.oldValue?setTimeout(M,10):M()}notifyListeners(p,b){this.localCache[p]=b;const I=this.listeners[p];if(I)for(const M of Array.from(I))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var I=()=>super._set,M=this;return(0,a.Z)(function*(){yield I().call(M,p,b),M.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,I=this;return(0,a.Z)(function*(){const M=yield b().call(I,p);return I.localCache[p]=JSON.stringify(M),M})()}_remove(p){var b=()=>super._remove,I=this;return(0,a.Z)(function*(){yield b().call(I,p),delete I.localCache[p]})()}}return _.type="LOCAL",_})(),Vt=(()=>{class _ extends wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return _.type="SESSION",_})();let Ip=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(M=>M.isListeningto(p));if(b)return b;const I=new _(p);return this.receivers.push(I),I}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,a.Z)(function*(){const I=p,{eventId:M,eventType:B,data:ie}=I.data,xe=b.handlersMap[B];if(!(null==xe?void 0:xe.size))return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:B});const Me=Array.from(xe).map(function(){var Xe=(0,a.Z)(function*(It){return It(I.origin,ie)});return function(It){return Xe.apply(this,arguments)}}()),et=yield function(_){return Promise.all(_.map(function(){var f=(0,a.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return f.apply(this,arguments)}}()))}(Me);I.ports[0].postMessage({status:"done",eventId:M,eventType:B,response:et})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function wn(_="",f=10){let p="";for(let b=0;b<f;b++)p+=Math.floor(10*Math.random());return _+p}class Ic{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,b=50){var I=this;return(0,a.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let B,ie;return new Promise((xe,Me)=>{const et=wn("",20);M.port1.start();const Xe=setTimeout(()=>{Me(new Error("unsupported_event"))},b);ie={messageChannel:M,onMessage(It){const ln=It;if(ln.data.eventId===et)switch(ln.data.status){case"ack":clearTimeout(Xe),B=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),xe(ln.data.response);break;default:clearTimeout(Xe),clearTimeout(B),Me(new Error("invalid_response"))}}},I.handlers.add(ie),M.port1.addEventListener("message",ie.onMessage),I.target.postMessage({eventType:f,eventId:et,data:p},[M.port2])}).finally(()=>{ie&&I.removeMessageHandler(ie)})})()}}function on(){return window}function Ao(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function Zr(){return(Zr=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const zi="firebaseLocalStorageDb",$i="firebaseLocalStorage",Dh="fbase_key";class xo{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function an(_,f){return _.transaction([$i],f?"readwrite":"readonly").objectStore($i)}function Ku(){const _=indexedDB.open(zi,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore($i,{keyPath:Dh})}catch(I){p(I)}}),_.addEventListener("success",(0,a.Z)(function*(){const b=_.result;b.objectStoreNames.contains($i)?f(b):(b.close(),yield function(){const _=indexedDB.deleteDatabase(zi);return new xo(_).toPromise()}(),f(yield Ku()))}))})}function Qu(_,f,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,a.Z)(function*(_,f,p){const b=an(_,!0).put({[Dh]:f,value:p});return new xo(b).toPromise()})).apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(_,f){const p=an(_,!1).get(f),b=yield new xo(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ac(_,f){const p=an(_,!0).delete(f);return new xo(p).toPromise()}const Yr=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.Z)(function*(){return p.db||(p.db=yield Ku()),p.db})()}_withRetries(p){var b=this;return(0,a.Z)(function*(){let I=0;for(;;)try{const M=yield b._openDb();return yield p(M)}catch(M){if(I++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.Z)(function*(){return Ao()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.Z)(function*(){p.receiver=Ip._getInstance(Ao()?self:null),p.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(I,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(I,M){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.Z)(function*(){var b,I;if(p.activeServiceWorker=yield function(){return Zr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ic(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=M[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ku();return yield Qu(p,Wr,"1"),yield Ac(p,Wr),!0}catch(p){}return!1})()}_withPendingWrite(p){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(M=>Qu(M,p,b)),I.localCache[p]=b,I.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,a.Z)(function*(){const I=yield b._withRetries(M=>function(_,f){return Sc.apply(this,arguments)}(M,p));return b.localCache[p]=I,I})()}_remove(p){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(I=>Ac(I,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.Z)(function*(){const b=yield p._withRetries(B=>{const ie=an(B,!1).getAll();return new xo(ie).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:B,value:ie}of b)M.add(B),JSON.stringify(p.localCache[B])!==JSON.stringify(ie)&&(p.notifyListeners(B,ie),I.push(B));for(const B of Object.keys(p.localCache))p.localCache[B]&&!M.has(B)&&(p.notifyListeners(B,null),I.push(B));return I})()}notifyListeners(p,b){this.localCache[p]=b;const I=this.listeners[p];if(I)for(const M of Array.from(I))M(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ko(_,f){return ct(_,"POST","/v2/accounts/mfaSignIn:start",Ot(_,f))}function _n(){return(_n=(0,a.Z)(function*(_){return(yield ct(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ed(_){return new Promise((f,p)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=I=>{const M=Bt("internal-error");M.customData=I,p(M)},b.type="text/javascript",b.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Tl(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ds=1e12;class Ro{constructor(f){this.auth=f,this.counter=Ds,this._widgets=new Map}render(f,p){const b=this.counter;return this._widgets.set(b,new td(f,this.auth.name,p||{})),this.counter++,b}reset(f){var p;const b=f||Ds;null===(p=this._widgets.get(b))||void 0===p||p.delete(),this._widgets.delete(b)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Ds))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,a.Z)(function*(){var b;return null===(b=p._widgets.get(f||Ds))||void 0===b||b.execute(),""})()}}class td{constructor(f,p,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;Te(I,"argument-error",{appName:p}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}();const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oo=Tl("rcb"),Ci=new en(3e4,6e4);class Al{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!on().grecaptcha}load(f,p=""){return Te((_=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(on().grecaptcha):new Promise((b,I)=>{const M=on().setTimeout(()=>{I(Bt(f,"network-request-failed"))},Ci.get());on()[Oo]=()=>{on().clearTimeout(M),delete on()[Oo];const ie=on().grecaptcha;if(!ie)return void I(Bt(f,"internal-error"));const xe=ie.render;ie.render=(Me,et)=>{const Xe=xe(Me,et);return this.counter++,Xe},this.hostLanguage=p,b(ie)},ed(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Oo,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),I(Bt(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!on().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sp{load(f){return(0,a.Z)(function*(){return new Ro(f)})()}clearedOneInstance(){}}const Ah="recaptcha",Mh={theme:"light",type:"image"};class Kr{constructor(f,p=Object.assign({},Mh),b){this.parameters=p,this.type=Ah,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(b),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;Te(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sp:new Al,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(p)||new Promise(M=>{const B=ie=>{!ie||(f.tokenChangeListeners.delete(B),M(ie))};f.tokenChangeListeners.add(B),f.isInvisible&&b.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(b=>b(p)),"function"==typeof f)f(p);else if("string"==typeof f){const b=on()[f];"function"==typeof b&&b(p)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const b=document.createElement("div");p.appendChild(b),p=b}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){Te(Bs()&&!Ao(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function(_){return _n.apply(this,arguments)}(f.auth);Te(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class No{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=$s._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function hr(){return(hr=(0,a.Z)(function*(_,f,p){const b=Pn(_),I=yield Qr(b,f,(0,P.m9)(p));return new No(I,M=>gc(b,M))})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_);yield dn(!1,b,"phone");const I=yield Qr(b.auth,f,(0,P.m9)(p));return new No(I,M=>ga(b,M))})).apply(this,arguments)}function xl(){return(xl=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_),I=yield Qr(b.auth,f,(0,P.m9)(p));return new No(I,M=>Hn(b,M))})).apply(this,arguments)}function Qr(_,f,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(_,f,p){var b;const I=yield p.verify();try{let M;if(Te("string"==typeof I,_,"argument-error"),Te(p.type===Ah,_,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const B=M.session;if("phoneNumber"in M)return Te("enroll"===B.type,_,"internal-error"),(yield Ec(_,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Te("signin"===B.type,_,"internal-error");const ie=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return Te(ie,_,"missing-multi-factor-info"),(yield ko(_,{mfaPendingCredential:B.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield Hr(_,{phoneNumber:M.phoneNumber,recaptchaToken:I});return B}}finally{p._reset()}})).apply(this,arguments)}function id(){return(id=(0,a.Z)(function*(_,f){yield At((0,P.m9)(_),f)})).apply(this,arguments)}let T=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Pn(p)}verifyPhoneNumber(p,b){return Qr(this.auth,p,(0,P.m9)(b))}static credential(p,b){return $s._fromVerification(p,b)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:b,temporaryProof:I}=p;return b&&I?$s._fromTokenResponse(b,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function D(_,f){return f?xt(f):(Te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class k extends yo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return bs(f,this._buildIdpRequest())}_linkToIdToken(f,p){return bs(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return bs(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function L(_){return fl(_.auth,new k(_),_.bypassAuthState)}function q(_){const{auth:f,user:p}=_;return Te(p,f,"internal-error"),$r(p,new k(_),_.bypassAuthState)}function X(_){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(_){const{auth:f,user:p}=_;return Te(p,f,"internal-error"),At(p,new k(_),_.bypassAuthState)})).apply(this,arguments)}class We{constructor(f,p,b,I,M=!1){this.auth=f,this.resolver=b,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,a.Z)(function*(b,I){f.pendingPromise={resolve:b,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(b,I){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:M,tenantId:B,error:ie,type:xe}=f;if(ie)return void p.reject(ie);const Me={auth:p.auth,requestUri:b,sessionId:I,tenantId:B||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(xe)(Me))}catch(et){p.reject(et)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return X;case"reauthViaPopup":case"reauthViaRedirect":return q;default:jt(this.auth,"internal-error")}}resolve(f){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ze=new en(2e3,1e4);function Pt(){return(Pt=(0,a.Z)(function*(_,f,p){const b=Pn(_);tr(_,f,yi);const I=D(b,p);return new Is(b,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_);tr(b.auth,f,yi);const I=D(b.auth,p);return new Is(b.auth,"reauthViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}function xi(){return(xi=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_);tr(b.auth,f,yi);const I=D(b.auth,p);return new Is(b.auth,"linkViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}let Is=(()=>{class _ extends We{constructor(p,b,I,M,B){super(p,b,M,B),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.Z)(function*(){const b=yield p.execute();return Te(b,p.auth,"internal-error"),b})()}onExecution(){var p=this;return(0,a.Z)(function*(){Bn(1===p.filter.length,"Popup operations only handle one event");const b=wn();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],b),p.authWindow.associatedEvent=b,p.resolver._originValidation(p.auth).catch(I=>{p.reject(I)}),p.resolver._isIframeWebStorageSupported(p.auth,I=>{I||p.reject(Bt(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ze.get())};p()}}return _.currentPopupAction=null,_})();const Gi=new Map;class Jr extends We{constructor(f,p,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,a.Z)(function*(){let b=Gi.get(p.auth._key());if(!b){try{const M=(yield function(_,f){return Ss.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;b=()=>Promise.resolve(M)}catch(I){b=()=>Promise.reject(I)}Gi.set(p.auth._key(),b)}return p.bypassAuthState||Gi.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(b,f);if("unknown"!==f.type){if(f.eventId){const I=yield b.auth._redirectUserForId(f.eventId);if(I)return b.user=I,p().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ss(){return(Ss=(0,a.Z)(function*(_,f){const p=xa(f),b=Xr(_);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(p));return yield b._remove(p),I})).apply(this,arguments)}function kl(_,f){return xh.apply(this,arguments)}function xh(){return(xh=(0,a.Z)(function*(_,f){return Xr(_)._set(xa(f),"true")})).apply(this,arguments)}function Xr(_){return xt(_._redirectPersistence)}function xa(_){return Si("pendingRedirect",_.config.apiKey,_.name)}function kh(){return(kh=(0,a.Z)(function*(_,f,p){const b=Pn(_);tr(_,f,yi);const I=D(b,p);return yield kl(I,b),I._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function rd(){return(rd=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_);tr(b.auth,f,yi);const I=D(b.auth,p);yield kl(I,b.auth);const M=yield $v(b);return I._openRedirect(b.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(_,f,p){const b=(0,P.m9)(_);tr(b.auth,f,yi);const I=D(b.auth,p);yield dn(!1,b,f.providerId),yield kl(I,b.auth);const M=yield $v(b);return I._openRedirect(b.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(_,f){return yield Pn(_)._initializationPromise,Rl(_,f,!1)})).apply(this,arguments)}function Rl(_,f){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,a.Z)(function*(_,f,p=!1){const b=Pn(_),I=D(b,f),B=yield new Jr(b,I,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield b._persistUserIfCurrent(B.user),yield b._setRedirectUser(null,f)),B})).apply(this,arguments)}function $v(_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(_){const f=wn(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class sd{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(p=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return od(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var b;if(f.error&&!od(f)){const I=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(Bt(this.auth,I))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const b=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ph(f))}saveEventToCache(f){this.cachedEventUids.add(Ph(f)),this.lastProcessedEventTime=Date.now()}}function Ph(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function od({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Mp(_){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(_,f={}){return ct(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Pg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oa=/^https?/;function mr(){return(mr=(0,a.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Mp(_);for(const p of f)try{if(Ol(p))return}catch(b){}jt(_,"unauthorized-domain")})).apply(this,arguments)}function Ol(_){const f=Un(),{protocol:p,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const B=new URL(_);return""===B.hostname&&""===b?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===b}if(!Oa.test(p))return!1;if(Pg.test(_))return b===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const ad=new en(3e4,6e4);function Nh(){const _=on().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Pa=null;function Lg(_){return Pa=Pa||function(_){return new Promise((f,p)=>{var b,I,M;function B(){Nh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Nh(),p(Bt(_,"network-request-failed"))},timeout:ad.get()})}if(null===(I=null===(b=on().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)f(gapi.iframes.getContext());else{if(!(null===(M=on().gapi)||void 0===M?void 0:M.load)){const ie=Tl("iframefcb");return on()[ie]=()=>{gapi.load?B():p(Bt(_,"network-request-failed"))},ed(`https://apis.google.com/js/api.js?onload=${ie}`).catch(xe=>p(xe))}B()}}).catch(f=>{throw Pa=null,f})}(_),Pa}const xp=new en(5e3,15e3),Rp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Op(_){const f=_.config;Te(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?qe(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:se.SDK_VERSION},I=Vg.get(_.config.apiHost);I&&(b.eid=I);const M=_._getFrameworks();return M.length&&(b.fw=M.join(",")),`${p}?${(0,P.xO)(b).slice(1)}`}function Pp(){return Pp=(0,a.Z)(function*(_){const f=yield Lg(_),p=on().gapi;return Te(p,_,"internal-error"),f.open({where:document.body,url:Op(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rp,dontclear:!0},b=>new Promise(function(){var I=(0,a.Z)(function*(M,B){yield b.restyle({setHideOnLeave:!1});const ie=Bt(_,"network-request-failed"),xe=on().setTimeout(()=>{B(ie)},xp.get());function Me(){on().clearTimeout(xe),M(b)}b.ping(Me).then(Me,()=>{B(ie)})});return function(M,B){return I.apply(this,arguments)}}()))}),Pp.apply(this,arguments)}const Na={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Oc(_,f,p,b,I,M){Te(_.config.authDomain,_,"auth-domain-config-required"),Te(_.config.apiKey,_,"invalid-api-key");const B={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:b,v:se.SDK_VERSION,eventId:I};if(f instanceof yi){f.setDefaultLanguage(_.languageCode),B.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[xe,Me]of Object.entries(M||{}))B[xe]=Me}if(f instanceof lr){const xe=f.getScopes().filter(Me=>""!==Me);xe.length>0&&(B.scopes=xe.join(","))}_.tenantId&&(B.tid=_.tenantId);const ie=B;for(const xe of Object.keys(ie))void 0===ie[xe]&&delete ie[xe];return`${function({config:_}){return _.emulator?qe(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(ie).slice(1)}`}const Fa="webStorageSupport";class cd extends class{constructor(f){this.factorId=f}_process(f,p,b){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,b);case"signin":return this._finalizeSignIn(f,p.credential);default:return Vn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new cd(f)}_finalizeEnroll(f,p,b){return function(_,f){return ct(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(_,f))}(f,{idToken:p,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function(_,f){return ct(_,"POST","/v2/accounts/mfaSignIn:finalize",Ot(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ug=(()=>{class _{constructor(){}static assertion(p){return cd._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var _,Bh="@firebase/auth";class Uh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,a.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(b=>{var I;f((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function La(){return window}function jh(){return jh=(0,a.Z)(function*(_,f,p){var b;const{BuildInfo:I}=La();Bn(f.sessionId,"AuthEvent did not contain a session ID");const M=yield Va(f.sessionId),B={};return _s()?B.ibi=I.packageName:ra()?B.apn=I.packageName:jt(_,"operation-not-supported-in-this-environment"),I.displayName&&(B.appDisplayName=I.displayName),B.sessionId=M,Oc(_,p,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,B)}),jh.apply(this,arguments)}function zh(){return zh=(0,a.Z)(function*(_){const{BuildInfo:f}=La(),p={};_s()?p.iosBundleId=f.packageName:ra()?p.androidPackageName=f.packageName:jt(_,"operation-not-supported-in-this-environment"),yield Mp(_,p)}),zh.apply(this,arguments)}function ts(){return ts=(0,a.Z)(function*(_,f,p){const{cordova:b}=La();let I=()=>{};try{yield new Promise((M,B)=>{let ie=null;function xe(){var Xe;M();const It=null===(Xe=b.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof It&&It(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Me(){ie||(ie=window.setTimeout(()=>{B(Bt(_,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}f.addPassiveListener(xe),document.addEventListener("resume",Me,!1),ra()&&document.addEventListener("visibilitychange",et,!1),I=()=>{f.removePassiveListener(xe),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",et,!1),ie&&window.clearTimeout(ie)}})}finally{I()}}),ts.apply(this,arguments)}function Va(_){return $g.apply(this,arguments)}function $g(){return $g=(0,a.Z)(function*(_){const f=Gg(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(I=>I.toString(16).padStart(2,"0")).join("")}),$g.apply(this,arguments)}function Gg(_){if(Bn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let b=0;b<_.length;b++)p[b]=_.charCodeAt(b);return p}_="Browser",(0,se._registerComponent)(new ue.wA("auth",(f,{options:p})=>{const b=f.getProvider("app").getImmediate(),{apiKey:I,authDomain:M}=b.options;return(B=>{Te(I&&!I.includes(":"),"invalid-api-key",{appName:B.name}),Te(!(null==M?void 0:M.includes(":")),"argument-error",{appName:B.name});const ie={apiKey:I,authDomain:M,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ai(_)},xe=new or(B,ie);return function(_,f){const p=(null==f?void 0:f.persistence)||[],b=(Array.isArray(p)?p:[p]).map(xt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(xe,p),xe})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,b)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ue.wA("auth-internal",f=>{const p=Pn(f.getProvider("auth").getImmediate());return new Uh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Bh,"0.19.9",void 0),(0,se.registerVersion)(Bh,"0.19.9","esm2017");class Dn extends sd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function Bp(_){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,a.Z)(function*(_){const f=yield Up()._get(fd(_));return f&&(yield Up()._remove(fd(_))),f}),Kn.apply(this,arguments)}function Gh(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Up(){return xt(ji)}function fd(_){return Si("authEvent",_.config.apiKey,_.name)}function Ua(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...p]=_.split("?");return(0,P.zd)(p.join("?"))}function Wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bt("no-auth-event")}}function md(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function gd(_=(0,P.z$)()){return!("file:"!==md()&&"ionic:"!==md()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yh(){try{const _=self.localStorage,f=wn();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,P.z$)()){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return Lc()&&(0,P.hl)()}return!1}function Lc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kh(){return("http:"===md()||"https:"===md()||(0,P.ru)()||gd())&&!((0,P.b$)()||(0,P.UG)())&&Yh()&&!Lc()}function Vc(){return gd()&&"undefined"!=typeof document}function Bc(){return Bc=(0,a.Z)(function*(){return!!Vc()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})}),Bc.apply(this,arguments)}const Wi={LOCAL:"local",NONE:"none",SESSION:"session"},Uo=Te,Gp="persistence";function Jh(_){return As.apply(this,arguments)}function As(){return As=(0,a.Z)(function*(_){yield _._initializationPromise;const f=Yv(),p=Si(Gp,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())}),As.apply(this,arguments)}function Yv(){var _;try{return(null===(_="undefined"!=typeof window?window:null)||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Z0=Te;class Or{constructor(){this.browserResolver=xt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vt,this._completeRedirectFn=Rl}_openPopup(f,p,b,I){var M=this;return(0,a.Z)(function*(){var B;Bn(null===(B=M.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const ie=Oc(f,p,b,Un(),I);return function(_,f,p,b=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),B=Math.max((window.screen.availWidth-b)/2,0).toString();let ie="";const xe=Object.assign(Object.assign({},Na),{width:b.toString(),height:I.toString(),top:M,left:B}),Me=(0,P.z$)().toLowerCase();p&&(ie=si(Me)?"_blank":p),ia(Me)&&(f=f||"http://localhost",xe.scrollbars="yes");const et=Object.entries(xe).reduce((It,[ln,xs])=>`${It}${ln}=${xs},`,"");if(function(_=(0,P.z$)()){var f;return _s(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Me)&&"_self"!==ie)return function(_,f){const p=document.createElement("a");p.href=_,p.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(f||"",ie),new Lh(null);const Xe=window.open(f||"",ie,et);Te(Xe,_,"popup-blocked");try{Xe.focus()}catch(It){}return new Lh(Xe)}(f,ie,wn())})()}_openRedirect(f,p,b,I){var M=this;return(0,a.Z)(function*(){return yield M._originValidation(f),_=Oc(f,p,b,Un(),I),on().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:I,promise:M}=this.eventManagers[p];return I?Promise.resolve(I):(Bn(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(f);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(f){var p=this;return(0,a.Z)(function*(){const b=yield function(_){return Pp.apply(this,arguments)}(f),I=new sd(f);return b.register("authEvent",M=>(Te(null==M?void 0:M.authEvent,f,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:I},p.iframes[f._key()]=b,I})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Fa,{type:Fa},I=>{var M;const B=null===(M=null==I?void 0:I[0])||void 0===M?void 0:M[Fa];void 0!==B&&p(!!B),jt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return mr.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Cn()||ms()||_s()}}),this.cordovaResolver=xt(class{constructor(){this._redirectPersistence=Vt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rl}_initialize(f){var p=this;return(0,a.Z)(function*(){const b=f._key();let I=p.eventManagers.get(b);return I||(I=new Dn(f),p.eventManagers.set(b,I),p.attachCallbackListeners(f,I)),I})()}_openPopup(f){jt(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,b,I){var M=this;return(0,a.Z)(function*(){!function(_){var f,p,b,I,M,B,ie,xe,Me,et;const Xe=La();Te("function"==typeof(null===(f=null==Xe?void 0:Xe.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(p=null==Xe?void 0:Xe.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(M=null===(I=null===(b=null==Xe?void 0:Xe.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(xe=null===(ie=null===(B=null==Xe?void 0:Xe.cordova)||void 0===B?void 0:B.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===xe?void 0:xe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(et=null===(Me=null==Xe?void 0:Xe.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===et?void 0:et.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield M._initialize(f);yield B.initialized(),B.resetRedirect(),Gi.clear(),yield M._originValidation(f);const ie=function(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Gh(),postBody:null,tenantId:_.tenantId,error:Bt(_,"no-auth-event")}}(f,b,I);yield function(_,f){return Up()._set(fd(_),f)}(f,ie);const xe=yield function(_,f,p){return jh.apply(this,arguments)}(f,ie,p),Me=yield function(_){const{cordova:f}=La();return new Promise(p=>{f.plugins.browsertab.isAvailable(b=>{let I=null;b?f.plugins.browsertab.openUrl(_):I=f.InAppBrowser.open(_,function(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(I)})})}(xe);return function(_,f,p){return ts.apply(this,arguments)}(f,B,Me)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return zh.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:b,handleOpenURL:I,BuildInfo:M}=La(),B=setTimeout((0,a.Z)(function*(){yield Bp(f),p.onEvent(Wh())}),500),ie=function(){var et=(0,a.Z)(function*(Xe){clearTimeout(B);const It=yield Bp(f);let ln=null;It&&(null==Xe?void 0:Xe.url)&&(ln=function(_,f){var p,b;const I=function(_){const f=Ua(_),p=f.link?decodeURIComponent(f.link):void 0,b=Ua(p).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ua(I).link||I||b||p||_}(f);if(I.includes("/__/auth/callback")){const M=Ua(I),B=M.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(M.firebaseError)):null,ie=null===(b=null===(p=null==B?void 0:B.code)||void 0===p?void 0:p.split("auth/"))||void 0===b?void 0:b[1],xe=ie?Bt(ie):null;return xe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:I,postBody:null}}return null}(It,Xe.url)),p.onEvent(ln||Wh())});return function(It){return et.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ie);const xe=I,Me=`${M.packageName.toLowerCase()}://`;La().handleOpenURL=function(){var et=(0,a.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Me)&&ie({url:Xe}),"function"==typeof xe)try{xe(Xe)}catch(It){console.error(It)}});return function(Xe){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vt,this._completeRedirectFn=Rl}_initialize(f){var p=this;return(0,a.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,b,I){var M=this;return(0,a.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(f,p,b,I)})()}_openRedirect(f,p,b,I){var M=this;return(0,a.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(f,p,b,I)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Vc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Z0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const p=yield function(){return Bc.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function _d(_){return _.unwrap()}function Uc(_){return yd(_)}function yd(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return T.credentialFromResult(_);const p=f.providerId;if(!p||"password"===p)return null;let b;switch(p){case"google.com":b=Zs;break;case"facebook.com":b=cl;break;case"github.com":b=qs;break;case"twitter.com":b=vi;break;default:const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:B,pendingToken:ie,nonce:xe}=f;return M||B||I||ie?ie?p.startsWith("saml.")?jr._create(p,ie):qn._fromParams({providerId:p,signInMethod:p,pendingToken:ie,idToken:I,accessToken:M}):new Mn(p).credential({idToken:I,accessToken:M,rawNonce:xe}):null}return _ instanceof P.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Qn(_,f){return f.catch(p=>{throw p instanceof P.ZR&&function(_,f){var p;const b=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Xh(_,function(_,f){var p;const b=(0,P.m9)(_),I=f;return Te(f.customData.operationType,b,"argument-error"),Te(null===(p=I.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,b,"argument-error"),Sa._fromError(b,I)}(_,f));else if(b){const I=yd(f),M=f;I&&(M.credential=I,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(_,p),p}).then(p=>{const I=p.user;return{operationType:p.operationType,credential:Uc(p),additionalUserInfo:oi(p),user:Jn.getOrCreate(I)}})}function ja(_,f){return ro.apply(this,arguments)}function ro(){return ro=(0,a.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:b=>Qn(_,p.confirm(b))}}),ro.apply(this,arguments)}class Xh{constructor(f,p){this.resolver=p,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Qn(_d(this.auth),this.resolver.resolveSignIn(f))}}class Jn{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,P.m9)(_);return Mi.has(f)||Mi.set(f,So._fromUser(f)),Mi.get(f)}(f)}static getOrCreate(f){return Jn.USER_MAP.has(f)||Jn.USER_MAP.set(f,new Jn(f)),Jn.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,a.Z)(function*(){return Qn(p.auth,ga(p._delegate,f))})()}linkWithPhoneNumber(f,p){var b=this;return(0,a.Z)(function*(){return ja(b.auth,function(_,f,p){return fr.apply(this,arguments)}(b._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,a.Z)(function*(){return Qn(p.auth,function(_,f,p){return xi.apply(this,arguments)}(p._delegate,f,Or))})()}linkWithRedirect(f){var p=this;return(0,a.Z)(function*(){return yield Jh(Pn(p.auth)),function(_,f,p){return function(_,f,p){return ka.apply(this,arguments)}(_,f,p)}(p._delegate,f,Or)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,a.Z)(function*(){return Qn(p.auth,Hn(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return ja(this.auth,function(_,f,p){return xl.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Qn(this.auth,function(_,f,p){return Ei.apply(this,arguments)}(this._delegate,f,Or))}reauthenticateWithRedirect(f){var p=this;return(0,a.Z)(function*(){return yield Jh(Pn(p.auth)),function(_,f,p){return function(_,f,p){return rd.apply(this,arguments)}(_,f,p)}(p._delegate,f,Or)})()}sendEmailVerification(f){return function(_,f){return Ts.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,a.Z)(function*(){return yield function(_,f){return Ee.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function(_,f){return Ch((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return Ch((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return id.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return sn.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function(_,f,p){return Da.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jn.USER_MAP=new WeakMap;const Ho=Te;let vd=(()=>{class _{constructor(p,b){if(this.app=p,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=p.options;Ho(I,"invalid-api-key",{appName:p.name}),Ho(I,"invalid-api-key",{appName:p.name});const M="undefined"!=typeof window?Or:void 0;this._delegate=b.initialize({options:{persistence:Pr(I,p.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap($n),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,b){!function(_,f,p){const b=Pn(_);Te(b._canInitEmulator,b,"emulator-config-failed"),Te(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const I=!!(null==p?void 0:p.disableWarnings),M=Ui(f),{host:B,port:ie}=function(_){const f=Ui(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const M=I[1];return{host:M,port:_p(b.substr(M.length+1))}}{const[M,B]=b.split(":");return{host:M,port:_p(B)}}}(f);b.config.emulator={url:`${M}//${B}${null===ie?"":`:${ie}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:B,port:ie,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,b)}applyActionCode(p){return function(_,f){return gl.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return _l(this._delegate,p)}confirmPasswordReset(p,b){return function(_,f,p){return wo.apply(this,arguments)}(this._delegate,p,b)}createUserWithEmailAndPassword(p,b){var I=this;return(0,a.Z)(function*(){return Qn(I._delegate,function(_,f,p){return Ta.apply(this,arguments)}(I._delegate,p,b))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(_,f){return bh.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(_,f){const p=Gs.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,a.Z)(function*(){Ho(Kh(),p._delegate,"operation-not-supported-in-this-environment");const b=yield function(_,f){return Lo.apply(this,arguments)}(p._delegate,Or);return b?Qn(p._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(_,f){Pn(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,b,I){const{next:M,error:B,complete:ie}=Ms(p,b,I);return this._delegate.onAuthStateChanged(M,B,ie)}onIdTokenChanged(p,b,I){const{next:M,error:B,complete:ie}=Ms(p,b,I);return this._delegate.onIdTokenChanged(M,B,ie)}sendSignInLinkToEmail(p,b){return function(_,f,p){return nn.apply(this,arguments)}(this._delegate,p,b)}sendPasswordResetEmail(p,b){return function(_,f,p){return Eo.apply(this,arguments)}(this._delegate,p,b||void 0)}setPersistence(p){var b=this;return(0,a.Z)(function*(){let I;switch(function(_,f){Uo(Object.values(Wi).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?Uo(f!==Wi.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?Uo(f===Wi.NONE,_,"unsupported-persistence-type"):Lc()?Uo(f===Wi.NONE||f===Wi.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):Uo(f===Wi.NONE||Yh(),_,"unsupported-persistence-type")}(b._delegate,p),p){case Wi.SESSION:I=Vt;break;case Wi.LOCAL:I=(yield xt(Yr)._isAvailable())?Yr:ji;break;case Wi.NONE:I=Ii;break;default:return jt("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Qn(this._delegate,function(_){return Co.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Qn(this._delegate,gc(this._delegate,p))}signInWithCustomToken(p){return Qn(this._delegate,function(_,f){return ya.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,b){return Qn(this._delegate,function(_,f,p){return gc((0,P.m9)(_),Ws.credential(f,p))}(this._delegate,p,b))}signInWithEmailLink(p,b){return Qn(this._delegate,function(_,f,p){return To.apply(this,arguments)}(this._delegate,p,b))}signInWithPhoneNumber(p,b){return ja(this._delegate,function(_,f,p){return hr.apply(this,arguments)}(this._delegate,p,b))}signInWithPopup(p){var b=this;return(0,a.Z)(function*(){return Ho(Kh(),b._delegate,"operation-not-supported-in-this-environment"),Qn(b._delegate,function(_,f,p){return Pt.apply(this,arguments)}(b._delegate,p,Or))})()}signInWithRedirect(p){var b=this;return(0,a.Z)(function*(){return Ho(Kh(),b._delegate,"operation-not-supported-in-this-environment"),yield Jh(b._delegate),function(_,f,p){return function(_,f,p){return kh.apply(this,arguments)}(_,f,p)}(b._delegate,p,Or)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(_,f){return wa.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Wi,_})();function Ms(_,f,p){let b=_;"function"!=typeof _&&({next:b,error:f,complete:p}=_);const I=b;return{next:B=>I(B&&Jn.getOrCreate(B)),error:f,complete:p}}function Pr(_,f){const p=function(_,f){const p=Yv();if(!p)return[];const b=Si(Gp,_,f);switch(p.getItem(b)){case Wi.NONE:return[Ii];case Wi.LOCAL:return[Yr,Vt];case Wi.SESSION:return[Vt];default:return[]}}(_,f);if("undefined"!=typeof self&&!p.includes(Yr)&&p.push(Yr),"undefined"!=typeof window)for(const b of[ji,Vt])p.includes(b)||p.push(b);return p.includes(Ii)||p.push(Ii),p}class so{constructor(){this.providerId="phone",this._delegate=new T(_d(Q.Z.auth()))}static credential(f,p){return T.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}so.PHONE_SIGN_IN_METHOD=T.PHONE_SIGN_IN_METHOD,so.PROVIDER_ID=T.PROVIDER_ID;const Zp=Te;class ef{constructor(f,p,b=Q.Z.app()){var I;Zp(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Kr(f,p,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new vd(p,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ws,FacebookAuthProvider:cl,GithubAuthProvider:qs,GoogleAuthProvider:Zs,OAuthProvider:Mn,SAMLAuthProvider:Ys,PhoneAuthProvider:so,PhoneMultiFactorGenerator:Ug,RecaptchaVerifier:ef,TwitterAuthProvider:vi,Auth:vd,AuthCredential:yo,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.9")}(Q.Z)},4995:function($e,fe){!function(O){"use strict";function a(de){return Array.prototype.slice.call(de)}function Q(de){return new Promise(function(Z,ce){de.onsuccess=function(){Z(de.result)},de.onerror=function(){ce(de.error)}})}function P(de,Z,ce){var Se,ve=new Promise(function(je,Ae){Q(Se=de[Z].apply(de,ce)).then(je,Ae)});return ve.request=Se,ve}function se(de,Z,ce){var Se=P(de,Z,ce);return Se.then(function(ve){if(ve)return new H(ve,Se.request)})}function re(de,Z,ce){ce.forEach(function(Se){Object.defineProperty(de.prototype,Se,{get:function(){return this[Z][Se]},set:function(ve){this[Z][Se]=ve}})})}function he(de,Z,ce,Se){Se.forEach(function(ve){ve in ce.prototype&&(de.prototype[ve]=function(){return P(this[Z],ve,arguments)})})}function J(de,Z,ce,Se){Se.forEach(function(ve){ve in ce.prototype&&(de.prototype[ve]=function(){return this[Z][ve].apply(this[Z],arguments)})})}function oe(de,Z,ce,Se){Se.forEach(function(ve){ve in ce.prototype&&(de.prototype[ve]=function(){return se(this[Z],ve,arguments)})})}function ae(de){this._index=de}function H(de,Z){this._cursor=de,this._request=Z}function j(de){this._store=de}function Y(de){this._tx=de,this.complete=new Promise(function(Z,ce){de.oncomplete=function(){Z()},de.onerror=function(){ce(de.error)},de.onabort=function(){ce(de.error)}})}function Pe(de,Z,ce){this._db=de,this.oldVersion=Z,this.transaction=new Y(ce)}function De(de){this._db=de}re(ae,"_index",["name","keyPath","multiEntry","unique"]),he(ae,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),oe(ae,"_index",IDBIndex,["openCursor","openKeyCursor"]),re(H,"_cursor",["direction","key","primaryKey","value"]),he(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(de){de in IDBCursor.prototype&&(H.prototype[de]=function(){var Z=this,ce=arguments;return Promise.resolve().then(function(){return Z._cursor[de].apply(Z._cursor,ce),Q(Z._request).then(function(Se){if(Se)return new H(Se,Z._request)})})})}),j.prototype.createIndex=function(){return new ae(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new ae(this._store.index.apply(this._store,arguments))},re(j,"_store",["name","keyPath","indexNames","autoIncrement"]),he(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),oe(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),J(j,"_store",IDBObjectStore,["deleteIndex"]),Y.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},re(Y,"_tx",["objectStoreNames","mode"]),J(Y,"_tx",IDBTransaction,["abort"]),Pe.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},re(Pe,"_db",["name","version","objectStoreNames"]),J(Pe,"_db",IDBDatabase,["deleteObjectStore","close"]),De.prototype.transaction=function(){return new Y(this._db.transaction.apply(this._db,arguments))},re(De,"_db",["name","version","objectStoreNames"]),J(De,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(de){[j,ae].forEach(function(Z){de in Z.prototype&&(Z.prototype[de.replace("open","iterate")]=function(){var ce=a(arguments),Se=ce[ce.length-1],ve=this._store||this._index,je=ve[de].apply(ve,ce.slice(0,-1));je.onsuccess=function(){Se(je.result)}})})}),[ae,j].forEach(function(de){de.prototype.getAll||(de.prototype.getAll=function(Z,ce){var Se=this,ve=[];return new Promise(function(je){Se.iterateCursor(Z,function(Ae){Ae?(ve.push(Ae.value),void 0===ce||ve.length!=ce?Ae.continue():je(ve)):je(ve)})})})}),O.openDb=function(de,Z,ce){var Se=P(indexedDB,"open",[de,Z]),ve=Se.request;return ve&&(ve.onupgradeneeded=function(je){ce&&ce(new Pe(ve.result,je.oldVersion,ve.transaction))}),Se.then(function(je){return new De(je)})},O.deleteDb=function(de){return P(indexedDB,"deleteDatabase",[de])},Object.defineProperty(O,"__esModule",{value:!0})}(fe)},8410:($e,fe,O)=>{"use strict";O.d(fe,{y:()=>oe});var a=O(584),Q=O(7908),P=O(4816),se=O(7979),re=O(5367),he=O(5044),J=O(8706);let oe=(()=>{class Y{constructor(De){De&&(this._subscribe=De)}lift(De){const ke=new Y;return ke.source=this,ke.operator=De,ke}subscribe(De,ke,Qe){const de=function(Y){return Y&&Y instanceof a.Lv||function(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,Q.Nn)(Y)}(De)?De:new a.Hp(De,ke,Qe);return(0,J.x)(()=>{const{operator:Z,source:ce}=this;de.add(Z?Z.call(de,ce):ce?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(De){try{return this._subscribe(De)}catch(ke){De.error(ke)}}forEach(De,ke){return new(ke=ae(ke))((Qe,de)=>{let Z;Z=this.subscribe(ce=>{try{De(ce)}catch(Se){de(Se),null==Z||Z.unsubscribe()}},de,Qe)})}_subscribe(De){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(De)}[P.L](){return this}pipe(...De){return(0,se.U)(De)(this)}toPromise(De){return new(De=ae(De))((ke,Qe)=>{let de;this.subscribe(Z=>de=Z,Z=>Qe(Z),()=>ke(de))})}}return Y.create=Pe=>new Y(Pe),Y})();function ae(Y){var Pe;return null!==(Pe=null!=Y?Y:re.v.Promise)&&void 0!==Pe?Pe:Promise}},273:($e,fe,O)=>{"use strict";O.d(fe,{x:()=>J});var a=O(8410),Q=O(7908);const se=(0,O(4893).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(3980),he=O(8706);let J=(()=>{class ae extends a.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new oe(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Y=this.observers.slice();for(const Pe of Y)Pe.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Pe,observers:De}=this;return Y||Pe?Q.Lc:(De.push(j),new Q.w0(()=>(0,re.P)(De,j)))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Pe,isStopped:De}=this;Y?j.error(Pe):De&&j.complete()}asObservable(){const j=new a.y;return j.source=this,j}}return ae.create=(H,j)=>new oe(H,j),ae})();class oe extends J{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,H)}error(H){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==Y?Y:Q.Lc}}},584:($e,fe,O)=>{"use strict";O.d(fe,{Hp:()=>Pe,Lv:()=>Y});var a=O(5044),Q=O(7908),P=O(5367),se=O(5160),re=O(6921);const he=ae("C",void 0,void 0);function ae(Z,ce,Se){return{kind:Z,value:ce,error:Se}}var H=O(2496),j=O(8706);class Y extends Q.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,Q.Nn)(ce)&&ce.add(this)):this.destination=de}static create(ce,Se,ve){return new Pe(ce,Se,ve)}next(ce){this.isStopped?Qe(ae("N",ce,void 0),this):this._next(ce)}error(ce){this.isStopped?Qe(ae("E",void 0,ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Qe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Pe extends Y{constructor(ce,Se,ve){let je;if(super(),(0,a.m)(ce))je=ce;else if(ce){let Ae;({next:je,error:Se,complete:ve}=ce),this&&P.v.useDeprecatedNextContext?(Ae=Object.create(ce),Ae.unsubscribe=()=>this.unsubscribe()):Ae=ce,je=null==je?void 0:je.bind(Ae),Se=null==Se?void 0:Se.bind(Ae),ve=null==ve?void 0:ve.bind(Ae)}this.destination={next:je?De(je):re.Z,error:De(null!=Se?Se:ke),complete:ve?De(ve):re.Z}}}function De(Z,ce){return(...Se)=>{try{Z(...Se)}catch(ve){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(ve):(0,se.h)(ve)}}}function ke(Z){throw Z}function Qe(Z,ce){const{onStoppedNotification:Se}=P.v;Se&&H.z.setTimeout(()=>Se(Z,ce))}const de={closed:!0,next:re.Z,error:ke,complete:re.Z}},7908:($e,fe,O)=>{"use strict";O.d(fe,{Lc:()=>he,w0:()=>re,Nn:()=>J});var a=O(5044);const P=(0,O(4893).d)(ae=>function(j){ae(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Pe)=>`${Pe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=O(3980);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const De of j)De.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,a.m)(Y))try{Y()}catch(De){H=De instanceof P?De.errors:[De]}const{_teardowns:Pe}=this;if(Pe){this._teardowns=null;for(const De of Pe)try{oe(De)}catch(ke){H=null!=H?H:[],ke instanceof P?H=[...H,...ke.errors]:H.push(ke)}}if(H)throw new P(H)}}add(H){var j;if(H&&H!==this)if(this.closed)oe(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(j=this._teardowns)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,H)}remove(H){const{_teardowns:j}=this;j&&(0,se.P)(j,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const ae=new re;return ae.closed=!0,ae})();const he=re.EMPTY;function J(ae){return ae instanceof re||ae&&"closed"in ae&&(0,a.m)(ae.remove)&&(0,a.m)(ae.add)&&(0,a.m)(ae.unsubscribe)}function oe(ae){(0,a.m)(ae)?ae():ae.unsubscribe()}},5367:($e,fe,O)=>{"use strict";O.d(fe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:($e,fe,O)=>{"use strict";O.d(fe,{E:()=>Q});const Q=new(O(8410).y)(re=>re.complete())},5947:($e,fe,O)=>{"use strict";O.d(fe,{D:()=>je});var a=O(9985),Q=O(4763),P=O(5222),he=O(8410),oe=O(5497),ae=O(5044),H=O(8395);function Y(Ae,He){if(!Ae)throw new Error("Iterable cannot be null");return new he.y(Ze=>{(0,H.f)(Ze,He,()=>{const it=Ae[Symbol.asyncIterator]();(0,H.f)(Ze,He,()=>{it.next().then(ne=>{ne.done?Ze.complete():Ze.next(ne.value)})},0,!0)})})}var Pe=O(1073),De=O(2442),ke=O(1537),Qe=O(2317),de=O(9908),Z=O(3754),ce=O(7751);function je(Ae,He){return He?function(Ae,He){if(null!=Ae){if((0,Pe.c)(Ae))return function(Ae,He){return(0,a.Xf)(Ae).pipe((0,P.R)(He),(0,Q.Q)(He))}(Ae,He);if((0,ke.z)(Ae))return function(Ae,He){return new he.y(Ze=>{let it=0;return He.schedule(function(){it===Ae.length?Ze.complete():(Ze.next(Ae[it++]),Ze.closed||this.schedule())})})}(Ae,He);if((0,De.t)(Ae))return function(Ae,He){return(0,a.Xf)(Ae).pipe((0,P.R)(He),(0,Q.Q)(He))}(Ae,He);if((0,de.D)(Ae))return Y(Ae,He);if((0,Qe.T)(Ae))return function(Ae,He){return new he.y(Ze=>{let it;return(0,H.f)(Ze,He,()=>{it=Ae[oe.h](),(0,H.f)(Ze,He,()=>{let ne,le;try{({value:ne,done:le}=it.next())}catch(ge){return void Ze.error(ge)}le?Ze.complete():Ze.next(ne)},0,!0)}),()=>(0,ae.m)(null==it?void 0:it.return)&&it.return()})}(Ae,He);if((0,ce.L)(Ae))return function(Ae,He){return Y((0,ce.Q)(Ae),He)}(Ae,He)}throw(0,Z.z)(Ae)}(Ae,He):(0,a.Xf)(Ae)}},9985:($e,fe,O)=>{"use strict";O.d(fe,{Xf:()=>Pe});var a=O(9162),Q=O(1537),P=O(2442),se=O(8410),re=O(1073),he=O(9908),J=O(3754),oe=O(2317),ae=O(7751),H=O(5044),j=O(5160),Y=O(4816);function Pe(ve){if(ve instanceof se.y)return ve;if(null!=ve){if((0,re.c)(ve))return function(ve){return new se.y(je=>{const Ae=ve[Y.L]();if((0,H.m)(Ae.subscribe))return Ae.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,Q.z)(ve))return function(ve){return new se.y(je=>{for(let Ae=0;Ae<ve.length&&!je.closed;Ae++)je.next(ve[Ae]);je.complete()})}(ve);if((0,P.t)(ve))return function(ve){return new se.y(je=>{ve.then(Ae=>{je.closed||(je.next(Ae),je.complete())},Ae=>je.error(Ae)).then(null,j.h)})}(ve);if((0,he.D)(ve))return Z(ve);if((0,oe.T)(ve))return function(ve){return new se.y(je=>{for(const Ae of ve)if(je.next(Ae),je.closed)return;je.complete()})}(ve);if((0,ae.L)(ve))return function(ve){return Z((0,ae.Q)(ve))}(ve)}throw(0,J.z)(ve)}function Z(ve){return new se.y(je=>{(function(ve,je){var Ae,He,Ze,it;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,a.KL)(ve);!(He=yield Ae.next()).done;)if(je.next(He.value),je.closed)return}catch(ne){Ze={error:ne}}finally{try{He&&!He.done&&(it=Ae.return)&&(yield it.call(Ae))}finally{if(Ze)throw Ze.error}}je.complete()})})(ve,je).catch(Ae=>je.error(Ae))})}},3719:($e,fe,O)=>{"use strict";O.d(fe,{T:()=>he});var a=O(5373),Q=O(9985),P=O(5583),se=O(7613),re=O(5947);function he(...J){const oe=(0,se.yG)(J),ae=(0,se._6)(J,1/0),H=J;return H.length?1===H.length?(0,Q.Xf)(H[0]):(0,a.J)(ae)((0,re.D)(H,oe)):P.E}},8889:($e,fe,O)=>{"use strict";O.d(fe,{Q:()=>Q});var a=O(584);class Q extends a.Lv{constructor(se,re,he,J,oe){super(se),this.onFinalize=oe,this._next=re?function(ae){try{re(ae)}catch(H){se.error(H)}}:super._next,this._error=J?function(ae){try{J(ae)}catch(H){se.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(ae){se.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;const{closed:re}=this;super.unsubscribe(),!re&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}},4753:($e,fe,O)=>{"use strict";O.d(fe,{U:()=>P});var a=O(9947),Q=O(8889);function P(se,re){return(0,a.e)((he,J)=>{let oe=0;he.subscribe(new Q.Q(J,ae=>{J.next(se.call(re,ae,oe++))}))})}},5373:($e,fe,O)=>{"use strict";O.d(fe,{J:()=>P});var a=O(5724),Q=O(4623);function P(se=1/0){return(0,a.z)(Q.y,se)}},5724:($e,fe,O)=>{"use strict";O.d(fe,{z:()=>oe});var a=O(4753),Q=O(9985),P=O(9947),re=(O(8395),O(8889)),J=O(5044);function oe(ae,H,j=1/0){return(0,J.m)(H)?oe((Y,Pe)=>(0,a.U)((De,ke)=>H(Y,De,Pe,ke))((0,Q.Xf)(ae(Y,Pe))),j):("number"==typeof H&&(j=H),(0,P.e)((Y,Pe)=>function(ae,H,j,Y,Pe,De,ke,Qe){const de=[];let Z=0,ce=0,Se=!1;const ve=()=>{Se&&!de.length&&!Z&&H.complete()},je=He=>Z<Y?Ae(He):de.push(He),Ae=He=>{Z++;let Ze=!1;(0,Q.Xf)(j(He,ce++)).subscribe(new re.Q(H,it=>{H.next(it)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Z--;de.length&&Z<Y;){const it=de.shift();Ae(it)}ve()}catch(it){H.error(it)}}))};return ae.subscribe(new re.Q(H,je,()=>{Se=!0,ve()})),()=>{}}(Y,Pe,ae,j)))}},4763:($e,fe,O)=>{"use strict";O.d(fe,{Q:()=>se});var a=O(8395),Q=O(9947),P=O(8889);function se(re,he=0){return(0,Q.e)((J,oe)=>{J.subscribe(new P.Q(oe,ae=>(0,a.f)(oe,re,()=>oe.next(ae),he),()=>(0,a.f)(oe,re,()=>oe.complete(),he),ae=>(0,a.f)(oe,re,()=>oe.error(ae),he)))})}},3174:($e,fe,O)=>{"use strict";O.d(fe,{B:()=>he});var a=O(5947),Q=O(9468),P=O(273),se=O(584),re=O(9947);function he(oe={}){const{connector:ae=(()=>new P.x),resetOnError:H=!0,resetOnComplete:j=!0,resetOnRefCountZero:Y=!0}=oe;return Pe=>{let De=null,ke=null,Qe=null,de=0,Z=!1,ce=!1;const Se=()=>{null==ke||ke.unsubscribe(),ke=null},ve=()=>{Se(),De=Qe=null,Z=ce=!1},je=()=>{const Ae=De;ve(),null==Ae||Ae.unsubscribe()};return(0,re.e)((Ae,He)=>{de++,!ce&&!Z&&Se();const Ze=Qe=null!=Qe?Qe:ae();He.add(()=>{de--,0===de&&!ce&&!Z&&(ke=J(je,Y))}),Ze.subscribe(He),De||(De=new se.Hp({next:it=>Ze.next(it),error:it=>{ce=!0,Se(),ke=J(ve,H,it),Ze.error(it)},complete:()=>{Z=!0,Se(),ke=J(ve,j),Ze.complete()}}),(0,a.D)(Ae).subscribe(De))})(Pe)}}function J(oe,ae,...H){return!0===ae?(oe(),null):!1===ae?null:ae(...H).pipe((0,Q.q)(1)).subscribe(()=>oe())}},5222:($e,fe,O)=>{"use strict";O.d(fe,{R:()=>Q});var a=O(9947);function Q(P,se=0){return(0,a.e)((re,he)=>{he.add(P.schedule(()=>re.subscribe(he),se))})}},9468:($e,fe,O)=>{"use strict";O.d(fe,{q:()=>se});var a=O(5583),Q=O(9947),P=O(8889);function se(re){return re<=0?()=>a.E:(0,Q.e)((he,J)=>{let oe=0;he.subscribe(new P.Q(J,ae=>{++oe<=re&&(J.next(ae),re<=oe&&J.complete())}))})}},7384:($e,fe,O)=>{"use strict";O.d(fe,{b:()=>re});var a=O(5044),Q=O(9947),P=O(8889),se=O(4623);function re(he,J,oe){const ae=(0,a.m)(he)||J||oe?{next:he,error:J,complete:oe}:he;return ae?(0,Q.e)((H,j)=>{var Y;null===(Y=ae.subscribe)||void 0===Y||Y.call(ae);let Pe=!0;H.subscribe(new P.Q(j,De=>{var ke;null===(ke=ae.next)||void 0===ke||ke.call(ae,De),j.next(De)},()=>{var De;Pe=!1,null===(De=ae.complete)||void 0===De||De.call(ae),j.complete()},De=>{var ke;Pe=!1,null===(ke=ae.error)||void 0===ke||ke.call(ae,De),j.error(De)},()=>{var De,ke;Pe&&(null===(De=ae.unsubscribe)||void 0===De||De.call(ae)),null===(ke=ae.finalize)||void 0===ke||ke.call(ae)}))}):se.y}},2869:($e,fe,O)=>{"use strict";O.d(fe,{o:()=>re});var a=O(7908);class Q extends a.w0{constructor(J,oe){super()}schedule(J,oe=0){return this}}const P={setInterval(...he){const{delegate:J}=P;return((null==J?void 0:J.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:J}=P;return((null==J?void 0:J.clearInterval)||clearInterval)(he)},delegate:void 0};var se=O(3980);class re extends Q{constructor(J,oe){super(J,oe),this.scheduler=J,this.work=oe,this.pending=!1}schedule(J,oe=0){if(this.closed)return this;this.state=J;const ae=this.id,H=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(H,ae,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(H,this.id,oe),this}requestAsyncId(J,oe,ae=0){return P.setInterval(J.flush.bind(J,this),ae)}recycleAsyncId(J,oe,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return oe;P.clearInterval(oe)}execute(J,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(J,oe);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,oe){let H,ae=!1;try{this.work(J)}catch(j){ae=!0,H=j||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:J,scheduler:oe}=this,{actions:ae}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ae,this),null!=J&&(this.id=this.recycleAsyncId(oe,J,null)),this.delay=null,super.unsubscribe()}}}},8843:($e,fe,O)=>{"use strict";O.d(fe,{v:()=>P});var a=O(1733);class Q{constructor(re,he=Q.now){this.schedulerActionCtor=re,this.now=he}schedule(re,he=0,J){return new this.schedulerActionCtor(this,re).schedule(J,he)}}Q.now=a.l.now;class P extends Q{constructor(re,he=Q.now){super(re,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:he}=this;if(this._active)return void he.push(re);let J;this._active=!0;do{if(J=re.execute(re.state,re.delay))break}while(re=he.shift());if(this._active=!1,J){for(;re=he.shift();)re.unsubscribe();throw J}}}},2210:($e,fe,O)=>{"use strict";O.d(fe,{z:()=>P,P:()=>se});var a=O(2869);const P=new(O(8843).v)(a.o),se=P},1733:($e,fe,O)=>{"use strict";O.d(fe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},2496:($e,fe,O)=>{"use strict";O.d(fe,{z:()=>a});const a={setTimeout(...Q){const{delegate:P}=a;return((null==P?void 0:P.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:P}=a;return((null==P?void 0:P.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},5497:($e,fe,O)=>{"use strict";O.d(fe,{h:()=>Q});const Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:($e,fe,O)=>{"use strict";O.d(fe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:($e,fe,O)=>{"use strict";O.d(fe,{jO:()=>se,yG:()=>re,_6:()=>he});var a=O(5044),Q=O(7398);function P(J){return J[J.length-1]}function se(J){return(0,a.m)(P(J))?J.pop():void 0}function re(J){return(0,Q.K)(P(J))?J.pop():void 0}function he(J,oe){return"number"==typeof P(J)?J.pop():oe}},3980:($e,fe,O)=>{"use strict";function a(Q,P){if(Q){const se=Q.indexOf(P);0<=se&&Q.splice(se,1)}}O.d(fe,{P:()=>a})},4893:($e,fe,O)=>{"use strict";function a(Q){const se=Q(re=>{Error.call(re),re.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(fe,{d:()=>a})},8706:($e,fe,O)=>{"use strict";O.d(fe,{x:()=>P,O:()=>se});var a=O(5367);let Q=null;function P(re){if(a.v.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),re(),he){const{errorThrown:J,error:oe}=Q;if(Q=null,J)throw oe}}else re()}function se(re){a.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=re)}},8395:($e,fe,O)=>{"use strict";function a(Q,P,se,re=0,he=!1){const J=P.schedule(function(){se(),he?Q.add(this.schedule(null,re)):this.unsubscribe()},re);if(Q.add(J),!he)return J}O.d(fe,{f:()=>a})},4623:($e,fe,O)=>{"use strict";function a(Q){return Q}O.d(fe,{y:()=>a})},1537:($e,fe,O)=>{"use strict";O.d(fe,{z:()=>a});const a=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},9908:($e,fe,O)=>{"use strict";O.d(fe,{D:()=>Q});var a=O(5044);function Q(P){return Symbol.asyncIterator&&(0,a.m)(null==P?void 0:P[Symbol.asyncIterator])}},5044:($e,fe,O)=>{"use strict";function a(Q){return"function"==typeof Q}O.d(fe,{m:()=>a})},1073:($e,fe,O)=>{"use strict";O.d(fe,{c:()=>P});var a=O(4816),Q=O(5044);function P(se){return(0,Q.m)(se[a.L])}},2317:($e,fe,O)=>{"use strict";O.d(fe,{T:()=>P});var a=O(5497),Q=O(5044);function P(se){return(0,Q.m)(null==se?void 0:se[a.h])}},2442:($e,fe,O)=>{"use strict";O.d(fe,{t:()=>Q});var a=O(5044);function Q(P){return(0,a.m)(null==P?void 0:P.then)}},7751:($e,fe,O)=>{"use strict";O.d(fe,{Q:()=>P,L:()=>se});var a=O(9162),Q=O(5044);function P(re){return(0,a.FC)(this,arguments,function*(){const J=re.getReader();try{for(;;){const{value:oe,done:ae}=yield(0,a.qq)(J.read());if(ae)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(oe)}}finally{J.releaseLock()}})}function se(re){return(0,Q.m)(null==re?void 0:re.getReader)}},7398:($e,fe,O)=>{"use strict";O.d(fe,{K:()=>Q});var a=O(5044);function Q(P){return P&&(0,a.m)(P.schedule)}},9947:($e,fe,O)=>{"use strict";O.d(fe,{A:()=>Q,e:()=>P});var a=O(5044);function Q(se){return(0,a.m)(null==se?void 0:se.lift)}function P(se){return re=>{if(Q(re))return re.lift(function(he){try{return se(he,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:($e,fe,O)=>{"use strict";function a(){}O.d(fe,{Z:()=>a})},7979:($e,fe,O)=>{"use strict";O.d(fe,{z:()=>Q,U:()=>P});var a=O(4623);function Q(...se){return P(se)}function P(se){return 0===se.length?a.y:1===se.length?se[0]:function(he){return se.reduce((J,oe)=>oe(J),he)}}},5160:($e,fe,O)=>{"use strict";O.d(fe,{h:()=>P});var a=O(5367),Q=O(2496);function P(se){Q.z.setTimeout(()=>{const{onUnhandledError:re}=a.v;if(!re)throw se;re(se)})}},3754:($e,fe,O)=>{"use strict";function a(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(fe,{z:()=>a})},3434:($e,fe,O)=>{"use strict";var a=O(3668);let Q=null;function P(){return Q}const J=new a.OlP("DocumentToken");let oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.LFG)(j)},providedIn:"platform"}),n})();const H=new a.OlP("Location Initialized");let j=(()=>{class n extends oe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){Y()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){Y()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:function(){return new j((0,a.LFG)(J))},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function De(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ke(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function(n){const t=(0,a.LFG)(J).location;return new Se((0,a.LFG)(oe),t&&t.origin||"")}()},providedIn:"root"}),n})();const ce=new a.OlP("appBaseHref");let Se=(()=>{class n extends de{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return De(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,c){const d=this.prepareExternalUrl(s+Qe(c));this._platformLocation.pushState(e,i,d)}replaceState(e,i,s,c){const d=this.prepareExternalUrl(s+Qe(c));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null==(s=(i=this._platformLocation).historyGo)||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oe),a.LFG(ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends de{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=De(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,c){let d=this.prepareExternalUrl(s+Qe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,s,c){let d=this.prepareExternalUrl(s+Qe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null==(s=(i=this._platformLocation).historyGo)||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oe),a.LFG(ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(e,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ke(Ze(s)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qe(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null==(s=(i=this._platformStrategy).historyGo)||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=De,n.stripTrailingSlash=ke,n.\u0275fac=function(e){return new(e||n)(a.LFG(de),a.LFG(oe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return new je((0,a.LFG)(de),(0,a.LFG)(oe))},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))();const Dr=a.kL8;class Si{}let Gt=(()=>{class n extends Si{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Dr(i||this.locale)(e)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),si=(()=>{class n{constructor(e,i,s,c){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ra{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,c,d)=>{if(null==s.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new ra(null,this._ngForOf,-1,-1),null===d?void 0:d),v=new sa(s,g);i.push(v)}else if(null==d)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const g=this._viewContainer.get(c);this._viewContainer.move(g,d);const v=new sa(s,g);i.push(v)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,c=this._viewContainer.length;s<c;s++){const d=this._viewContainer.get(s);d.context.index=s,d.context.count=c,d.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class sa{constructor(t,e){this.record=t,this.view=e}}let gi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ol,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ys("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ys("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ol{constructor(){this.$implicit=null,this.ngIf=null}}function ys(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Cn{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let oa=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ai=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new Cn(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(oa,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),or=(()=>{class n{constructor(e,i,s){s._addDefault(new Cn(e,i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(oa,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class yo{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class mh{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Pu=new mh,gh=new yo;let zs=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return Pu;if((0,a.F4k)(e))return gh;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,a.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),Ar=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Si,useClass:Gt}]}),n})();const Bu="browser";let yh=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new ua((0,a.LFG)(J),window)}),n})();class ua{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$s(this.window.history)||$s(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function $s(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ws extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ws,Q||(Q=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(yi=yi||document.querySelector("base"),yi?yi.getAttribute("href"):null);return null==e?null:function(n){Mn=Mn||document.createElement("a"),Mn.setAttribute("href",n);const t=Mn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Mn,yi=null;const Zs=new a.OlP("TRANSITION_ID"),zt=[{provide:a.ip1,useFactory:function(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=P(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<s.length;c++)i.remove(s[c])})}},deps:[Zs,J,a.zs3],multi:!0}];class jr{static init(){(0,a.VLi)(new jr)}addToWindow(t){a.dqk.getAngularTestability=(i,s=!0)=>{const c=t.findTestabilityInTree(i,s);if(null==c)throw new Error("Could not find testability for element.");return c},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const s=a.dqk.getAllAngularTestabilities();let c=s.length,d=!1;const g=function(v){d=d||v,c--,0==c&&i(d)};s.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let da=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ys=new a.OlP("EventManagerPlugins");let vi=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let c=0;c<s.length;c++){const d=s[c];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ys),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=P().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Cs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n extends Cs{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,s.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ul),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ul))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ul(n){P().remove(n)}const fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Co=/%COMP%/g;function zr(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?zr(n,s,e):(s=s.replace(Co,n),e.push(s))}return e}function dn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $r=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Yn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new gc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case a.ifc.ShadowDom:return new _c(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=zr(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vi),a.LFG(Ye),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Yn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(fa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const c=fa[s];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=fa[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,s&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dn(i)):this.eventManager.addEventListener(t,e,dn(i))}}class gc extends Yn{constructor(t,e,i,s){super(t),this.component=i;const c=zr(s+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Co,s+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(Co,s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class _c extends Yn{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=zr(s.id,s.styles,[]);for(let d=0;d<c.length;d++){const g=document.createElement("style");g.textContent=c[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ga=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs=["alt","control","meta","shift"],cr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_a={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Es={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Mr=(()=>{class n extends ha{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const c=n.parseEventName(i),d=n.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=n._normalizeKey(i.pop());let d="";if(Qs.forEach(v=>{const w=i.indexOf(v);w>-1&&(i.splice(w,1),d+=v+".")}),d+=c,0!=i.length||0===c.length)return null;const g={};return g.domEventName=s,g.fullKey=d,g}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&_a.hasOwnProperty(t)&&(t=_a[t]))}return cr[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Qs.forEach(c=>{c!=s&&Es[c](e)&&(i+=c+".")}),i+=s,i}static eventCallback(e,i,s){return c=>{n.getEventFullKey(c)===e&&s.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Eo=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Bu},{provide:a.g9A,useValue:function(){Ws.makeCurrent(),jr.init()},multi:!0},{provide:J,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),ml=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:Ys,useClass:ga,multi:!0,deps:[J,a.R0b,a.Lbi]},{provide:Ys,useClass:Mr,multi:!0,deps:[J]},{provide:$r,useClass:$r,deps:[vi,Ye,a.AFp]},{provide:a.FYo,useExisting:$r},{provide:Cs,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[J]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:vi,useClass:vi,deps:[Ys,a.R0b]},{provide:class{},useClass:da,deps:[]}];let wo=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Zs,useExisting:a.AFp},zt]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:ml,imports:[Ar,a.hGG]}),n})();"undefined"!=typeof window&&window;let Gr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(Eh),i},providedIn:"root"}),n})(),Eh=(()=>{class n extends Gr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(i),(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new Eh(n.get(J))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var En=O(5947),kn=O(8410);const{isArray:oi}=Array,{getPrototypeOf:Cc,prototype:wh,keys:Th}=Object;function Js(n){if(1===n.length){const t=n[0];if(oi(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&Cc(n)===wh}(t)){const e=Th(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Hi=O(9985),xr=O(7613),Kt=O(8889),Ke=O(4753);const{isArray:Sa}=Array;function Ec(n){return(0,Ke.U)(t=>function(n,t){return Sa(t)?n(...t):n(t)}(n,t))}function qu(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}function Io(...n){const t=(0,xr.jO)(n),{args:e,keys:i}=Js(n),s=new kn.y(c=>{const{length:d}=e;if(!d)return void c.complete();const g=new Array(d);let v=d,w=d;for(let A=0;A<d;A++){let R=!1;(0,Hi.Xf)(e[A]).subscribe(new Kt.Q(c,V=>{R||(R=!0,w--),g[A]=V},()=>v--,void 0,()=>{(!v||!R)&&(w||c.next(i?qu(i,g):g),c.complete())}))}});return t?s.pipe(Ec(t)):s}let So=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Mi=(()=>{class n extends So{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const ai=new a.OlP("NgValueAccessor"),kr={provide:ai,useExisting:(0,a.Gpc)(()=>ur),multi:!0},Dc=new a.OlP("CompositionEventMode");let ur=(()=>{class n extends So{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Dc,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[a._Bn([kr]),a.qOj]}),n})();function ji(n){return null==n||0===n.length}function Yu(n){return null!=n&&"number"==typeof n.length}const Vt=new a.OlP("NgValidators"),bi=new a.OlP("NgAsyncValidators"),Ip=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wn{static min(t){return n=t,t=>{if(ji(t.value)||ji(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null};var n}static max(t){return n=t,t=>{if(ji(t.value)||ji(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null};var n}static required(t){return Aa(t)}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ji((n=t).value)||Ip.test(n.value)?null:{email:!0};var n}static minLength(t){return n=t,t=>ji(t.value)||!Yu(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static maxLength(t){return n=t,t=>Yu(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static pattern(t){return function(n){if(!n)return zi;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ji(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return Ku(t)}static composeAsync(t){return Ju(t)}}function Aa(n){return ji(n.value)?{required:!0}:null}function zi(n){return null}function El(n){return null!=n}function $i(n){const t=(0,a.QGY)(n)?(0,En.D)(n):n;return(0,a.CqO)(t),t}function Dh(n){let t={};return n.forEach(e=>{t=null!=e?Fe(Fe({},t),e):t}),0===Object.keys(t).length?null:t}function xo(n,t){return t.map(e=>e(n))}function wl(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ku(n){if(!n)return null;const t=n.filter(El);return 0==t.length?null:function(e){return Dh(xo(e,t))}}function Qu(n){return null!=n?Ku(wl(n)):null}function Ju(n){if(!n)return null;const t=n.filter(El);return 0==t.length?null:function(e){return Io(xo(e,t).map($i)).pipe((0,Ke.U)(Dh))}}function Ih(n){return null!=n?Ju(wl(n)):null}function Sc(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ac(n){return n._rawValidators}function eo(n){return n._rawAsyncValidators}function Xu(n){return n?Array.isArray(n)?n:[n]:[]}function Tn(n,t){return Array.isArray(n)?n.includes(t):n===t}function Yr(n,t){const e=Xu(t);return Xu(n).forEach(s=>{Tn(e,s)||e.push(s)}),e}function ko(n,t){return Xu(t).filter(e=>!Tn(n,e))}class Sh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qu(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ih(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class li extends Sh{get formDirective(){return null}get path(){return null}}class _n extends Sh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dr{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(s=null==(i=this._cd)?void 0:i.control)?void 0:s[t])}}let Rr=(()=>{class n extends dr{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(_n,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),Dl=(()=>{class n extends dr{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(li,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function Po(n,t){Fo(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Qr(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Qr(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function No(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),fr(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ma(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Fo(n,t){const e=Ac(n);null!==t.validator?n.setValidators(Sc(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=eo(n);null!==t.asyncValidator?n.setAsyncValidators(Sc(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Ma(t._rawValidators,s),Ma(t._rawAsyncValidators,s)}function fr(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=Ac(n);if(Array.isArray(s)&&s.length>0){const c=s.filter(d=>d!==t.validator);c.length!==s.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const s=eo(n);if(Array.isArray(s)&&s.length>0){const c=s.filter(d=>d!==t.asyncValidator);c.length!==s.length&&(e=!0,n.setAsyncValidators(c))}}}const i=()=>{};return Ma(t._rawValidators,i),Ma(t._rawAsyncValidators,i),e}function Qr(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nd(n,t){Fo(n,t)}function k(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function q(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function X(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(c=>{c.constructor===ur?e=c:function(n){return Object.getPrototypeOf(n.constructor)===Mi}(c)?i=c:s=c}),s||i||e||null}function Ie(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ze="VALID",wt="INVALID",Pt="PENDING",jn="DISABLED";function pn(n){return(Gi(n)?n.validators:n)||null}function xi(n){return Array.isArray(n)?Qu(n):n||null}function Is(n,t){return(Gi(t)?t.asyncValidators:n)||null}function pr(n){return Array.isArray(n)?Ih(n):n||null}function Gi(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Jr{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xi(this._rawValidators),this._composedAsyncValidatorFn=pr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ze}get invalid(){return this.status===wt}get pending(){return this.status==Pt}get disabled(){return this.status===jn}get enabled(){return this.status!==jn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xi(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=pr(t)}addValidators(t){this.setValidators(Yr(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Yr(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ko(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ko(t,this._rawAsyncValidators))}hasValidator(t){return Tn(this._rawValidators,t)}hasAsyncValidator(t){return Tn(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jn,this.errors=null,this._forEachChild(i=>{i.disable(Ln(Fe({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ln(Fe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ze,this._forEachChild(i=>{i.enable(Ln(Fe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ln(Fe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ze||this.status===Pt)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jn:ze}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pt,this._hasOwnPendingAsyncValidator=!0;const e=$i(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Ss?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof kl&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?jn:this.errors?wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pt)?Pt:this._anyControlsHaveStatus(wt)?wt:ze}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gi(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ci extends Jr{constructor(t=null,e,i){super(pn(e),Is(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ie(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ie(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ss extends Jr{constructor(t,e,i){super(pn(e),Is(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ci?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,c)=>{i=e(i,s,c)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class kl extends Jr{constructor(t,e,i){super(pn(e),Is(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ci?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const xh={provide:li,useExisting:(0,a.Gpc)(()=>Xr)},xc=(()=>Promise.resolve(null))();let Xr=(()=>{class n extends li{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new Ss({},Qu(e),Ih(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xc.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Po(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Ie(this._directives,e)})}addFormGroup(e){xc.then(()=>{const i=this._findContainer(e.path),s=new Ss({});nd(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){xc.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,q(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vt,10),a.Y36(bi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([xh]),a.qOj]}),n})(),kc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Lo={provide:ai,useExisting:(0,a.Gpc)(()=>Rl),multi:!0};let Rl=(()=>{class n extends Mi{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(c){return i.onChange(c.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([Lo]),a.qOj]}),n})(),Ra=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const to=new a.OlP("NgModelWithFormControlWarning"),Mp={provide:_n,useExisting:(0,a.Gpc)(()=>Vo)};let Vo=(()=>{class n extends _n{constructor(e,i,s,c){super(),this._ngModelWarningConfig=c,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=X(0,s)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&No(i,this,!1),Po(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}k(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&No(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Vt,10),a.Y36(bi,10),a.Y36(ai,10),a.Y36(to,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([Mp]),a.qOj,a.TTD]}),n})();const Pg={provide:li,useExisting:(0,a.Gpc)(()=>Oa)};let Oa=(()=>{class n extends li{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Po(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){No(e.control||null,e,!1),Ie(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,q(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(No(i||null,e),s instanceof ci&&(Po(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);nd(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return fr(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fo(this.form,this),this._oldForm&&fr(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vt,10),a.Y36(bi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Pg]),a.qOj,a.TTD]}),n})();const Fg={provide:_n,useExisting:(0,a.Gpc)(()=>Pa)};let Pa=(()=>{class n extends _n{constructor(e,i,s,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=X(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),k(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(li,13),a.Y36(Vt,10),a.Y36(bi,10),a.Y36(ai,10),a.Y36(to,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Fg]),a.qOj,a.TTD]}),n})();const Lg={provide:ai,useExisting:(0,a.Gpc)(()=>ld),multi:!0};function xp(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let ld=(()=>{class n extends Mi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=xp(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&a.NdJ("change",function(c){return i.onChange(c.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Lg]),a.qOj]}),n})(),Rp=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(xp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(ld,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Vg={provide:ai,useExisting:(0,a.Gpc)(()=>Na),multi:!0};function Op(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Na=(()=>{class n extends Mi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(c=>this._getOptionId(c));i=(c,d)=>{c._setSelected(s.indexOf(d.toString())>-1)}}else i=(s,c)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[],c=i.selectedOptions;if(void 0!==c){const d=c;for(let g=0;g<d.length;g++){const w=this._getOptionValue(d[g].value);s.push(w)}}else{const d=i.options;for(let g=0;g<d.length;g++){const v=d[g];if(v.selected){const w=this._getOptionValue(v.value);s.push(w)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&a.NdJ("change",function(c){return i.onChange(c.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Vg]),a.qOj]}),n})(),Fh=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Op(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Op(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Na,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Zv={provide:Vt,useExisting:(0,a.Gpc)(()=>Nl),multi:!0};let Nl=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?Aa(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[a._Bn([Zv])]}),n})(),La=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ra]]}),n})(),ud=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:to,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[La]}),n})(),dd=(()=>{class n{group(e,i=null){const s=this._reduceControls(e);let g,c=null,d=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(c=null!=i.validators?i.validators:null,d=null!=i.asyncValidators?i.asyncValidators:null,g=null!=i.updateOn?i.updateOn:void 0):(c=null!=i.validator?i.validator:null,d=null!=i.asyncValidator?i.asyncValidator:null)),new Ss(s,{asyncValidators:d,updateOn:g,validators:c})}control(e,i,s){return new ci(e,i,s)}array(e,i,s){const c=e.map(d=>this._createControl(d));return new kl(c,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof ci||e instanceof Ss||e instanceof kl?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:ud}),n})();class Vp{}const ts="*";function Pc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Va(n,t=null){return{type:4,styles:t,timings:n}}function Gg(n,t=null){return{type:2,steps:n,options:t}}function Rn(n){return{type:6,styles:n,offset:null}}function Dn(n,t,e){return{type:0,name:n,styles:t,options:e}}function no(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Kn(n=null){return{type:9,options:n}}function Gh(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function fd(n){Promise.resolve(null).then(n)}class Ba{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Hp{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const c=this.players.length;0==c?fd(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++i==c&&this._onDestroy()}),d.onStart(()=>{++s==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,g)=>Math.max(d,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function jp(){return"undefined"!=typeof window&&void 0!==window.document}function pd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bo(n){switch(n.length){case 0:return new Ba;case 1:return n[0];default:return new Hp(n)}}function Wh(n,t,e,i,s={},c={}){const d=[],g=[];let v=-1,w=null;if(i.forEach(A=>{const R=A.offset,V=R==v,W=V&&w||{};Object.keys(A).forEach(ee=>{let be=ee,Ne=A[ee];if("offset"!==ee)switch(be=t.normalizePropertyName(be,d),Ne){case"!":Ne=s[ee];break;case ts:Ne=c[ee];break;default:Ne=t.normalizeStyleValue(ee,be,Ne,d)}W[be]=Ne}),V||g.push(W),w=W,v=R}),d.length){const A="\n - ";throw new Error(`Unable to animate due to the following errors:${A}${d.join(A)}`)}return g}function Zh(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Nc(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Nc(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Nc(e,"destroy",n)))}}function Nc(n,t,e){const i=e.totalTime,c=qh(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),d=n._data;return null!=d&&(c._data=d),c}function qh(n,t,e,i,s="",c=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:c,disabled:!!d}}function gr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function md(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Fc=(n,t)=>!1,gd=(n,t)=>!1,zp=(n,t,e)=>[];const Fl=pd();(Fl||"undefined"!=typeof Element)&&(Fc=jp()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),gd=(()=>{if(Fl||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):gd}})(),zp=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let c=0;c<s.length;c++)i.push(s[c])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Ha=null,Yh=!1;function Lc(n){Ha||(Ha=("undefined"!=typeof document?document.body:null)||{},Yh=!!Ha.style&&"WebkitAppearance"in Ha.style);let t=!0;return Ha.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ha.style,!t&&Yh&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ha.style)),t}const Vc=gd,Qh=Fc,Bc=zp;function $p(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Wi=(()=>{class n{validateStyleProperty(e){return Lc(e)}matchesElement(e,i){return Vc(e,i)}containsElement(e,i){return Qh(e,i)}query(e,i,s){return Bc(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,c,d,g=[],v){return new Ba(s,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Uo=(()=>{class n{}return n.NOOP=new Wi,n})();const As="ng-enter",_r="ng-leave",Or="ng-trigger",_d=".ng-trigger",ns="ng-animating",Uc=".ng-animating";function io(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yd(parseFloat(t[1]),t[2])}function yd(n,t){return"s"===t?1e3*n:n}function Qn(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,c=0,d="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=yd(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(c=yd(parseFloat(v),g[4]));const w=g[5];w&&(d=w)}else s=n;if(!e){let g=!1,v=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),g=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&t.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:c,easing:d}}(n,t,e)}function ro(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Jn(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ro(n,e);return e}function Ho(n,t,e){return e?t+":"+e+";":""}function vd(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Ho(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Ho(0,b(e),n.style[e]));n.setAttribute("style",t)}function Ms(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=p(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),pd()&&vd(n))}function Pr(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=p(e);n.style[i]=""}),pd()&&vd(n))}function so(n){return Array.isArray(n)?1==n.length?n[0]:Gg(n):n}const ef=new RegExp("{{\\s*(.+?)\\s*}}","g");function bd(n){let t=[];if("string"==typeof n){let e;for(;e=ef.exec(n);)t.push(e[1]);ef.lastIndex=0}return t}function Cd(n,t,e){const i=n.toString(),s=i.replace(ef,(c,d)=>{let g=t[d];return t.hasOwnProperty(d)||(e.push(`Please provide a value for the animation param ${d}`),g=""),g.toString()});return s==i?n:s}function _(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const f=/-+([a-z0-9])/g;function p(n){return n.replace(f,(...t)=>t[1].toUpperCase())}function b(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function I(n,t){return 0===n||0===t}function M(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let c=t[0],d=[];if(i.forEach(g=>{c.hasOwnProperty(g)||d.push(g),c[g]=e[g]}),d.length)for(var s=1;s<t.length;s++){let g=t[s];d.forEach(function(v){g[v]=ie(n,v)})}}return t}function B(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function ie(n,t){return window.getComputedStyle(n)[t]}function Me(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const v=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],c=i[2],d=i[3];t.push(xs(s,d));"<"==c[0]&&!("*"==s&&"*"==d)&&t.push(xs(d,s))}(i,e,t)):e.push(n),e}const It=new Set(["true","1"]),ln=new Set(["false","0"]);function xs(n,t){const e=It.has(n)||ln.has(n),i=It.has(t)||ln.has(t);return(s,c)=>{let d="*"==n||n==s,g="*"==t||t==c;return!d&&e&&"boolean"==typeof s&&(d=s?It.has(n):ln.has(n)),!g&&i&&"boolean"==typeof c&&(g=c?It.has(t):ln.has(t)),d&&g}}const tf=new RegExp("s*:selfs*,?","g");function za(n,t,e){return new Ed(n).build(t,e)}class Ed{constructor(t){this._driver=t}build(t,e){const i=new Hc(e);return this._resetContextStyleTimingState(i),B(this,so(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const c=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const v=g,w=v.name;w.toString().split(/\s*,\s*/).forEach(A=>{v.name=A,c.push(this.visitState(v,e))}),v.name=w}else if(1==g.type){const v=this.visitTransition(g,e);i+=v.queryCount,s+=v.depCount,d.push(v)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:d,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const c=new Set,d=s||{};if(i.styles.forEach(g=>{if($a(g)){const v=g;Object.keys(v).forEach(w=>{bd(v[w]).forEach(A=>{d.hasOwnProperty(A)||c.add(A)})})}}),c.size){const g=_(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=B(this,so(t.animation),e);return{type:1,matchers:Me(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:jo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>B(this,i,e)),options:jo(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const c=t.steps.map(d=>{e.currentTime=i;const g=B(this,d,e);return s=Math.max(s,e.currentTime),g});return e.currentTime=s,{type:3,steps:c,options:jo(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return lf(Qn(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=lf(0,0,"");return c.dynamic=!0,c.strValue=i,c}return e=e||Qn(i,t),lf(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,c=t.styles?t.styles:Rn({});if(5==c.type)s=this.visitKeyframes(c,e);else{let d=t.styles,g=!1;if(!d){g=!0;const w={};i.easing&&(w.easing=i.easing),d=Rn(w)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=g,s=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==ts?i.push(d):e.errors.push(`The provided style string value ${d} is not allowed.`):i.push(d)}):i.push(t.styles);let s=!1,c=null;return i.forEach(d=>{if($a(d)){const g=d,v=g.easing;if(v&&(c=v,delete g.easing),!s)for(let w in g)if(g[w].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,c=e.currentTime;i&&c>0&&(c-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void e.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const v=e.collectedStyles[e.currentQuerySelector],w=v[g];let A=!0;w&&(c!=s&&c>=w.startTime&&s<=w.endTime&&(e.errors.push(`The CSS property "${g}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${s}ms"`),A=!1),c=w.startTime),A&&(v[g]={startTime:c,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=bd(n);s.length&&s.forEach(c=>{i.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(d[g],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let c=0;const d=[];let g=!1,v=!1,w=0;const A=t.steps.map(mt=>{const ft=this._makeStyleAst(mt,e);let _t=null!=ft.offset?ft.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if($a(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if($a(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ft.styles),dt=0;return null!=_t&&(c++,dt=ft.offset=_t),v=v||dt<0||dt>1,g=g||dt<w,w=dt,d.push(dt),ft});v&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&e.errors.push("Please ensure that all keyframe offsets are in order");const R=t.steps.length;let V=0;c>0&&c<R?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(V=1/(R-1));const W=R-1,ee=e.currentTime,be=e.currentAnimateTimings,Ne=be.duration;return A.forEach((mt,ft)=>{const _t=V>0?ft==W?1:V*ft:d[ft],dt=_t*Ne;e.currentTime=ee+be.delay+dt,be.duration=dt,this._validateStyleAst(mt,e),mt.offset=_t,i.styles.push(mt)}),i}visitReference(t,e){return{type:8,animation:B(this,so(t.animation),e),options:jo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jo(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[c,d]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(tf,"")),n=n.replace(/@\*/g,_d).replace(/@\w+/g,e=>_d+"-"+e.substr(1)).replace(/:animating/g,Uc),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+c:c,gr(e.collectedStyles,e.currentQuerySelector,{});const g=B(this,so(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:g,originalSelector:t.selector,options:jo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Qn(t.timings,e.errors,!0);return{type:12,animation:B(this,so(t.animation),e),timings:i,options:null}}}class Hc{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function $a(n){return!Array.isArray(n)&&"object"==typeof n}function jo(n){return n?(n=ro(n)).params&&(n.params=function(n){return n?ro(n):null}(n.params)):n={},n}function lf(n,t,e){return{duration:n,delay:t,easing:e}}function qp(n,t,e,i,s,c,d=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:c,totalTime:s+c,easing:d,subTimeline:g}}class wd{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Kv=new RegExp(":enter","g"),K0=new RegExp(":leave","g");function Yp(n,t,e,i,s,c={},d={},g,v,w=[]){return(new Zg).buildKeyframes(n,t,e,i,s,c,d,g,v,w)}class Zg{buildKeyframes(t,e,i,s,c,d,g,v,w,A=[]){w=w||new wd;const R=new Qv(t,e,w,s,c,A,[]);R.options=v,R.currentTimeline.setStyles([d],null,R.errors,v),B(this,i,R);const V=R.timelines.filter(W=>W.containsAnimation());if(V.length&&Object.keys(g).length){const W=V[V.length-1];W.allowOnlyTimelineStyles()||W.setStyles([g],null,R.errors,v)}return V.length?V.map(W=>W.buildKeyframes()):[qp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,s,s.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let c=e.currentTimeline.currentTime;const d=null!=i.duration?io(i.duration):null,g=null!=i.delay?io(i.delay):null;return 0!==d&&t.forEach(v=>{const w=e.appendInstructionToTimeline(v,d,g);c=Math.max(c,w.duration+w.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),B(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const c=t.options;if(c&&(c.params||c.delay)&&(s=e.createSubContext(c),s.transformIntoNewTimeline(),null!=c.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=uf);const d=io(c.delay);s.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>B(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?io(t.options.delay):0;t.steps.forEach(d=>{const g=e.createSubContext(t.options);c&&g.delayNextStep(c),B(this,d,g),s=Math.max(s,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Qn(e.params?Cd(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(i.duration),this.visitStyle(c,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const c=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(c):i.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,c=i.duration,g=e.createSubContext().currentTimeline;g.easing=i.easing,t.styles.forEach(v=>{g.forwardTime((v.offset||0)*c),g.setStyles(v.styles,v.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(s+c),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},c=s.delay?io(s.delay):0;c&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uf);let d=i;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=g.length;let v=null;g.forEach((w,A)=>{e.currentQueryIndex=A;const R=e.createSubContext(t.options,w);c&&R.delayNextStep(c),w===e.element&&(v=R.currentTimeline),B(this,t.animation,R),R.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),g=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=g-v;break;case"full":v=i.currentStaggerTime}const A=e.currentTimeline;v&&A.delayNextStep(v);const R=A.currentTime;B(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-R+(s.startTime-i.currentTimeline.startTime)}}const uf={};class Qv{constructor(t,e,i,s,c,d,g,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=c,this.errors=d,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new df(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=io(i.duration)),null!=i.delay&&(s.delay=io(i.delay));const c=i.params;if(c){let d=s.params;d||(d=this.options.params={}),Object.keys(c).forEach(g=>{(!e||!d.hasOwnProperty(g))&&(d[g]=Cd(c[g],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,c=new Qv(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=uf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},c=new Q0(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,c,d){let g=[];if(s&&g.push(this.element),t.length>0){t=(t=t.replace(Kv,"."+this._enterClassName)).replace(K0,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),g.push(...w)}return!c&&0==g.length&&d.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),g}}class df{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new df(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ts,this._currentKeyframe[e]=ts}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const c=s&&s.params||{},d=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(c=>{e[c]=ts})):Jn(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(g=>{const v=Cd(d[g],c,i);this._pendingStyles[g]=v,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:ts),this._updateStyle(g,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((g,v)=>{const w=Jn(g,!0);Object.keys(w).forEach(A=>{const R=w[A];"!"==R?t.add(A):R==ts&&e.add(A)}),i||(w.offset=v/this.duration),s.push(w)});const c=t.size?_(t.values()):[],d=e.size?_(e.values()):[];if(i){const g=s[0],v=ro(g);g.offset=0,v.offset=1,s=[g,v]}return qp(this.element,s,c,d,this.duration,this.startTime,this.easing,!1)}}class Q0 extends df{constructor(t,e,i,s,c,d,g=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],d=i+e,g=e/d,v=Jn(t[0],!1);v.offset=0,c.push(v);const w=Jn(t[0],!1);w.offset=qg(g),c.push(w);const A=t.length-1;for(let R=1;R<=A;R++){let V=Jn(t[R],!1);V.offset=qg((e+V.offset*i)/d),c.push(V)}i=d,e=0,s="",t=c}return qp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function qg(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class is{}class Jv extends is{normalizePropertyName(t,e){return p(t)}normalizeStyleValue(t,e,i,s){let c="";const d=i.toString().trim();if(X0[e]&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return d+c}}const X0=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Xv(n,t,e,i,s,c,d,g,v,w,A,R,V){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:c,toState:i,toStyles:d,timelines:g,queriedElements:v,preStyleProps:w,postStyleProps:A,totalTime:R,errors:V}}const Yg={};class Kg{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(c=>c(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],c=this._stateStyles[t],d=s?s.buildStyles(e,i):{};return c?c.buildStyles(e,i):d}build(t,e,i,s,c,d,g,v,w,A){const R=[],V=this.ast.options&&this.ast.options.params||Yg,ee=this.buildStyles(i,g&&g.params||Yg,R),be=v&&v.params||Yg,Ne=this.buildStyles(s,be,R),mt=new Set,ft=new Map,_t=new Map,dt="void"===s,pi={params:Fe(Fe({},V),be)},Xi=A?[]:Yp(t,e,this.ast.animation,c,d,ee,Ne,pi,w,R);let ps=0;if(Xi.forEach(Ru=>{ps=Math.max(Ru.duration+Ru.delay,ps)}),R.length)return Xv(e,this._triggerName,i,s,dt,ee,Ne,[],[],ft,_t,ps,R);Xi.forEach(Ru=>{const Ou=Ru.element,Fx=gr(ft,Ou,{});Ru.preStyleProps.forEach(mp=>Fx[mp]=!0);const Vv=gr(_t,Ou,{});Ru.postStyleProps.forEach(mp=>Vv[mp]=!0),Ou!==e&&mt.add(Ou)});const ku=_(mt.values());return Xv(e,this._triggerName,i,s,dt,ee,Ne,Xi,ku,ft,_t,ps)}}class nw{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=ro(this.defaultParams);return Object.keys(t).forEach(c=>{const d=t[c];null!=d&&(s[c]=d)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const d=c;Object.keys(d).forEach(g=>{let v=d[g];v.length>1&&(v=Cd(v,s,e));const w=this.normalizer.normalizePropertyName(g,e);v=this.normalizer.normalizeStyleValue(g,w,v,e),i[w]=v})}}),i}}class Ct{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new nw(s.style,s.options&&s.options.params||{},i)}),Qg(this.states,"true","1"),Qg(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new Kg(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new Kg(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(d=>d.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Qg(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const tb=new wd;class Kp{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=za(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,c=Wh(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],c=this._animations[t];let d;const g=new Map;if(c?(d=Yp(this._driver,e,c,As,_r,{},{},i,tb,s),d.forEach(A=>{const R=gr(g,A.element,{});A.postStyleProps.forEach(V=>R[V]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),d=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);g.forEach((A,R)=>{Object.keys(A).forEach(V=>{A[V]=this._driver.computeStyle(R,V,ts)})});const w=Bo(d.map(A=>{const R=g.get(A.element);return this._buildPlayer(A,{},R)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const c=qh(e,"","","");return Zh(this._getPlayer(t),i,c,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const c=this._getPlayer(t);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const ks="ng-animate-queued",ib="ng-animate-disabled",Qp=".ng-animate-disabled",rb=[],Jp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed";class sb{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const c=ro(t);delete c.value,this.options=c}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Bl="void",Td=new sb(Bl);class Xg{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ss(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const c=gr(this._elementListeners,t,[]),d={name:e,phase:i,callback:s};c.push(d);const g=gr(this._engine.statesByElement,t,{});return g.hasOwnProperty(e)||(ss(t,Or),ss(t,Or+"-"+e),g[e]=Td),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(d);v>=0&&c.splice(v,1),this._triggers[e]||delete g[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const c=this._getTrigger(e),d=new hf(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(ss(t,Or),ss(t,Or+"-"+e),this._engine.statesByElement.set(t,g={}));let v=g[e];const w=new sb(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&w.absorbOptions(v.options),g[e]=w,v||(v=Td),w.value!==Bl&&v.value===w.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const c=e[s];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(v.params,w.params)){const be=[],Ne=c.matchStyles(v.value,v.params,be),mt=c.matchStyles(w.value,w.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{Pr(t,Ne),Ms(t,mt)})}return}const V=gr(this._engine.playersByElement,t,[]);V.forEach(be=>{be.namespaceId==this.id&&be.triggerName==e&&be.queued&&be.destroy()});let W=c.matchTransition(v.value,w.value,t,w.params),ee=!1;if(!W){if(!s)return;W=c.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:W,fromState:v,toState:w,player:d,isFallbackTransition:ee}),ee||(ss(t,ks),d.onStart(()=>{jc(t,ks)})),d.onDone(()=>{let be=this.players.indexOf(d);be>=0&&this.players.splice(be,1);const Ne=this._engine.playersByElement.get(t);if(Ne){let mt=Ne.indexOf(d);mt>=0&&Ne.splice(mt,1)}}),this.players.push(d),V.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,_d,!0);i.forEach(s=>{if(s[rs])return;const c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(d=>d.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const c=this._engine.statesByElement.get(t);if(c){const d=[];if(Object.keys(c).forEach(g=>{if(this._triggers[g]){const v=this.trigger(t,g,Bl,s);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Bo(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(c=>{const d=c.name;if(s.has(d))return;s.add(d);const v=this._triggers[d].fallbackTransition,w=i[d]||Td,A=new sb(Bl),R=new hf(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:w,toState:A,player:R,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(t):[];if(c&&c.length)s=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const c=t[rs];(!c||c===Jp)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ss(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const c=i.element,d=this._elementListeners.get(c);d&&d.forEach(g=>{if(g.name==i.triggerName){const v=qh(c,i.triggerName,i.fromState.value,i.toState.value);v._data=t,Zh(i.player,g.phase,v,g.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const c=i.transition.ast.depCount,d=s.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class e_{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Xg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let c=i;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let c=0;c<s.length;c++){const d=i[s[c]].namespaceId;if(d){const g=this._fetchNamespace(d);g&&e.add(g)}}}return e}trigger(t,e,i,s){if(Xp(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Xp(e))return;const c=e[rs];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ss(t,ib)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jc(t,ib))}removeNode(t,e,i,s){if(Xp(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[rs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,c){return Xp(e)?this._fetchNamespace(t).listen(e,i,s,c):()=>{}}_buildInstruction(t,e,i,s,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,_d,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Uc,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Bo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[rs];if(e&&e.setForRemoval){if(t[rs]=Jp,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Qp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Qp,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ss(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Bo(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new wd,s=[],c=new Map,d=[],g=new Map,v=new Map,w=new Map,A=new Set;this.disabledNodes.forEach(tt=>{A.add(tt);const ht=this.driver.query(tt,".ng-animate-queued",!0);for(let Dt=0;Dt<ht.length;Dt++)A.add(ht[Dt])});const R=this.bodyNode,V=Array.from(this.statesByElement.keys()),W=ow(V,this.collectedEnterElements),ee=new Map;let be=0;W.forEach((tt,ht)=>{const Dt=As+be++;ee.set(ht,Dt),tt.forEach(Xt=>ss(Xt,Dt))});const Ne=[],mt=new Set,ft=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const ht=this.collectedLeaveElements[tt],Dt=ht[rs];Dt&&Dt.setForRemoval&&(Ne.push(ht),mt.add(ht),Dt.hasAnimation?this.driver.query(ht,".ng-star-inserted",!0).forEach(Xt=>mt.add(Xt)):ft.add(ht))}const _t=new Map,dt=ow(V,Array.from(mt));dt.forEach((tt,ht)=>{const Dt=_r+be++;_t.set(ht,Dt),tt.forEach(Xt=>ss(Xt,Dt))}),t.push(()=>{W.forEach((tt,ht)=>{const Dt=ee.get(ht);tt.forEach(Xt=>jc(Xt,Dt))}),dt.forEach((tt,ht)=>{const Dt=_t.get(ht);tt.forEach(Xt=>jc(Xt,Dt))}),Ne.forEach(tt=>{this.processLeaveNode(tt)})});const pi=[],Xi=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(e).forEach(Dt=>{const Xt=Dt.player,er=Dt.element;if(pi.push(Xt),this.collectedEnterElements.length){const ac=er[rs];if(ac&&ac.setForMove)return void Xt.destroy()}const oc=!R||!this.driver.containsElement(R,er),mo=_t.get(er),fh=ee.get(er),ii=this._buildInstruction(Dt,i,fh,mo,oc);if(ii.errors&&ii.errors.length)Xi.push(ii);else{if(oc)return Xt.onStart(()=>Pr(er,ii.fromStyles)),Xt.onDestroy(()=>Ms(er,ii.toStyles)),void s.push(Xt);if(Dt.isFallbackTransition)return Xt.onStart(()=>Pr(er,ii.fromStyles)),Xt.onDestroy(()=>Ms(er,ii.toStyles)),void s.push(Xt);ii.timelines.forEach(ac=>ac.stretchStartingKeyframe=!0),i.append(er,ii.timelines),d.push({instruction:ii,player:Xt,element:er}),ii.queriedElements.forEach(ac=>gr(g,ac,[]).push(Xt)),ii.preStyleProps.forEach((ac,Bv)=>{const G0=Object.keys(ac);if(G0.length){let gp=v.get(Bv);gp||v.set(Bv,gp=new Set),G0.forEach(zI=>gp.add(zI))}}),ii.postStyleProps.forEach((ac,Bv)=>{const G0=Object.keys(ac);let gp=w.get(Bv);gp||w.set(Bv,gp=new Set),G0.forEach(zI=>gp.add(zI))})}});if(Xi.length){const tt=[];Xi.forEach(ht=>{tt.push(`@${ht.triggerName} has failed due to:\n`),ht.errors.forEach(Dt=>tt.push(`- ${Dt}\n`))}),pi.forEach(ht=>ht.destroy()),this.reportError(tt)}const ps=new Map,ku=new Map;d.forEach(tt=>{const ht=tt.element;i.has(ht)&&(ku.set(ht,ht),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,ps))}),s.forEach(tt=>{const ht=tt.element;this._getPreviousPlayers(ht,!1,tt.namespaceId,tt.triggerName,null).forEach(Xt=>{gr(ps,ht,[]).push(Xt),Xt.destroy()})});const Ru=Ne.filter(tt=>cw(tt,v,w)),Ou=new Map;t_(Ou,this.driver,ft,w,ts).forEach(tt=>{cw(tt,v,w)&&Ru.push(tt)});const Vv=new Map;W.forEach((tt,ht)=>{t_(Vv,this.driver,new Set(tt),v,"!")}),Ru.forEach(tt=>{const ht=Ou.get(tt),Dt=Vv.get(tt);Ou.set(tt,Fe(Fe({},ht),Dt))});const mp=[],Lx=[],Vx={};d.forEach(tt=>{const{element:ht,player:Dt,instruction:Xt}=tt;if(i.has(ht)){if(A.has(ht))return Dt.onDestroy(()=>Ms(ht,Xt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(Xt.totalTime),void s.push(Dt);let er=Vx;if(ku.size>1){let mo=ht;const fh=[];for(;mo=mo.parentNode;){const ii=ku.get(mo);if(ii){er=ii;break}fh.push(mo)}fh.forEach(ii=>ku.set(ii,er))}const oc=this._buildAnimation(Dt.namespaceId,Xt,ps,c,Vv,Ou);if(Dt.setRealPlayer(oc),er===Vx)mp.push(Dt);else{const mo=this.playersByElement.get(er);mo&&mo.length&&(Dt.parentPlayer=Bo(mo)),s.push(Dt)}}else Pr(ht,Xt.fromStyles),Dt.onDestroy(()=>Ms(ht,Xt.toStyles)),Lx.push(Dt),A.has(ht)&&s.push(Dt)}),Lx.forEach(tt=>{const ht=c.get(tt.element);if(ht&&ht.length){const Dt=Bo(ht);tt.setRealPlayer(Dt)}}),s.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<Ne.length;tt++){const ht=Ne[tt],Dt=ht[rs];if(jc(ht,_r),Dt&&Dt.hasAnimation)continue;let Xt=[];if(g.size){let oc=g.get(ht);oc&&oc.length&&Xt.push(...oc);let mo=this.driver.query(ht,Uc,!0);for(let fh=0;fh<mo.length;fh++){let ii=g.get(mo[fh]);ii&&ii.length&&Xt.push(...ii)}}const er=Xt.filter(oc=>!oc.destroyed);er.length?aw(this,ht,er):this.processLeaveNode(ht)}return Ne.length=0,mp.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const ht=this.players.indexOf(tt);this.players.splice(ht,1)}),tt.play()}),mp}elementContainsData(t,e){let i=!1;const s=e[rs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,c){let d=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(d=g)}else{const g=this.playersByElement.get(t);if(g){const v=!c||c==Bl;g.forEach(w=>{w.queued||!v&&w.triggerName!=s||d.push(w)})}}return(i||s)&&(d=d.filter(g=>!(i&&i!=g.namespaceId||s&&s!=g.triggerName))),d}_beforeAnimationBuild(t,e,i){const c=e.element,d=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const w=v.element,A=w!==c,R=gr(i,w,[]);this._getPreviousPlayers(w,A,d,g,e.toState).forEach(W=>{const ee=W.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),W.destroy(),R.push(W)})}Pr(c,e.fromStyles)}_buildAnimation(t,e,i,s,c,d){const g=e.triggerName,v=e.element,w=[],A=new Set,R=new Set,V=e.timelines.map(ee=>{const be=ee.element;A.add(be);const Ne=be[rs];if(Ne&&Ne.removedBeforeQueried)return new Ba(ee.duration,ee.delay);const mt=be!==v,ft=function(n){const t=[];return lw(n,t),t}((i.get(be)||rb).map(ps=>ps.getRealPlayer())).filter(ps=>!!ps.element&&ps.element===be),_t=c.get(be),dt=d.get(be),pi=Wh(0,this._normalizer,0,ee.keyframes,_t,dt),Xi=this._buildPlayer(ee,pi,ft);if(ee.subTimeline&&s&&R.add(be),mt){const ps=new hf(t,g,be);ps.setRealPlayer(Xi),w.push(ps)}return Xi});w.forEach(ee=>{gr(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,ee.element,ee))}),A.forEach(ee=>ss(ee,ns));const W=Bo(V);return W.onDestroy(()=>{A.forEach(ee=>jc(ee,ns)),Ms(v,e.toStyles)}),R.forEach(ee=>{gr(s,ee,[]).push(W)}),W}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ba(t.duration,t.delay)}}class hf{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ba,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Zh(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){gr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Xp(n){return n&&1===n.nodeType}function ob(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function t_(n,t,e,i,s){const c=[];e.forEach(v=>c.push(ob(v)));const d=[];i.forEach((v,w)=>{const A={};v.forEach(R=>{const V=A[R]=t.computeStyle(w,R,s);(!V||0==V.length)&&(w[rs]=WI,d.push(w))}),n.set(w,A)});let g=0;return e.forEach(v=>ob(v,c[g++])),d}function ow(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const s=new Set(t),c=new Map;function d(g){if(!g)return 1;let v=c.get(g);if(v)return v;const w=g.parentNode;return v=e.has(w)?w:s.has(w)?1:d(w),c.set(g,v),v}return t.forEach(g=>{const v=d(g);1!==v&&e.get(v).push(g)}),e}const em="$$classes";function ss(n,t){if(n.classList)n.classList.add(t);else{let e=n[em];e||(e=n[em]={}),e[t]=!0}}function jc(n,t){if(n.classList)n.classList.remove(t);else{let e=n[em];e&&delete e[t]}}function aw(n,t,e){Bo(e).onDone(()=>n.processLeaveNode(t))}function lw(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Hp?lw(i.players,t):t.push(i)}}function cw(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(c=>s.add(c)):t.set(n,i),e.delete(n),!0}class i_{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,c)=>{},this._transitionEngine=new e_(t,e,i),this._timelineEngine=new Kp(t,e,i),this._transitionEngine.onRemovalComplete=(s,c)=>this.onRemovalComplete(s,c)}registerTrigger(t,e,i,s,c){const d=t+"-"+s;let g=this._triggerCache[d];if(!g){const v=[],w=za(this._driver,c,v);if(v.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);g=function(n,t,e){return new Ct(n,t,e)}(s,w,this._normalizer),this._triggerCache[d]=g}this._transitionEngine.registerTrigger(e,s,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[c,d]=md(i);this._timelineEngine.command(c,e,d,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,c){if("@"==i.charAt(0)){const[d,g]=md(i);return this._timelineEngine.listen(d,e,g,c)}return this._transitionEngine.listen(t,e,i,s,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function uw(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ab(t[0]),t.length>1&&(i=ab(t[t.length-1]))):t&&(e=ab(t)),e||i?new YI(n,e,i):null}let YI=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ms(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ms(this._element,this._initialStyles),this._endStyles&&(Ms(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pr(this._element,this._endStyles),this._endStyles=null),Ms(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ab(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];KI(s)&&(t=t||{},t[s]=n[s])}return t}function KI(n){return"display"===n||"position"===n}const dw="animation",Wa="animationend";class hw{constructor(t,e,i,s,c,d,g){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=c,this._fillMode=d,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,t){const e=l_(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),ff(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Za(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){s_(this._element,this._name,"paused")}resume(){s_(this._element,this._name,"running")}setPosition(t){const e=tm(this._element,this._name);this._position=t*this._duration,ff(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Za(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=l_(n,"").split(","),s=a_(i,t);s>=0&&(i.splice(s,1),ff(n,"",i.join(",")))}(this._element,this._name))}}function s_(n,t,e){ff(n,"PlayState",e,tm(n,t))}function tm(n,t){const e=l_(n,"");return e.indexOf(",")>0?a_(e.split(","),t):a_([e],t)}function a_(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function Za(n,t,e){e?n.removeEventListener(Wa,t):n.addEventListener(Wa,t)}function ff(n,t,e,i){const s=dw+t;if(null!=i){const c=n.style[s];if(c.length){const d=c.split(",");d[i]=e,e=d.join(",")}}n.style[s]=e}function l_(n,t){return n.style[dw+t]||""}class ub{constructor(t,e,i,s,c,d,g,v){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=c,this._finalStyles=g,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=s+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:ie(this.element,i))})}this.currentSnapshot=t}}class pw extends Ba{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=$p(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class nm{constructor(){this._count=0}validateStyleProperty(t){return Lc(t)}matchesElement(t,e){return Vc(t,e)}containsElement(t,e){return Qh(t,e)}query(t,e,i){return Bc(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(g=>$p(g));let s=`@keyframes ${e} {\n`,c="";i.forEach(g=>{c=" ";const v=parseFloat(g.offset);s+=`${c}${100*v}% {\n`,c+=" ",Object.keys(g).forEach(w=>{const A=g[w];switch(w){case"offset":return;case"easing":return void(A&&(s+=`${c}animation-timing-function: ${A};\n`));default:return void(s+=`${c}${w}: ${A};\n`)}}),s+=`${c}}\n`}),s+="}\n";const d=document.createElement("style");return d.textContent=s,d}animate(t,e,i,s,c,d=[],g){const v=d.filter(Ne=>Ne instanceof ub),w={};I(i,s)&&v.forEach(Ne=>{let mt=Ne.currentSnapshot;Object.keys(mt).forEach(ft=>w[ft]=mt[ft])});const A=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=M(t,e,w));if(0==i)return new pw(t,A);const R="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(t,R,e);(function(n){var e;const t=null==(e=n.getRootNode)?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(V);const ee=uw(t,e),be=new ub(t,e,R,i,s,c,A,ee);return be.onDestroy(()=>{var n;(n=V).parentNode.removeChild(n)}),be}}class u_{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ie(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class d_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(f_().toString()),this._cssKeyframesDriver=new nm}validateStyleProperty(t){return Lc(t)}matchesElement(t,e){return Vc(t,e)}containsElement(t,e){return Qh(t,e)}query(t,e,i){return Bc(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,c,d=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,c,d);const A={duration:i,delay:s,fill:0==s?"both":"forwards"};c&&(A.easing=c);const R={},V=d.filter(ee=>ee instanceof u_);I(i,s)&&V.forEach(ee=>{let be=ee.currentSnapshot;Object.keys(be).forEach(Ne=>R[Ne]=be[Ne])});const W=uw(t,e=M(t,e=e.map(ee=>Jn(ee,!1)),R));return new u_(t,e,A,W)}}function f_(){return jp()&&Element.prototype.animate||{}}let im=(()=>{class n extends Vp{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?Gg(e):e;return _w(this._renderer,null,i,"register",[s]),new gw(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class gw extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hb(this._id,t,e||{},this._renderer)}}class hb{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _w(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!=(e=null==(t=this._renderer.engine.players[+this.id])?void 0:t.getPosition())?e:0}}function _w(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const p_="@.disabled";let yw=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(c,d)=>{const g=null==d?void 0:d.parentNode(c);g&&d.removeChild(g,c)}}createRenderer(e,i){const c=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let A=this._rendererCache.get(c);return A||(A=new m_("",c,this.engine),this._rendererCache.set(c,A)),A}const d=i.id,g=i.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const v=A=>{Array.isArray(A)?A.forEach(v):this.engine.registerTrigger(d,g,e,A.name,A)};return i.data.animation.forEach(v),new vw(this,g,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,g]=c;d(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(i_),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class m_{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==p_?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vw extends m_{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==p_?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),d="";return"@"!=c.charAt(0)&&([c,d]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,s,c,d,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(t,e,i)}}let Cw=(()=>{class n extends i_{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(Uo),a.LFG(is))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new a.OlP("AnimationModuleType"),ww=[{provide:Vp,useClass:im},{provide:is,useFactory:function(){return new Jv}},{provide:i_,useClass:Cw},{provide:a.FYo,useFactory:function(n,t,e){return new yw(n,t,e)},deps:[$r,i_,a.R0b]}],fb=[{provide:Uo,useFactory:function(){return"function"==typeof f_()?new d_:new nm}},{provide:oo,useValue:"BrowserAnimations"},...ww],g_=[{provide:Uo,useClass:Wi},{provide:oo,useValue:"NoopAnimations"},...ww];let pb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?g_:fb}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:fb,imports:[wo]}),n})();var St=O(273);function st(...n){const t=(0,xr.yG)(n);return(0,En.D)(n,t)}var qa=O(3719),rm=O(4763),Xn=O(9947);function ui(n,t){return(0,Xn.e)((e,i)=>{let s=null,c=0,d=!1;const g=()=>d&&!s&&i.complete();e.subscribe(new Kt.Q(i,v=>{null==s||s.unsubscribe();let w=0;const A=c++;(0,Hi.Xf)(n(v,A)).subscribe(s=new Kt.Q(i,R=>i.next(t?t(v,R,A,w++):R),()=>{s=null,g()}))},()=>{d=!0,g()}))})}var Tw=O(1733);class _f extends St.x{constructor(t=1/0,e=1/0,i=Tw.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:d}=this;e||(i.push(t),!s&&i.push(c.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:s}=this,c=s.slice();for(let d=0;d<c.length&&!t.closed;d+=i?1:2)t.next(c[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:s}=this,c=(s?1:2)*t;if(t<1/0&&c<i.length&&i.splice(0,i.length-c),!s){const d=e.now();let g=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)g=v;g&&i.splice(0,g+1)}}}var sm=O(3174);function mb(n,t,e){var i,s;let c,d=!1;return n&&"object"==typeof n?(c=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(s=n.windowTime)&&void 0!==s?s:1/0,d=!!n.refCount,e=n.scheduler):c=null!=n?n:1/0,(0,sm.B)({connector:()=>new _f(c,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}const Sd=(0,O(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Nr(n,t){return(0,Xn.e)((e,i)=>{let s=0;e.subscribe(new Kt.Q(i,c=>n.call(t,c,s++)&&i.next(c)))})}var Zi=O(9468);function Dw(n){return(0,Xn.e)((t,e)=>{let i=!1;t.subscribe(new Kt.Q(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function __(n=Iw){return(0,Xn.e)((t,e)=>{let i=!1;t.subscribe(new Kt.Q(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function Iw(){return new Sd}var Ad=O(4623);function $c(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nr((s,c)=>n(s,c,i)):Ad.y,(0,Zi.q)(1),e?Dw(t):__(()=>new Sd))}var Rs=O(5044);function gb(n,t){return(0,Rs.m)(t)?ui(()=>n,t):ui(()=>n)}var y_=O(5222),qi=O(7233),as=O(7905);O(7713);var xd=O(8239),Ya=O(1572),Hl=O(1177),F=O(4213),jl=O(3855);const bb=new Map,E_={activated:!1,tokenObservers:[]},Cb={initialized:!1,enabled:!1};function di(n){return bb.get(n)||E_}function Os(n,t){bb.set(n,t)}function om(){return Cb}class Fw{constructor(t,e,i,s,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=s,s>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xd.Z)(function*(){e.stop();try{e.pending=new F.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const yr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tb(n){if(!di(n).activated)throw yr.create("use-before-activation",{appName:n.name})}function lm(n,t){return cm.apply(this,arguments)}function cm(){return(cm=(0,xd.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});s&&(i["X-Firebase-Client"]=s.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:i};let d,g;try{d=yield fetch(n,c)}catch(R){throw yr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==d.status)throw yr.create("fetch-status-error",{httpStatus:d.status});try{g=yield d.json()}catch(R){throw yr.create("fetch-parse-error",{originalErrorMessage:R.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const w=1e3*Number(v[1]),A=Date.now();return{token:g.attestationToken,expireTimeMillis:A+w,issuedAtTimeMillis:A}})).apply(this,arguments)}function Bw(n,t){const{projectId:e,appId:i,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:t}}}const vf="firebase-app-check-store";let T_=null;function D_(){return T_||(T_=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var s;t(yr.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(vf,{keyPath:"compositeKey"})}}catch(e){t(yr.create("storage-open",{originalErrorMessage:e.message}))}}),T_)}function I_(){return(I_=(0,xd.Z)(function*(n,t){const i=(yield D_()).transaction(vf,"readwrite"),c=i.objectStore(vf).put({compositeKey:n,value:t});return new Promise((d,g)=>{c.onsuccess=v=>{d()},i.onerror=v=>{var w;g(yr.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const vr=new jl.Yd("@firebase/app-check");function A_(n,t){return(0,F.hl)()?function(n,t){return function(n,t){return I_.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{vr.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Mb(){return om().enabled}function Gw(){return fm.apply(this,arguments)}function fm(){return(fm=(0,xd.Z)(function*(){const n=om();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ww={error:"UNKNOWN_ERROR"};function x_(n){return F.US.encodeString(JSON.stringify(n),!1)}function pm(n){return k_.apply(this,arguments)}function k_(){return(k_=(0,xd.Z)(function*(n,t=!1){const e=n.app;Tb(e);const i=di(e);let c,s=i.token;if(!s){const v=yield i.cachedTokenPromise;v&&Ka(v)&&(s=v)}if(!t&&s&&Ka(s))return{token:s.token};let g,d=!1;if(Mb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=lm(Bw(e,yield Gw()),n.platformLoggerProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),d=!0);const v=yield i.exchangeTokenPromise;return yield A_(e,v),Os(e,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(v=>(i.exchangeTokenPromise=void 0,v)),d=!0),s=yield i.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?vr.warn(v.message):vr.error(v),c=v}return s?(g={token:s.token},Os(e,Object.assign(Object.assign({},i),{token:s})),yield A_(e,s)):g=qw(c),d&&bf(e,g),g})).apply(this,arguments)}function O_(n,t){const e=di(n),i=e.tokenObservers.filter(s=>s.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Os(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function xb(n){const{app:t}=n,e=di(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new Fw((0,xd.Z)(function*(){let i;if(i=di(t).token?yield pm(n,!0):yield pm(n),i.error)throw i.error}),()=>!0,()=>{const e=di(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Os(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function bf(n,t){const e=di(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(s){}}function Ka(n){return n.expireTimeMillis-Date.now()>0}function qw(n){return{token:x_(Ww),error:n}}class Cf{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=di(this.app);for(const e of t)O_(this.app,e.next);return Promise.resolve()}}const F_="app-check-internal";(0,Ya._registerComponent)(new Hl.wA("app-check",n=>function(n,t){return new Cf(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(F_).initialize()})),(0,Ya._registerComponent)(new Hl.wA(F_,n=>function(n){return{getToken:t=>pm(n,t),addTokenListener:t=>function(n,t,e,i){const{app:s}=n,c=di(s),d={next:e,error:i,type:t};if(Os(s,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&Ka(c.token)){const g=c.token;Promise.resolve().then(()=>{e({token:g.token}),xb(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>xb(n))}(n,"INTERNAL",t),removeTokenListener:t=>O_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ya.registerVersion)("@firebase/app-check","0.5.3");class ym{constructor(){return(0,qi.vb)("app-check")}}"undefined"!=typeof window&&window;var Lb=O(7892);const U_=new a.OlP("angularfire2.auth.use-emulator"),oT=new a.OlP("angularfire2.auth.settings"),Vb=new a.OlP("angularfire2.auth.tenant-id"),Jc=new a.OlP("angularfire2.auth.langugage-code"),Bb=new a.OlP("angularfire2.auth.use-device-language"),H_=new a.OlP("angularfire.auth.persistence"),Ub=(n,t,e,i,s,c,d,g)=>(0,as.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=s,c&&v.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))v.settings[w]=A;return g&&v.setPersistence(g),v},[e,i,s,c,d,g]);let Xc=(()=>{class n{constructor(e,i,s,c,d,g,v,w,A,R,V,W){const ee=new St.x,be=st(void 0).pipe((0,rm.Q)(d.outsideAngular),ui(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8694)))),(0,Ke.U)(()=>(0,as.on)(e,c,i)),(0,Ke.U)(Ne=>Ub(Ne,c,g,w,A,R,v,V)),mb({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=st(null);else{be.pipe($c()).subscribe();const mt=be.pipe(ui(dt=>dt.getRedirectResult().then(pi=>pi,()=>null)),qi.iC,mb({bufferSize:1,refCount:!1})),ft=be.pipe(ui(dt=>new kn.y(pi=>({unsubscribe:c.runOutsideAngular(()=>dt.onAuthStateChanged(Xi=>pi.next(Xi),Xi=>pi.error(Xi),()=>pi.complete()))})))),_t=be.pipe(ui(dt=>new kn.y(pi=>({unsubscribe:c.runOutsideAngular(()=>dt.onIdTokenChanged(Xi=>pi.next(Xi),Xi=>pi.error(Xi),()=>pi.complete()))}))));this.authState=mt.pipe(gb(ft),(0,y_.R)(d.outsideAngular),(0,rm.Q)(d.insideAngular)),this.user=mt.pipe(gb(_t),(0,y_.R)(d.outsideAngular),(0,rm.Q)(d.insideAngular)),this.idToken=this.user.pipe(ui(dt=>dt?(0,En.D)(dt.getIdToken()):st(null))),this.idTokenResult=this.user.pipe(ui(dt=>dt?(0,En.D)(dt.getIdTokenResult()):st(null))),this.credential=(0,qa.T)(mt,ee,this.authState.pipe(Nr(dt=>!dt))).pipe((0,Ke.U)(dt=>(null==dt?void 0:dt.user)?dt:null),(0,y_.R)(d.outsideAngular),(0,rm.Q)(d.insideAngular))}return(0,as.pX)(this,be,c,{spy:{apply:(Ne,mt,ft)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&ft.then(_t=>ee.next(_t))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(as.Dh),a.LFG(as.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(qi.HU),a.LFG(U_,8),a.LFG(oT,8),a.LFG(Vb,8),a.LFG(Jc,8),a.LFG(Bb,8),a.LFG(H_,8),a.LFG(ym,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vm=(()=>{class n{constructor(){Lb.Z.registerVersion("angularfire",qi.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Xc]}),n})();var wf=O(2210);function Hb(n,t,e,i,s){return(c,d)=>{let g=e,v=t,w=0;c.subscribe(new Kt.Q(d,A=>{const R=w++;v=g?n(v,A,R):(g=!0,A),i&&d.next(v)},s&&(()=>{g&&d.next(v),d.complete()})))}}function bm(n,t){return(0,Xn.e)(Hb(n,t,arguments.length>=2,!0))}function j_(n,t=Ad.y){return n=null!=n?n:aT,(0,Xn.e)((e,i)=>{let s,c=!0;e.subscribe(new Kt.Q(i,d=>{const g=t(d);(c||!n(s,g))&&(c=!1,s=g,i.next(d))}))})}function aT(n,t){return n===t}var z_=O(6921);O(8694);var zb=O(6293);const $_="@firebase/database";let $b="";function Em(n){$b=n}class cT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Fd=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cT(t)}}catch(t){}return new dS},$l=Fd("localStorage"),Tf=Fd("sessionStorage"),Gl=new jl.Yd("@firebase/database"),Gb=function(){let n=1;return function(){return n++}}(),wm=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},eu=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=eu.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let Wl=null,uT=!0;const Wb=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Gl.logLevel=jl.in.VERBOSE,Wl=Gl.log.bind(Gl),t&&Tf.set("logging_enabled",!0)):"function"==typeof n?Wl=n:(Wl=null,Tf.remove("logging_enabled"))},ei=function(...n){if(!0===uT&&(uT=!1,null===Wl&&!0===Tf.get("logging_enabled")&&Wb(!0)),Wl){const t=eu.apply(null,n);Wl(t)}},tu=function(n){return function(...t){ei(n,...t)}},G_=function(...n){const t="FIREBASE INTERNAL ERROR: "+eu(...n);Gl.error(t)},ao=function(...n){const t=`FIREBASE FATAL ERROR: ${eu(...n)}`;throw Gl.error(t),new Error(t)},ki=function(...n){const t="FIREBASE WARNING: "+eu(...n);Gl.warn(t)},Df=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Go="[MIN_NAME]",Wo="[MAX_NAME]",Zl=function(n,t){if(n===t)return 0;if(n===Go||t===Wo)return-1;if(t===Go||n===Wo)return 1;{const e=If(n),i=If(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},qb=function(n,t){return n===t?0:n<t?-1:1},nu=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},Tm=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=Tm(n[t[i]]);return e+="}",e},Yb=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let s=0;s<e;s+=t)i.push(n.substring(s,s+t>e?e:s+t));return i};function hi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Z_=function(n){(0,F.hu)(!Df(n),"Invalid JSON number");const i=1023;let s,c,d,g,v;0===n?(c=0,d=0,s=1/n==-1/0?1:0):(s=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),i),c=g+i,d=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(c=0,d=Math.round(n/Math.pow(2,-1074))));const w=[];for(v=52;v;v-=1)w.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)w.push(c%2?1:0),c=Math.floor(c/2);w.push(s?1:0),w.reverse();const A=w.join("");let R="";for(v=0;v<64;v+=8){let V=parseInt(A.substr(v,8),2).toString(16);1===V.length&&(V="0"+V),R+=V}return R.toLowerCase()},Jb=new RegExp("^-?(0*)\\d{1,10}$"),Y_=-2147483648,Dm=2147483647,If=function(n){if(Jb.test(n)){const t=Number(n);if(t>=Y_&&t<=Dm)return t}return null},iu=function(n){try{n()}catch(t){setTimeout(()=>{throw ki("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ld=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class hS{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ki(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dT{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ei("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ki(t)}}let Sf=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const nC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J_="websocket",ru="long_polling";class X_{constructor(t,e,i,s,c=!1,d="",g=!1){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$l.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$l.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ey(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===J_)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==ru)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const s=[];return hi(e,(c,d)=>{s.push(c+"="+d)}),i+s.join("&")}class pT{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Sm={},iC={};function Mf(n){const t=n.toString();return Sm[t]||(Sm[t]=new pT),Sm[t]}class Zo{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&iu(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class su{constructor(t,e,i,s,c,d,g){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=c,this.transportSessionId=d,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tu(t),this.stats_=Mf(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),ey(e,ru,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Zo(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bd((...c)=>{const[d,g,v,w,A]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=g,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[d,g]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,g)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&nC.test(location.hostname)&&(i.r="f");const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){su.forceAllow_=!0}static forceDisallow(){su.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!su.forceAllow_&&(su.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),s=Yb(i,1840);for(let c=0;c<s.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Bd{constructor(t,e,i,s){if(this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Gb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Bd.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(g){ei("frame writing exception"),g.stack&&ei(g.stack),ei(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ei("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+s+"="+d.seg+"&ts"+s+"="+d.ts+"&d"+s+"="+d.d,s++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(s),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||"loaded"===s||"complete"===s)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ei("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Ud=null;"undefined"!=typeof MozWebSocket?Ud=MozWebSocket:"undefined"!=typeof WebSocket&&(Ud=WebSocket);let ou=(()=>{class n{constructor(e,i,s,c,d,g,v){this.connId=e,this.applicationId=s,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tu(this.connId),this.stats_=Mf(i),this.connURL=n.connectionURL_(i,g,v,c),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,c){const d={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&nC.test(location.hostname)&&(d.r="f"),i&&(d.s=i),s&&(d.ls=s),c&&(d.ac=c),ey(e,J_,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$l.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${$b}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,g=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;g&&(c.proxy={origin:g}),this.mySock=new Ud(this.connURL,[],c)}else this.mySock=new Ud(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==Ud&&!n.forceDisallow_}static previouslyFailed(){return $l.isInMemoryStorage||!0===$l.get("previous_websocket_failure")}markConnectionHealthy(){$l.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=(0,F.cI)(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Yb(i,16384);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Hd{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[su,ou]}initTransports_(t){const e=ou&&ou.isAvailable();let i=e&&!ou.previouslyFailed();if(t.webSocketOnly&&(e||ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ou];else{const s=this.transports_=[];for(const c of Hd.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class vC{constructor(t,e,i,s,c,d,g,v,w,A){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=c,this.onMessage_=d,this.onReady_=g,this.onDisconnect_=v,this.onKill_=w,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tu("c:"+this.id+":"),this.transportManager_=new Hd(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ld(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=nu("t",t),i=nu("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=nu("t",t),i=nu("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=nu("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?G_("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):G_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Ld(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ld(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class bC{put(t,e,i,s){}merge(t,e,i,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class CC{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const s=this.getInitialEvent(t);s&&e.apply(i,s)}off(t,e,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let c=0;c<s.length;c++)if(s[c].callback===e&&(!i||i===s[c].context))return void s.splice(c,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Mm extends CC{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mm}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class rn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function qt(){return new rn("")}function kt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ql(n){return n.pieces_.length-n.pieceNum_}function mn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new rn(n.pieces_,t)}function ly(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jd(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function cy(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new rn(t,0)}function In(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof rn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new rn(e,0)}function Mt(n){return n.pieceNum_>=n.pieces_.length}function Ki(n,t){const e=kt(n),i=kt(t);if(null===e)return t;if(e===i)return Ki(mn(n),mn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function DC(n,t){const e=jd(n,0),i=jd(t,0);for(let s=0;s<e.length&&s<i.length;s++){const c=Zl(e[s],i[s]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function xm(n,t){if(ql(n)!==ql(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ls(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ql(n)>ql(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class uy{constructor(t,e){this.errorPrefix_=e,this.parts_=jd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);IC(this)}}function IC(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lu(n))}function lu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Yl extends CC{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Yl}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const km=1e3;let Rm,cu=(()=>{class n extends bC{constructor(e,i,s,c,d,g,v,w){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=g,this.appCheckTokenProvider_=v,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=tu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=km,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yl.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Mm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const c=++this.requestNumber_,d={r:c,a:e,b:i};this.log_((0,F.Pz)(d)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),s&&(this.requestCBHash_[c]=s)}get(e){this.initConnection_();const i=new F.BH,s={p:e._path.toString(),q:e._queryObject},c={action:"g",request:s,onComplete:g=>{const v=g.d;"ok"===g.s?(this.onDataUpdate_(s.p,v,!1,null),i.resolve(v)):i.reject(v)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const g=this.outstandingGets_[d];void 0===g||c!==g||(delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+d+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(d),i.promise}listen(e,i,s,c){this.initConnection_();const d=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+d),this.listens.has(g)||this.listens.set(g,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(g).has(d),"listen() called twice for same path/queryId.");const v={onComplete:c,hashFn:i,query:e,tag:s};this.listens.get(g).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+s+" for "+c);const d={p:s};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,v=>{const w=v.d,A=v.s;n.warnOnListenWarnings_(w,i),(this.listens.get(s)&&this.listens.get(s).get(c))===e&&(this.log_("listen response",v),"ok"!==A&&this.removeListen_(s,c),e.onComplete&&e.onComplete(A,w))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const s=(0,F.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(i,s,c=>{const d=c.s,g=c.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,e._queryObject,i)}sendUnlisten_(e,i,s,c){this.log_("Unlisten on "+e+" for "+i);const d={p:e};c&&(d.q=s,d.t=c),this.sendRequest("n",d)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,c){const d={p:i,d:s};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,g=>{c&&setTimeout(()=>{c(g.s,g.d)},Math.floor(0))})}put(e,i,s,c){this.putInternal("p",e,i,s,c)}merge(e,i,s,c){this.putInternal("m",e,i,s,c)}putInternal(e,i,s,c,d){this.initConnection_();const g={p:i,d:s};void 0!==d&&(g.h=d),this.outstandingPuts_.push({action:e,request:g,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):G_("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=km,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=km,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=km),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xd.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let v=!1,w=null;const A=function(){w?w.close():(v=!0,c())};e.realtime_={close:A,sendRequest:function(W){(0,F.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(W)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[W,ee]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);v?ei("getToken() completed but was canceled"):(ei("getToken() completed. Creating connection."),e.authToken_=W&&W.accessToken,e.appCheckToken_=ee&&ee.token,w=new vC(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,s,c,be=>{ki(be+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(W){e.log_("Failed to get token: "+W),v||(e.repoInfo_.nodeAdmin&&ki(W),A())}}})()}interrupt(e){ei("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ei("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=km,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;s=i?i.map(d=>Tm(d)).join("$"):"default";const c=this.removeListen_(e,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const s=new rn(e).toString();let c;if(this.listens.has(s)){const d=this.listens.get(s);c=d.get(i),d.delete(i),0===d.size&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(e,i){ei("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ei("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+$b.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mm.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Rt(t,e)}}class uu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Rt(Go,t),s=new Rt(Go,e);return 0!==this.compare(i,s)}minPost(){return Rt.MIN}}class xf extends uu{static get __EMPTY_NODE(){return Rm}static set __EMPTY_NODE(t){Rm=t}compare(t,e){return Zl(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(Wo,Rm)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,Rm)}toString(){return".key"}}const cs=new xf;class Sn{constructor(t,e,i,s,c=null){this.isReverse_=s,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=e?i(t.key,e):1,s&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Pm,Yo=(()=>{class n{constructor(e,i,s,c,d){this.key=e,this.value=i,this.color=null!=s?s:n.RED,this.left=null!=c?c:Lr.EMPTY_NODE,this.right=null!=d?d:Lr.EMPTY_NODE}copy(e,i,s,c,d){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let c=this;const d=s(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,i,s),null):0===d?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,c;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===i(e,s.key)){if(s.right.isEmpty())return Lr.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Lr{constructor(t,e=Lr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Lr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Yo.BLACK,null,null))}remove(t){return new Lr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Yo.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,s=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(s=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Sn(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Sn(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Sn(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Sn(this.root_,null,this.comparator_,!0,t)}}function ET(n,t){return Zl(n.name,t.name)}function Om(n,t){return Zl(n,t)}Lr.EMPTY_NODE=new class{copy(t,e,i,s,c){return this}insert(t,e,i){return new Yo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const py=function(n){return"number"==typeof n?"number:"+Z_(n):"string:"+n},kC=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Pm||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Pm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let RC,$d,OC,zd=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kC(this.priorityNode_)}static set __childrenNodeConstructor(e){RC=e}static get __childrenNodeConstructor(){return RC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Mt(e)?this:".priority"===kt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=kt(e);return null===s?i:i.isEmpty()&&".priority"!==s?this:((0,F.hu)(".priority"!==s||1===ql(e),".priority must be the last token in a path"),this.updateImmediateChild(s,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(mn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+py(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Z_(this.value_):this.value_,this.lazyHash_=wm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(s);return(0,F.hu)(c>=0,"Unknown leaf type: "+i),(0,F.hu)(d>=0,"Unknown leaf type: "+s),c===d?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class extends uu{compare(t,e){const i=t.node.getPriority(),s=e.node.getPriority(),c=i.compareTo(s);return 0===c?Zl(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(Wo,new zd("[PRIORITY-POST]",OC))}makePost(t,e){const i=$d(t);return new Rt(e,new zd("[PRIORITY-POST]",i))}toString(){return".priority"}},PC=Math.log(2);class NC{constructor(t){this.count=parseInt(Math.log(t+1)/PC,10),this.current_=this.count-1;const s=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fm=function(n,t,e,i){n.sort(t);const s=function(v,w){const A=w-v;let R,V;if(0===A)return null;if(1===A)return R=n[v],V=e?e(R):R,new Yo(V,R.node,Yo.BLACK,null,null);{const W=parseInt(A/2,10)+v,ee=s(v,W),be=s(W+1,w);return R=n[W],V=e?e(R):R,new Yo(V,R.node,Yo.BLACK,ee,be)}},g=function(v){let w=null,A=null,R=n.length;const V=function(ee,be){const Ne=R-ee,mt=R;R-=ee;const ft=s(Ne+1,mt),_t=n[Ne],dt=e?e(_t):_t;W(new Yo(dt,_t.node,be,null,ft))},W=function(ee){w?(w.left=ee,w=ee):(A=ee,w=ee)};for(let ee=0;ee<v.count;++ee){const be=v.nextBitIsOne(),Ne=Math.pow(2,v.count-(ee+1));be?V(Ne,Yo.BLACK):(V(Ne,Yo.BLACK),V(Ne,Yo.RED))}return A}(new NC(n.length));return new Lr(i||t,g)};let du;const Ko={};class Qa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Ko&&gn,"ChildrenNode.ts has not been loaded"),du=du||new Qa({".priority":Ko},{".priority":gn}),du}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lr?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const c=e.getIterator(Rt.Wrap);let g,d=c.getNext();for(;d;)s=s||t.isDefinedOn(d.node),i.push(d),d=c.getNext();g=s?Fm(i,t.getCompare()):Ko;const v=t.toString(),w=Object.assign({},this.indexSet_);w[v]=t;const A=Object.assign({},this.indexes_);return A[v]=g,new Qa(A,w)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(s,c)=>{const d=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(d,"Missing index implementation for "+c),s===Ko){if(d.isDefinedOn(t.node)){const g=[],v=e.getIterator(Rt.Wrap);let w=v.getNext();for(;w;)w.name!==t.name&&g.push(w),w=v.getNext();return g.push(t),Fm(g,d.getCompare())}return Ko}{const g=e.get(t.name);let v=s;return g&&(v=v.remove(new Rt(t.name,g))),v.insert(t,t.node)}});return new Qa(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,s=>{if(s===Ko)return s;{const c=e.get(t.name);return c?s.remove(new Rt(t.name,c)):s}});return new Qa(i,this.indexSet_)}}let kf,Tt=(()=>{class n{constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&kC(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kf||(kf=new n(new Lr(Om),null,Qa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kf}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?kf:i}}getChild(e){const i=kt(e);return null===i?this:this.getImmediateChild(i).getChild(mn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const s=new Rt(e,i);let c,d;i.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(s,this.children_));const g=c.isEmpty()?kf:this.priorityNode_;return new n(c,g,d)}}updateChild(e,i){const s=kt(e);if(null===s)return i;{(0,F.hu)(".priority"!==kt(e)||1===ql(e),".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(mn(e),i);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,c=0,d=!0;if(this.forEachChild(gn,(g,v)=>{i[g]=v.val(e),s++,d&&n.INTEGER_REGEXP_.test(g)?c=Math.max(c,Number(g)):d=!1}),!e&&d&&c<2*s){const g=[];for(const v in i)g[v]=i[v];return g}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+py(this.getPriority().val())+":"),this.forEachChild(gn,(i,s)=>{const c=s.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":wm(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const c=this.resolveIndex_(s);if(c){const d=c.getPredecessorKey(new Rt(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Rt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Rt(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Rt.Wrap);let d=c.peek();for(;null!=d&&i.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let d=c.peek();for(;null!=d&&i.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gd?-1:0}withIndex(e){if(e===cs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const s=this.getIterator(gn),c=i.getIterator(gn);let d=s.getNext(),g=c.getNext();for(;d&&g;){if(d.name!==g.name||!d.node.equals(g.node))return!1;d=s.getNext(),g=c.getNext()}return null===d&&null===g}return!1}return!1}}resolveIndex_(e){return e===cs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Gd=new class extends Tt{constructor(){super(new Lr(Om),Tt.EMPTY_NODE,Qa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}};function On(n,t=null){if(null===n)return Tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new zd(n,On(t));if(n instanceof Array){let e=Tt.EMPTY_NODE;return hi(n,(i,s)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const c=On(s);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(On(t))}{const e=[];let i=!1;if(hi(n,(d,g)=>{if("."!==d.substring(0,1)){const v=On(g);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Rt(d,v)))}}),0===e.length)return Tt.EMPTY_NODE;const c=Fm(e,ET,d=>d.name,Om);if(i){const d=Fm(e,gn.getCompare());return new Tt(c,On(t),new Qa({".priority":d},{".priority":gn}))}return new Tt(c,On(t),Qa.Default)}}Object.defineProperties(Rt,{MIN:{value:new Rt(Go,Tt.EMPTY_NODE)},MAX:{value:new Rt(Wo,Gd)}}),xf.__EMPTY_NODE=Tt.EMPTY_NODE,zd.__childrenNodeConstructor=Tt,Pm=Gd,OC=Gd,function(n){$d=n}(On);class Lm extends uu{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Mt(t)&&".priority"!==kt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),s=this.extractChild(e.node),c=i.compareTo(s);return 0===c?Zl(t.name,e.name):c}makePost(t,e){const i=On(t),s=Tt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Rt(e,s)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,Gd);return new Rt(Wo,t)}toString(){return jd(this.indexPath_,0).join("/")}}const my=new class extends uu{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Zl(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,e){const i=On(t);return new Rt(e,i)}toString(){return".value"}},Rf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",BC=function(){let n=0;const t=[];return function(e){const i=e===n;let s;n=e;const c=new Array(8);for(s=7;s>=0;s--)c[s]=Rf.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let d=c.join("");if(i){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)d+=Rf.charAt(t[s]);return(0,F.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),Of=function(n){if(n===""+Dm)return"-";const t=If(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let d=0;d<e.length;d++)e[d]=n.charAt(d);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Wo;const c=Rf.charAt(Rf.indexOf(e[i])+1);return e[i]=c,e.slice(0,i+1).join("")},UC=function(n){if(n===""+Y_)return Go;const t=If(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Dm:(delete e[e.length-1],e.join("")):(e[e.length-1]=Rf.charAt(Rf.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function HC(n){return{type:"value",snapshotNode:n}}function hu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Ja(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Pf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class gy{constructor(t){this.index_=t}updateChild(t,e,i,s,c,d){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(s).equals(i.getChild(s))&&g.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(Ja(e,g)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?d.trackChildChange(hu(e,i)):d.trackChildChange(Pf(e,i,g))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(gn,(s,c)=>{e.hasChild(s)||i.trackChildChange(Ja(s,c))}),e.isLeafNode()||e.forEachChild(gn,(s,c)=>{if(t.hasChild(s)){const d=t.getImmediateChild(s);d.equals(c)||i.trackChildChange(Pf(s,c,d))}else i.trackChildChange(hu(s,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Nf{constructor(t){this.indexedFilter_=new gy(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Nf.getStartPost_(t),this.endPost_=Nf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,s,c,d){return this.matches(new Rt(e,i))||(i=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,s,c,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(Tt.EMPTY_NODE);const c=this;return e.forEachChild(gn,(d,g)=>{c.matches(new Rt(d,g))||(s=s.updateImmediateChild(d,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class MT{constructor(t){this.rangedFilter_=new Nf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,s,c,d){return this.rangedFilter_.matches(new Rt(e,i))||(i=Tt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,s,c,d):this.fullLimitUpdateChild_(t,e,i,c,d)}updateFullNode(t,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;s=Tt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const g=c.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!v)break;s=s.updateImmediateChild(g.name,g.node),d++}}else{let c,d,g,v;if(s=e.withIndex(this.index_),s=s.updatePriority(Tt.EMPTY_NODE),this.reverse_){v=s.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();g=(V,W)=>R(W,V)}else v=s.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let w=0,A=!1;for(;v.hasNext();){const R=v.getNext();!A&&g(c,R)<=0&&(A=!0),A&&w<this.limit_&&g(R,d)<=0?w++:s=s.updateImmediateChild(R.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,s,c){let d;if(this.reverse_){const R=this.index_.getCompare();d=(V,W)=>R(W,V)}else d=this.index_.getCompare();const g=t;(0,F.hu)(g.numChildren()===this.limit_,"");const v=new Rt(e,i),w=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),A=this.rangedFilter_.matches(v);if(g.hasChild(e)){const R=g.getImmediateChild(e);let V=s.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=V&&(V.name===e||g.hasChild(V.name));)V=s.getChildAfterChild(this.index_,V,this.reverse_);const W=null==V?1:d(V,v);if(A&&!i.isEmpty()&&W>=0)return null!=c&&c.trackChildChange(Pf(e,i,R)),g.updateImmediateChild(e,i);{null!=c&&c.trackChildChange(Ja(e,R));const be=g.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=c&&c.trackChildChange(hu(V.name,V.node)),be.updateImmediateChild(V.name,V.node)):be}}return i.isEmpty()?t:A&&d(w,v)>=0?(null!=c&&(c.trackChildChange(Ja(w.name,w.node)),c.trackChildChange(hu(e,i))),g.updateImmediateChild(e,i).updateImmediateChild(w.name,Tt.EMPTY_NODE)):t}}class Ff{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Go}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new Ff;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _y(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function yy(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Vm(n,t){const e=n.copy();return e.index_=t,e}function vy(n){const t={};if(n.isDefault())return t;let e;return n.index_===gn?e="$priority":n.index_===my?e="$value":n.index_===cs?e="$key":((0,F.hu)(n.index_ instanceof Lm,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function $C(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class Zd extends bC{constructor(t,e,i,s){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=tu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,s){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Zd.getListenId_(t,i),g={};this.listens_[d]=g;const v=vy(t._queryParams);this.restRequest_(c+".json",v,(w,A)=>{let R=A;if(404===w&&(R=null,w=null),null===w&&this.onDataUpdate_(c,R,!1,i),(0,F.DV)(this.listens_,d)===g){let V;V=w?401===w?"permission_denied":"rest_error:"+w:"ok",s(V,null)}})}unlisten(t,e){const i=Zd.getListenId_(t,e);delete this.listens_[i]}get(t){const e=vy(t._queryParams),i=t._path.toString(),s=new F.BH;return this.restRequest_(i+".json",e,(c,d)=>{let g=d;404===c&&(g=null,c=null),null===c?(this.onDataUpdate_(i,g,!1,null),s.resolve(g)):s.reject(new Error(g))}),s.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,c])=>{s&&s.accessToken&&(e.auth=s.accessToken),c&&c.token&&(e.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+d);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(i&&4===g.readyState){this.log_("REST Response for "+d+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=(0,F.cI)(g.responseText)}catch(w){ki("Failed to parse JSON response for "+d+": "+g.responseText)}i(null,v)}else 401!==g.status&&404!==g.status&&ki("Got unsuccessful REST response for "+d+" Status: "+g.status),i(g.status);i=null}},g.open("GET",d,!0),g.send()})}}class RT{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Lf(){return{value:null,children:new Map}}function fu(n,t,e){if(Mt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=kt(t);n.children.has(i)||n.children.set(i,Lf()),fu(n.children.get(i),t=mn(t),e)}}function by(n,t){if(Mt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(i,s)=>{fu(n,new rn(i),s)}),by(n,t)}}if(n.children.size>0){const e=kt(t);return t=mn(t),n.children.has(e)&&by(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Cy(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,s)=>{Cy(s,new rn(t.toString()+"/"+i),e)})}class Ey{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&hi(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=t,e}}class NT{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ey(t);const i=1e4+2e4*Math.random();Ld(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;hi(t,(s,c)=>{c>0&&(0,F.r3)(this.statsToReport_,s)&&(e[s]=c,i=!0)}),i&&this.server_.reportStats(e),Ld(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ns=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ns||(Ns={})),Ns))();function Dy(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Bm{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ns.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Mt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new rn(t));return new Bm(qt(),e,this.revert)}}return(0,F.hu)(kt(this.path)===t,"operationForChild called for unrelated child."),new Bm(mn(this.path),this.affectedTree,this.revert)}}class Vf{constructor(t,e){this.source=t,this.path=e,this.type=Ns.LISTEN_COMPLETE}operationForChild(t){return Mt(this.path)?new Vf(this.source,qt()):new Vf(this.source,mn(this.path))}}class Kl{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ns.OVERWRITE}operationForChild(t){return Mt(this.path)?new Kl(this.source,qt(),this.snap.getImmediateChild(t)):new Kl(this.source,mn(this.path),this.snap)}}class pu{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ns.MERGE}operationForChild(t){if(Mt(this.path)){const e=this.children.subtree(new rn(t));return e.isEmpty()?null:e.value?new Kl(this.source,qt(),e.value):new pu(this.source,qt(),e)}return(0,F.hu)(kt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pu(this.source,mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ql{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Mt(t))return this.isFullyInitialized()&&!this.filtered_;const e=kt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class FT{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Bf(n,t,e,i,s,c){const d=i.filter(g=>g.type===e);d.sort((g,v)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Rt(t.childName,t.snapshotNode),s=new Rt(e.childName,e.snapshotNode);return n.index_.compare(i,s)}(n,g,v)),d.forEach(g=>{const v=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,c);s.forEach(w=>{w.respondsTo(g.type)&&t.push(w.createEvent(v,n.query_))})})}function qd(n,t){return{eventCache:n,serverCache:t}}function mu(n,t,e,i){return qd(new Ql(t,e,i),n.serverCache)}function Iy(n,t,e,i){return qd(n.eventCache,new Ql(t,e,i))}function Yd(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function gu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Sy;class yn{constructor(t,e=(()=>(Sy||(Sy=new Lr(qb)),Sy))()){this.value=t,this.children=e}static fromObject(t){let e=new yn(null);return hi(t,(i,s)=>{e=e.set(new rn(i),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:qt(),value:this.value};if(Mt(t))return null;{const i=kt(t),s=this.children.get(i);if(null!==s){const c=s.findRootMostMatchingPathAndValue(mn(t),e);return null!=c?{path:In(new rn(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Mt(t))return this;{const e=kt(t),i=this.children.get(e);return null!==i?i.subtree(mn(t)):new yn(null)}}set(t,e){if(Mt(t))return new yn(e,this.children);{const i=kt(t),c=(this.children.get(i)||new yn(null)).set(mn(t),e),d=this.children.insert(i,c);return new yn(this.value,d)}}remove(t){if(Mt(t))return this.children.isEmpty()?new yn(null):new yn(null,this.children);{const e=kt(t),i=this.children.get(e);if(i){const s=i.remove(mn(t));let c;return c=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&c.isEmpty()?new yn(null):new yn(this.value,c)}return this}}get(t){if(Mt(t))return this.value;{const e=kt(t),i=this.children.get(e);return i?i.get(mn(t)):null}}setTree(t,e){if(Mt(t))return e;{const i=kt(t),c=(this.children.get(i)||new yn(null)).setTree(mn(t),e);let d;return d=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new yn(this.value,d)}}fold(t){return this.fold_(qt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((s,c)=>{i[s]=c.fold_(In(t,s),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,qt(),e)}findOnPath_(t,e,i){const s=!!this.value&&i(e,this.value);if(s)return s;if(Mt(t))return null;{const c=kt(t),d=this.children.get(c);return d?d.findOnPath_(mn(t),In(e,c),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,qt(),e)}foreachOnPath_(t,e,i){if(Mt(t))return this;{this.value&&i(e,this.value);const s=kt(t),c=this.children.get(s);return c?c.foreachOnPath_(mn(t),In(e,s),i):new yn(null)}}foreach(t){this.foreach_(qt(),t)}foreach_(t,e){this.children.inorderTraversal((i,s)=>{s.foreach_(In(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Fs{constructor(t){this.writeTree_=t}static empty(){return new Fs(new yn(null))}}function Uf(n,t,e){if(Mt(t))return new Fs(new yn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let c=i.value;const d=Ki(s,t);return c=c.updateChild(d,e),new Fs(n.writeTree_.set(s,c))}{const s=new yn(e),c=n.writeTree_.setTree(t,s);return new Fs(c)}}}function Um(n,t,e){let i=n;return hi(e,(s,c)=>{i=Uf(i,In(t,s),c)}),i}function qC(n,t){if(Mt(t))return Fs.empty();{const e=n.writeTree_.setTree(t,new yn(null));return new Fs(e)}}function Hm(n,t){return null!=Kd(n,t)}function Kd(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ki(e.path,t)):null}function YC(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(i,s)=>{t.push(new Rt(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{null!=s.value&&t.push(new Rt(i,s.value))}),t}function Ls(n,t){if(Mt(t))return n;{const e=Kd(n,t);return new Fs(null!=e?new yn(e):n.writeTree_.subtree(t))}}function My(n){return n.writeTree_.isEmpty()}function co(n,t){return Qd(qt(),n.writeTree_,t)}function Qd(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((s,c)=>{".priority"===s?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=Qd(In(n,s),c,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(In(n,".priority"),i)),e}}function jm(n,t){return _u(t,n)}function HT(n,t){if(n.snap)return ls(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ls(In(n.path,e),t))return!0;return!1}function QC(n){return n.visible}function xy(n,t,e){let i=Fs.empty();for(let s=0;s<n.length;++s){const c=n[s];if(t(c)){const d=c.path;let g;if(c.snap)ls(e,d)?(g=Ki(e,d),i=Uf(i,g,c.snap)):ls(d,e)&&(g=Ki(d,e),i=Uf(i,qt(),c.snap.getChild(g)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(ls(e,d))g=Ki(e,d),i=Um(i,g,c.children);else if(ls(d,e))if(g=Ki(d,e),Mt(g))i=Um(i,qt(),c.children);else{const v=(0,F.DV)(c.children,kt(g));if(v){const w=v.getChild(mn(g));i=Uf(i,qt(),w)}}}}}return i}function zm(n,t,e,i,s){if(i||s){const c=Ls(n.visibleWrites,t);return!s&&My(c)?e:s||null!=e||Hm(c,qt())?co(xy(n.allWrites,function(w){return(w.visible||s)&&(!i||!~i.indexOf(w.writeId))&&(ls(w.path,t)||ls(t,w.path))},t),e||Tt.EMPTY_NODE):null}{const c=Kd(n.visibleWrites,t);if(null!=c)return c;{const d=Ls(n.visibleWrites,t);return My(d)?e:null!=e||Hm(d,qt())?co(d,e||Tt.EMPTY_NODE):null}}}function Gm(n,t,e,i){return zm(n.writeTree,n.treePath,t,e,i)}function ky(n,t){return function(n,t,e){let i=Tt.EMPTY_NODE;const s=Kd(n.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(gn,(c,d)=>{i=i.updateImmediateChild(c,d)}),i;if(e){const c=Ls(n.visibleWrites,t);return e.forEachChild(gn,(d,g)=>{const v=co(Ls(c,new rn(d)),g);i=i.updateImmediateChild(d,v)}),YC(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return YC(Ls(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function Wm(n,t,e,i){return function(n,t,e,i,s){(0,F.hu)(i||s,"Either existingEventSnap or existingServerSnap must exist");const c=In(t,e);if(Hm(n.visibleWrites,c))return null;{const d=Ls(n.visibleWrites,c);return My(d)?s.getChild(e):co(d,s.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Zm(n,t){return function(n,t){return Kd(n.visibleWrites,t)}(n.writeTree,In(n.treePath,t))}function Ry(n,t,e){return function(n,t,e,i){const s=In(t,e),c=Kd(n.visibleWrites,s);return null!=c?c:i.isCompleteForChild(e)?co(Ls(n.visibleWrites,s),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function eE(n,t){return _u(In(n.treePath,t),n.writeTree)}function _u(n,t){return{treePath:n,writeTree:t}}class tE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const c=s.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,Pf(i,t.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,Ja(i,s.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,hu(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+s);this.changeMap.set(i,Pf(i,t.snapshotNode,s.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const GT=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class qm{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ql(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ry(this.writes_,t,i)}}getChildAfterChild(t,e,i){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gu(this.viewCache_),c=function(n,t,e,i,s,c){return function(n,t,e,i,s,c,d){let g;const v=Ls(n.visibleWrites,t),w=Kd(v,qt());if(null!=w)g=w;else{if(null==e)return[];g=co(v,e)}if(g=g.withIndex(d),g.isEmpty()||g.isLeafNode())return[];{const A=[],R=d.getCompare(),V=c?g.getReverseIteratorFrom(i,d):g.getIteratorFrom(i,d);let W=V.getNext();for(;W&&A.length<s;)0!==R(W,i)&&A.push(W),W=V.getNext();return A}}(n.writeTree,n.treePath,t,e,i,s,c)}(this.writes_,s,e,1,i,t);return 0===c.length?null:c[0]}}function Oy(n,t,e,i,s,c){const d=t.eventCache;if(null!=Zm(i,e))return t;{let g,v;if(Mt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=gu(t),R=ky(i,w instanceof Tt?w:Tt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),R,c)}else{const w=Gm(i,gu(t));g=n.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const w=kt(e);if(".priority"===w){(0,F.hu)(1===ql(e),"Can't have a priority with additional path components");const A=d.getNode();v=t.serverCache.getNode();const R=Wm(i,e,A,v);g=null!=R?n.filter.updatePriority(A,R):d.getNode()}else{const A=mn(e);let R;if(d.isCompleteForChild(w)){v=t.serverCache.getNode();const V=Wm(i,e,d.getNode(),v);R=null!=V?d.getNode().getImmediateChild(w).updateChild(A,V):d.getNode().getImmediateChild(w)}else R=Ry(i,w,t.serverCache);g=null!=R?n.filter.updateChild(d.getNode(),w,R,A,s,c):d.getNode()}}return mu(t,g,d.isFullyInitialized()||Mt(e),n.filter.filtersNodes())}}function Xd(n,t,e,i,s,c,d,g){const v=t.serverCache;let w;const A=d?n.filter:n.filter.getIndexedFilter();if(Mt(e))w=A.updateFullNode(v.getNode(),i,null);else if(A.filtersNodes()&&!v.isFiltered()){const W=v.getNode().updateChild(e,i);w=A.updateFullNode(v.getNode(),W,null)}else{const W=kt(e);if(!v.isCompleteForPath(e)&&ql(e)>1)return t;const ee=mn(e),Ne=v.getNode().getImmediateChild(W).updateChild(ee,i);w=".priority"===W?A.updatePriority(v.getNode(),Ne):A.updateChild(v.getNode(),W,Ne,ee,GT,null)}const R=Iy(t,w,v.isFullyInitialized()||Mt(e),A.filtersNodes());return Oy(n,R,e,s,new qm(s,R,c),g)}function Py(n,t,e,i,s,c,d){const g=t.eventCache;let v,w;const A=new qm(s,t,c);if(Mt(e))w=n.filter.updateFullNode(t.eventCache.getNode(),i,d),v=mu(t,w,!0,n.filter.filtersNodes());else{const R=kt(e);if(".priority"===R)w=n.filter.updatePriority(t.eventCache.getNode(),i),v=mu(t,w,g.isFullyInitialized(),g.isFiltered());else{const V=mn(e),W=g.getNode().getImmediateChild(R);let ee;if(Mt(V))ee=i;else{const be=A.getCompleteChild(R);ee=null!=be?".priority"===ly(V)&&be.getChild(cy(V)).isEmpty()?be:be.updateChild(V,i):Tt.EMPTY_NODE}v=W.equals(ee)?t:mu(t,n.filter.updateChild(g.getNode(),R,ee,V,A,d),g.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Ny(n,t){return n.eventCache.isCompleteForChild(t)}function rE(n,t,e){return e.foreach((i,s)=>{t=t.updateChild(i,s)}),t}function Fy(n,t,e,i,s,c,d,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,v=t;w=Mt(e)?i:new yn(null).setTree(e,i);const A=t.serverCache.getNode();return w.children.inorderTraversal((R,V)=>{if(A.hasChild(R)){const ee=rE(0,t.serverCache.getNode().getImmediateChild(R),V);v=Xd(n,v,new rn(R),ee,s,c,d,g)}}),w.children.inorderTraversal((R,V)=>{const W=!t.serverCache.isCompleteForChild(R)&&void 0===V.value;if(!A.hasChild(R)&&!W){const be=rE(0,t.serverCache.getNode().getImmediateChild(R),V);v=Xd(n,v,new rn(R),be,s,c,d,g)}}),v}class KT{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new gy(i.getIndex()),c=function(n){return n.loadsAllData()?new gy(n.getIndex()):n.hasLimit()?new MT(n):new Nf(n)}(i);this.processor_=function(n){return{filter:n}}(c);const d=e.serverCache,g=e.eventCache,v=s.updateFullNode(Tt.EMPTY_NODE,d.getNode(),null),w=c.updateFullNode(Tt.EMPTY_NODE,g.getNode(),null),A=new Ql(v,d.isFullyInitialized(),s.filtersNodes()),R=new Ql(w,g.isFullyInitialized(),c.filtersNodes());this.viewCache_=qd(R,A),this.eventGenerator_=new FT(this.query_)}get query(){return this.query_}}function sE(n,t){const e=gu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Mt(t)&&!e.getImmediateChild(kt(t)).isEmpty())?e.getChild(t):null}function Ly(n){return 0===n.eventRegistrations_.length}function Vy(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(e,s);d&&i.push(d)})}if(t){let s=[];for(let c=0;c<n.eventRegistrations_.length;++c){const d=n.eventRegistrations_[c];if(d.matches(t)){if(t.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(c+1));break}}else s.push(d)}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function By(n,t,e,i){t.type===Ns.MERGE&&null!==t.source.queryId&&((0,F.hu)(gu(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Yd(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,c=function(n,t,e,i,s){const c=new tE;let d,g;if(e.type===Ns.OVERWRITE){const w=e;w.source.fromUser?d=Py(n,t,w.path,w.snap,i,s,c):((0,F.hu)(w.source.fromServer,"Unknown source."),g=w.source.tagged||t.serverCache.isFiltered()&&!Mt(w.path),d=Xd(n,t,w.path,w.snap,i,s,g,c))}else if(e.type===Ns.MERGE){const w=e;w.source.fromUser?d=function(n,t,e,i,s,c,d){let g=t;return i.foreach((v,w)=>{const A=In(e,v);Ny(t,kt(A))&&(g=Py(n,g,A,w,s,c,d))}),i.foreach((v,w)=>{const A=In(e,v);Ny(t,kt(A))||(g=Py(n,g,A,w,s,c,d))}),g}(n,t,w.path,w.children,i,s,c):((0,F.hu)(w.source.fromServer,"Unknown source."),g=w.source.tagged||t.serverCache.isFiltered(),d=Fy(n,t,w.path,w.children,i,s,g,c))}else if(e.type===Ns.ACK_USER_WRITE){const w=e;d=w.revert?function(n,t,e,i,s,c){let d;if(null!=Zm(i,e))return t;{const g=new qm(i,t,s),v=t.eventCache.getNode();let w;if(Mt(e)||".priority"===kt(e)){let A;if(t.serverCache.isFullyInitialized())A=Gm(i,gu(t));else{const R=t.serverCache.getNode();(0,F.hu)(R instanceof Tt,"serverChildren would be complete if leaf node"),A=ky(i,R)}A=A,w=n.filter.updateFullNode(v,A,c)}else{const A=kt(e);let R=Ry(i,A,t.serverCache);null==R&&t.serverCache.isCompleteForChild(A)&&(R=v.getImmediateChild(A)),w=null!=R?n.filter.updateChild(v,A,R,mn(e),g,c):t.eventCache.getNode().hasChild(A)?n.filter.updateChild(v,A,Tt.EMPTY_NODE,mn(e),g,c):v,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Gm(i,gu(t)),d.isLeafNode()&&(w=n.filter.updateFullNode(w,d,c)))}return d=t.serverCache.isFullyInitialized()||null!=Zm(i,qt()),mu(t,w,d,n.filter.filtersNodes())}}(n,t,w.path,i,s,c):function(n,t,e,i,s,c,d){if(null!=Zm(s,e))return t;const g=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Mt(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return Xd(n,t,e,v.getNode().getChild(e),s,c,g,d);if(Mt(e)){let w=new yn(null);return v.getNode().forEachChild(cs,(A,R)=>{w=w.set(new rn(A),R)}),Fy(n,t,e,w,s,c,g,d)}return t}{let w=new yn(null);return i.foreach((A,R)=>{const V=In(e,A);v.isCompleteForPath(V)&&(w=w.set(A,v.getNode().getChild(V)))}),Fy(n,t,e,w,s,c,g,d)}}(n,t,w.path,w.affectedTree,i,s,c)}else{if(e.type!==Ns.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);d=function(n,t,e,i,s){const c=t.serverCache;return Oy(n,Iy(t,c.getNode(),c.isFullyInitialized()||Mt(e),c.isFiltered()),e,i,GT,s)}(n,t,e.path,i,c)}const v=c.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=Yd(n);(e.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(HC(Yd(t)))}}(t,d,v),{viewCache:d,changes:v}}(n.processor_,s,t,e,i);return function(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,lE(n,c.changes,c.viewCache.eventCache.getNode(),null)}function lE(n,t,e,i){return function(n,t,e,i){const s=[],c=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),Bf(n,s,"child_removed",t,i,e),Bf(n,s,"child_added",t,i,e),Bf(n,s,"child_moved",c,i,e),Bf(n,s,"child_changed",t,i,e),Bf(n,s,"value",t,i,e),s}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let zf,vu;class cE{constructor(){this.views=new Map}}function yu(n,t,e,i){const s=t.source.queryId;if(null!==s){const c=n.views.get(s);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),By(c,t,e,i)}{let c=[];for(const d of n.views.values())c=c.concat(By(d,t,e,i));return c}}function uE(n,t,e,i,s){const d=n.views.get(t._queryIdentifier);if(!d){let g=Gm(e,s?i:null),v=!1;g?v=!0:i instanceof Tt?(g=ky(e,i),v=!1):(g=Tt.EMPTY_NODE,v=!1);const w=qd(new Ql(g,v,!1),new Ql(i,s,!1));return new KT(t,w)}return d}function dE(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function uo(n,t){let e=null;for(const i of n.views.values())e=e||sE(i,t);return e}function eh(n,t){return t._queryParams.loadsAllData()?Ym(n):n.views.get(t._queryIdentifier)}function hE(n,t){return null!=eh(n,t)}function Jl(n){return null!=Ym(n)}function Ym(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let nD=1;class Hy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new yn(null),this.pendingWriteTree_={visibleWrites:Fs.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qm(n,t,e,i,s){return function(n,t,e,i,s){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:s}),s&&(n.visibleWrites=Uf(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,s),s?th(n,new Kl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Xa(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let s=i.visible,c=!1,d=n.allWrites.length-1;for(;s&&d>=0;){const g=n.allWrites[d];g.visible&&(d>=e&&HT(g,i.path)?s=!1:ls(i.path,g.path)&&(c=!0)),d--}return!!s&&(c?(function(n){n.visibleWrites=xy(n.allWrites,QC,qt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=qC(n.visibleWrites,i.path):hi(i.children,v=>{n.visibleWrites=qC(n.visibleWrites,In(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let c=new yn(null);return null!=i.snap?c=c.set(qt(),!0):hi(i.children,d=>{c=c.set(new rn(d),!0)}),th(n,new Bm(i.path,c,e))}return[]}function $f(n,t,e){return th(n,new Kl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Gf(n,t,e,i){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||hE(c,t))){const g=function(n,t,e,i){const s=t._queryIdentifier,c=[];let d=[];const g=Jl(n);if("default"===s)for(const[v,w]of n.views.entries())d=d.concat(Vy(w,e,i)),Ly(w)&&(n.views.delete(v),w.query._queryParams.loadsAllData()||c.push(w.query));else{const v=n.views.get(s);v&&(d=d.concat(Vy(v,e,i)),Ly(v)&&(n.views.delete(s),v.query._queryParams.loadsAllData()||c.push(v.query)))}return g&&!Jl(n)&&c.push(new((0,F.hu)(zf,"Reference.ts has not been loaded"),zf)(t._repo,t._path)),{removed:c,events:d}}(c,t,e,i);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=g.removed;d=g.events;const w=-1!==v.findIndex(R=>R._queryParams.loadsAllData()),A=n.syncPointTree_.findOnPath(s,(R,V)=>Jl(V));if(w&&!A){const R=n.syncPointTree_.subtree(s);if(!R.isEmpty()){const V=function(n){return n.fold((t,e,i)=>{if(e&&Jl(e))return[Ym(e)];{let s=[];return e&&(s=dE(e)),hi(i,(c,d)=>{s=s.concat(d)}),s}})}(R);for(let W=0;W<V.length;++W){const ee=V[W],be=ee.query,Ne=eg(n,ee);n.listenProvider_.startListening(nh(be),Wf(n,be),Ne.hashFn,Ne.onComplete)}}}if(!A&&v.length>0&&!i)if(w){const R=null;n.listenProvider_.stopListening(nh(t),R)}else v.forEach(R=>{const V=n.queryToTagMap.get(Zf(R));n.listenProvider_.stopListening(nh(R),V)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const s=Zf(i),c=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(c)}}}(n,v)}return d}function Jm(n,t,e){const i=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(i,(R,V)=>{const W=Ki(R,i);s=s||uo(V,W),c=c||Jl(V)});let g,d=n.syncPointTree_.get(i);d?(c=c||Jl(d),s=s||uo(d,qt())):(d=new cE,n.syncPointTree_=n.syncPointTree_.set(i,d)),null!=s?g=!0:(g=!1,s=Tt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((V,W)=>{const ee=uo(W,qt());ee&&(s=s.updateImmediateChild(V,ee))}));const v=hE(d,t);if(!v&&!t._queryParams.loadsAllData()){const R=Zf(t);(0,F.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const V=nD++;n.queryToTagMap.set(R,V),n.tagToQueryMap.set(V,R)}let A=function(n,t,e,i,s,c){const d=uE(n,t,i,s,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function(n,t){n.eventRegistrations_.push(t)}(d,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(c,d)=>{i.push(hu(c,d))}),e.isFullyInitialized()&&i.push(HC(e.getNode())),lE(n,i,e.getNode(),t)}(d,e)}(d,t,e,jm(n.pendingWriteTree_,i),s,g);if(!v&&!c){const R=eh(d,t);A=A.concat(function(n,t,e){const i=t._path,s=Wf(n,t),c=eg(n,e),d=n.listenProvider_.startListening(nh(t),s,c.hashFn,c.onComplete),g=n.syncPointTree_.subtree(i);if(s)(0,F.hu)(!Jl(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((w,A,R)=>{if(!Mt(w)&&A&&Jl(A))return[Ym(A).query];{let V=[];return A&&(V=V.concat(dE(A).map(W=>W.query))),hi(R,(W,ee)=>{V=V.concat(ee)}),V}});for(let w=0;w<v.length;++w){const A=v[w];n.listenProvider_.stopListening(nh(A),Wf(n,A))}}return d}(n,t,R))}return A}function Xm(n,t,e){const s=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(d,g)=>{const w=uo(g,Ki(d,t));if(w)return w});return zm(s,t,c,e,!0)}function th(n,t){return pE(t,n.syncPointTree_,null,jm(n.pendingWriteTree_,qt()))}function pE(n,t,e,i){if(Mt(n.path))return Gy(n,t,e,i);{const s=t.get(qt());null==e&&null!=s&&(e=uo(s,qt()));let c=[];const d=kt(n.path),g=n.operationForChild(d),v=t.children.get(d);if(v&&g){const w=e?e.getImmediateChild(d):null,A=eE(i,d);c=c.concat(pE(g,v,w,A))}return s&&(c=c.concat(yu(s,n,i,e))),c}}function Gy(n,t,e,i){const s=t.get(qt());null==e&&null!=s&&(e=uo(s,qt()));let c=[];return t.children.inorderTraversal((d,g)=>{const v=e?e.getImmediateChild(d):null,w=eE(i,d),A=n.operationForChild(d);A&&(c=c.concat(Gy(A,g,v,w)))}),s&&(c=c.concat(yu(s,n,i,e))),c}function eg(n,t){const e=t.query,i=Wf(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||Tt.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return i?function(n,t,e){const i=tg(n,e);if(i){const s=ng(i),c=s.path,d=s.queryId,g=Ki(c,t);return Wy(n,c,new Vf(Dy(d),g))}return[]}(n,e._path,i):function(n,t){return th(n,new Vf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(s,e);return Gf(n,e,null,c)}}}}function Wf(n,t){const e=Zf(t);return n.queryToTagMap.get(e)}function Zf(n){return n._path.toString()+"$"+n._queryIdentifier}function tg(n,t){return n.tagToQueryMap.get(t)}function ng(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new rn(n.substr(0,t))}}function Wy(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),yu(i,e,jm(n.pendingWriteTree_,t),null)}function nh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,F.hu)(vu,"Reference.ts has not been loaded"),vu)(n._repo,n._path):n}class Ri{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ri(e)}node(){return this.node_}}class Xl{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=In(this.path_,t);return new Xl(this.syncTree_,e)}node(){return Xm(this.syncTree_,this.path_)}}const yE=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?bS(n[".sv"],t,e):"object"==typeof n[".sv"]?qf(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},bS=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},qf=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const s=t.node();if((0,F.hu)(null!=s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const d=s.getValue();return"number"!=typeof d?i:d+i},vE=function(n,t,e,i){return Zy(t,new Xl(e,n),i)},Yf=function(n,t,e){return Zy(n,new Ri(t),e)};function Zy(n,t,e){const i=n.getPriority().val(),s=yE(i,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const d=n,g=yE(d.getValue(),t,e);return g!==d.getValue()||s!==d.getPriority().val()?new zd(g,On(s)):n}{const d=n;return c=d,s!==d.getPriority().val()&&(c=c.updatePriority(new zd(s))),d.forEachChild(gn,(g,v)=>{const w=Zy(v,t.getImmediateChild(g),e);w!==v&&(c=c.updateImmediateChild(g,w))}),c}}class ig{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function rg(n,t){let e=t instanceof rn?t:new rn(t),i=n,s=kt(e);for(;null!==s;){const c=(0,F.DV)(i.node.children,s)||{children:{},childCount:0};i=new ig(s,i,c),e=mn(e),s=kt(e)}return i}function bu(n){return n.node.value}function Kf(n,t){n.node.value=t,Yy(n)}function qy(n){return n.node.childCount>0}function Cu(n,t){hi(n.node.children,(e,i)=>{t(new ig(e,n,i))})}function sg(n,t,e,i){e&&!i&&t(n),Cu(n,s=>{sg(s,t,!0,i)}),e&&i&&t(n)}function ih(n){return new rn(null===n.parent?n.name:ih(n.parent)+"/"+n.name)}function Yy(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===bu(n)&&!qy(n)}(e),s=(0,F.r3)(n.node.children,t);i&&s?(delete n.node.children[t],n.node.childCount--,Yy(n)):!i&&!s&&(n.node.children[t]=e.node,n.node.childCount++,Yy(n))}(n.parent,n.name,n)}const og=/[\[\].#$\/\u0000-\u001F\u007F]/,EE=/[\[\].#$\u0000-\u001F\u007F]/,Ky=10485760,rh=function(n){return"string"==typeof n&&0!==n.length&&!og.test(n)},ag=function(n){return"string"==typeof n&&0!==n.length&&!EE.test(n)},Qf=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Df(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},ho=function(n,t,e,i){i&&void 0===t||sh((0,F.gK)(n,"value"),t,e)},sh=function(n,t,e){const i=e instanceof rn?new uy(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+lu(i));if("function"==typeof t)throw new Error(n+"contains a function "+lu(i)+" with contents = "+t.toString());if(Df(t))throw new Error(n+"contains "+t.toString()+" "+lu(i));if("string"==typeof t&&t.length>Ky/3&&(0,F.ug)(t)>Ky)throw new Error(n+"contains a string greater than "+Ky+" utf8 bytes "+lu(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let s=!1,c=!1;if(hi(t,(d,g)=>{if(".value"===d)s=!0;else if(".priority"!==d&&".sv"!==d&&(c=!0,!rh(d)))throw new Error(n+" contains an invalid key ("+d+") "+lu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),IC(n)})(i,d),sh(n,g,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),s&&c)throw new Error(n+' contains ".value" child '+lu(i)+" in addition to actual children.")}},TE=function(n,t,e,i){if(i&&void 0===t)return;const s=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const c=[];hi(t,(d,g)=>{const v=new rn(d);if(sh(s,g,In(e,v)),".priority"===ly(v)&&!Qf(g))throw new Error(s+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const c=jd(i);for(let d=0;d<c.length;d++)if((".priority"!==c[d]||d!==c.length-1)&&!rh(c[d]))throw new Error(n+"contains an invalid key ("+c[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(DC);let s=null;for(e=0;e<t.length;e++){if(i=t[e],null!==s&&ls(s,i))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,c)},lg=function(n,t,e){if(!e||void 0!==t){if(Df(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},oh=function(n,t,e,i){if(!(i&&void 0===e||rh(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Jf=function(n,t,e,i){if(!(i&&void 0===e||ag(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},us=function(n,t){if(".info"===kt(t))throw new Error(n+" failed = Can't modify data under /.info/")},DE=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!rh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ag(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class IE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xf(n,t){let e=null;for(let i=0;i<t.length;i++){const s=t[i],c=s.getPath();null!==e&&!xm(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(s)}e&&n.eventLists_.push(e)}function cg(n,t,e){Xf(n,e),SE(n,i=>xm(i,t))}function ds(n,t,e){Xf(n,e),SE(n,i=>ls(i,t)||ls(t,i))}function SE(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];s&&(t(s.path)?(cD(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function cD(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Wl&&ei("event: "+e.toString()),iu(i)}}}const AE="repo_interrupt";class ES{constructor(t,e,i,s){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lf(),this.transactionQueueTree_=new ig,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uD(n){const e=n.infoData_.getNode(new rn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ug(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:uD(n)})}function dD(n,t,e,i,s){n.dataUpdateCount++;const c=new rn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(s)if(i){const v=(0,F.UI)(e,w=>On(w));d=function(n,t,e,i){const s=tg(n,i);if(s){const c=ng(s),d=c.path,g=c.queryId,v=Ki(d,t),w=yn.fromObject(e);return Wy(n,d,new pu(Dy(g),v,w))}return[]}(n.serverSyncTree_,c,v,s)}else{const v=On(e);d=function(n,t,e,i){const s=tg(n,i);if(null!=s){const c=ng(s),d=c.path,g=c.queryId,v=Ki(d,t);return Wy(n,d,new Kl(Dy(g),v,e))}return[]}(n.serverSyncTree_,c,v,s)}else if(i){const v=(0,F.UI)(e,w=>On(w));d=function(n,t,e){const i=yn.fromObject(e);return th(n,new pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,c,v)}else{const v=On(e);d=$f(n.serverSyncTree_,c,v)}let g=c;d.length>0&&(g=ec(n,c)),ds(n.eventQueue_,g,d)}function hD(n,t){xE(n,"connected",t),!1===t&&function(n){el(n,"onDisconnectEvents");const t=ug(n),e=Lf();Cy(n.onDisconnect_,qt(),(s,c)=>{const d=vE(s,c,n.serverSyncTree_,t);fu(e,s,d)});let i=[];Cy(e,qt(),(s,c)=>{i=i.concat($f(n.serverSyncTree_,s,c));const d=Cr(n,s);ec(n,d)}),n.onDisconnect_=Lf(),ds(n.eventQueue_,qt(),i)}(n)}function xE(n,t,e){const i=new rn("/.info/"+t),s=On(e);n.infoData_.updateSnapshot(i,s);const c=$f(n.infoSyncTree_,i,s);ds(n.eventQueue_,i,c)}function Eu(n){return n.nextWriteId_++}function ep(n,t,e,i,s){el(n,"set",{path:t.toString(),value:e,priority:i});const c=ug(n),d=On(e,i),g=Xm(n.serverSyncTree_,t),v=Yf(d,g,c),w=Eu(n),A=Qm(n.serverSyncTree_,t,v,w,!0);Xf(n.eventQueue_,A),n.server_.put(t.toString(),d.val(!0),(V,W)=>{const ee="ok"===V;ee||ki("set at "+t+" failed: "+V);const be=Xa(n.serverSyncTree_,w,!ee);ds(n.eventQueue_,t,be),tl(0,s,V,W)});const R=Cr(n,t);ec(n,R),ds(n.eventQueue_,R,[])}function fD(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,s)=>{"ok"===i&&by(n.onDisconnect_,t),tl(0,e,i,s)})}function RE(n,t,e,i){const s=On(e);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&fu(n.onDisconnect_,t,s),tl(0,i,c,d)})}function dg(n,t,e){let i;i=".info"===kt(t._path)?Gf(n.infoSyncTree_,t,e):Gf(n.serverSyncTree_,t,e),cg(n.eventQueue_,t._path,i)}function pD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(AE)}function el(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ei(e,...t)}function tl(n,t,e,i){t&&iu(()=>{if("ok"===e)t(null);else{const s=(e||"error").toUpperCase();let c=s;i&&(c+=": "+i);const d=new Error(c);d.code=s,t(d)}})}function FE(n,t,e){return Xm(n.serverSyncTree_,t,e)||Tt.EMPTY_NODE}function Jy(n,t=n.transactionQueueTree_){if(t||fg(n,t),bu(t)){const e=LE(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function(n,t,e){const i=e.map(w=>w.currentWriteId),s=FE(n,t,i);let c=s;const d=s.hash();for(let w=0;w<e.length;w++){const A=e[w];(0,F.hu)(0===A.status,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const R=Ki(t,A.path);c=c.updateChild(R,A.currentOutputSnapshotRaw)}const g=c.val(!0),v=t;n.server_.put(v.toString(),g,w=>{el(n,"transaction put response",{path:v.toString(),status:w});let A=[];if("ok"===w){const R=[];for(let V=0;V<e.length;V++)e[V].status=2,A=A.concat(Xa(n.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&R.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();fg(n,rg(n.transactionQueueTree_,t)),Jy(n,n.transactionQueueTree_),ds(n.eventQueue_,t,A);for(let V=0;V<R.length;V++)iu(R[V])}else{if("datastale"===w)for(let R=0;R<e.length;R++)e[R].status=3===e[R].status?4:0;else{ki("transaction at "+v.toString()+" failed: "+w);for(let R=0;R<e.length;R++)e[R].status=4,e[R].abortReason=w}ec(n,t)}},d)}(n,ih(t),e)}else qy(t)&&Cu(t,e=>{Jy(n,e)})}function ec(n,t){const e=_D(n,t),i=ih(e);return function(n,t,e){if(0===t.length)return;const i=[];let s=[];const d=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const v=t[g],w=Ki(e,v.path);let R,A=!1;if((0,F.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)A=!0,R=v.abortReason,s=s.concat(Xa(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)A=!0,R="maxretry",s=s.concat(Xa(n.serverSyncTree_,v.currentWriteId,!0));else{const V=FE(n,v.path,d);v.currentInputSnapshot=V;const W=t[g].update(V.val());if(void 0!==W){sh("transaction failed: Data returned ",W,v.path);let ee=On(W);"object"==typeof W&&null!=W&&(0,F.r3)(W,".priority")||(ee=ee.updatePriority(V.getPriority()));const Ne=v.currentWriteId,mt=ug(n),ft=Yf(ee,V,mt);v.currentOutputSnapshotRaw=ee,v.currentOutputSnapshotResolved=ft,v.currentWriteId=Eu(n),d.splice(d.indexOf(Ne),1),s=s.concat(Qm(n.serverSyncTree_,v.path,ft,v.currentWriteId,v.applyLocally)),s=s.concat(Xa(n.serverSyncTree_,Ne,!0))}else A=!0,R="nodata",s=s.concat(Xa(n.serverSyncTree_,v.currentWriteId,!0))}ds(n.eventQueue_,e,s),s=[],A&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&i.push("nodata"===R?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(R),!1,null)))}fg(n,n.transactionQueueTree_);for(let g=0;g<i.length;g++)iu(i[g]);Jy(n,n.transactionQueueTree_)}(n,LE(n,e),i),i}function _D(n,t){let e,i=n.transactionQueueTree_;for(e=kt(t);null!==e&&void 0===bu(i);)i=rg(i,e),e=kt(t=mn(t));return i}function LE(n,t){const e=[];return hg(n,t,e),e.sort((i,s)=>i.order-s.order),e}function hg(n,t,e){const i=bu(t);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);Cu(t,s=>{hg(n,s,e)})}function fg(n,t){const e=bu(t);if(e){let i=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[i]=e[s],i++);e.length=i,Kf(t,e.length>0?e:void 0)}Cu(t,i=>{fg(n,i)})}function Cr(n,t){const e=ih(_D(n,t)),i=rg(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,s=>{Xy(n,s)}),Xy(n,i),sg(i,s=>{Xy(n,s)}),e}function Xy(n,t){const e=bu(t);if(e){const i=[];let s=[],c=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,F.hu)(c===d-1,"All SENT items should be at beginning of queue."),c=d,e[d].status=3,e[d].abortReason="set"):((0,F.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),s=s.concat(Xa(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Kf(t,void 0):e.length=c+1,ds(n.eventQueue_,ih(t),s);for(let d=0;d<i.length;d++)iu(i[d])}}const tv=function(n,t){const e=nv(n),i=e.namespace;return"firebase.com"===e.domain&&ao(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ao("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new X_(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new rn(e.pathString)}},nv=function(n){let t="",e="",i="",s="",c="",d=!0,g="https",v=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(g=n.substring(0,w-1),n=n.substring(w+2));let A=n.indexOf("/");-1===A&&(A=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),t=n.substring(0,Math.min(A,R)),A<R&&(s=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(c){}t+="/"+s}return t}(n.substring(A,R)));const V=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ki(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,R)));w=t.indexOf(":"),w>=0?(d="https"===g||"wss"===g,v=parseInt(t.substring(w+1),10)):w=t.length;const W=t.slice(0,w);if("localhost"===W.toLowerCase())e="localhost";else if(W.split(".").length<=2)e=W;else{const ee=t.indexOf(".");i=t.substring(0,ee).toLowerCase(),e=t.substring(ee+1),c=i}"ns"in V&&(c=V.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:d,scheme:g,pathString:s,namespace:c}};class iv{constructor(t,e,i,s){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class rv{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class VE{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class sv{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return fD(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){us("OnDisconnect.remove",this._path);const t=new F.BH;return RE(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){us("OnDisconnect.set",this._path),ho("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return RE(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){us("OnDisconnect.setWithPriority",this._path),ho("OnDisconnect.setWithPriority",t,this._path,!1),lg("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function(n,t,e,i,s){const c=On(e,i);n.server_.onDisconnectPut(t.toString(),c.val(!0),(d,g)=>{"ok"===d&&fu(n.onDisconnect_,t,c),tl(0,s,d,g)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){us("OnDisconnect.update",this._path),TE("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function(n,t,e,i){if((0,F.xb)(e))return ei("onDisconnect().update() called with empty data.  Don't do anything."),void tl(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(s,c)=>{"ok"===s&&hi(e,(d,g)=>{const v=On(g);fu(n.onDisconnect_,In(t,d),v)}),tl(0,i,s,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Er{constructor(t,e,i,s){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return Mt(this._path)?null:ly(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){const t=$C(this._queryParams),e=Tm(t);return"{}"===e?"default":e}get _queryObject(){return $C(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Er))return!1;const e=this._repo===t._repo,i=xm(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function pg(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function tc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===cs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Go)throw new Error(i);if("string"!=typeof t)throw new Error(s)}if(n.hasEnd()){if(n.getIndexEndName()!==Wo)throw new Error(i);if("string"!=typeof e)throw new Error(s)}}else if(n.getIndex()===gn){if(null!=t&&!Qf(t)||null!=e&&!Qf(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Lm||n.getIndex()===my,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lh(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fn extends Er{constructor(t,e){super(t,e,new Ff,!1)}get parent(){const t=cy(this._path);return null===t?null:new Fn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class wu{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new rn(t),i=nc(this.ref,t);return new wu(this._node.getChild(e),i,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,s)=>t(new wu(s,nc(this.ref,i),gn)))}hasChild(t){const e=new rn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function BE(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?nc(n._root,t):n._root}function UE(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=tv(t,n._repo.repoInfo_.nodeAdmin);DE("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ao("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),BE(n,e.path.toString())}function nc(n,t){return null===kt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Jf("child","path",e,!1)):Jf("child","path",t,!1),new Fn(n._repo,In(n._path,t));var e}function ov(n,t){n=(0,F.m9)(n),us("set",n._path),ho("set",t,n._path,!1);const e=new F.BH;return ep(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function zE(n,t){TE("update",t,n._path,!1);const e=new F.BH;return function(n,t,e,i){el(n,"update",{path:t.toString(),value:e});let s=!0;const c=ug(n),d={};if(hi(e,(g,v)=>{s=!1,d[g]=vE(In(t,g),On(v),n.serverSyncTree_,c)}),s)ei("update() called with empty data.  Don't do anything."),tl(0,i,"ok",void 0);else{const g=Eu(n),v=function(n,t,e,i){!function(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Um(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const s=yn.fromObject(e);return th(n,new pu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,t,d,g);Xf(n.eventQueue_,v),n.server_.merge(t.toString(),e,(w,A)=>{const R="ok"===w;R||ki("update at "+t+" failed: "+w);const V=Xa(n.serverSyncTree_,g,!R),W=V.length>0?ec(n,t):t;ds(n.eventQueue_,W,V),tl(0,i,w,A)}),hi(e,w=>{const A=Cr(n,In(t,w));ec(n,A)}),ds(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function bD(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(w,A)=>{const R=Ki(w,e);i=i||uo(A,R)});let s=n.syncPointTree_.get(e);s?i=i||uo(s,qt()):(s=new cE,n.syncPointTree_=n.syncPointTree_.set(e,s));const c=null!=i,d=c?new Ql(i,!0,!1):null;return function(n){return Yd(n.viewCache_)}(uE(s,t,jm(n.pendingWriteTree_,t._path),c?d.getNode():Tt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const s=On(i).withIndex(t._queryParams.getIndex()),c=$f(n.serverSyncTree_,t._path,s);return cg(n.eventQueue_,t._path,c),Promise.resolve(s)},i=>(el(n,"get for query "+(0,F.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,F.m9)(n))._repo,n).then(t=>new wu(t,new Fn(n._repo,n._path),n._queryParams.getIndex()))}class mg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new iv("value",this,new wu(t.snapshotNode,new Fn(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new rv(this,t,e):null}matches(t){return t instanceof mg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tp{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new rv(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=nc(new Fn(e._repo,e._path),t.childName),s=e._queryParams.getIndex();return new iv(t.type,this,new wu(t.snapshotNode,i,s),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof tp&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function nl(n,t,e,i,s){let c;if("object"==typeof i&&(c=void 0,s=i),"function"==typeof i&&(c=i),s&&s.onlyOnce){const v=e,w=(A,R)=>{dg(n._repo,n,g),v(A,R)};w.userCallback=e.userCallback,w.context=e.context,e=w}const d=new VE(e,c||void 0),g="value"===t?new mg(d):new tp(t,d);return function(n,t,e){let i;i=".info"===kt(t._path)?Jm(n.infoSyncTree_,t,e):Jm(n.serverSyncTree_,t,e),cg(n.eventQueue_,t._path,i)}(n._repo,n,g),()=>dg(n._repo,n,g)}function np(n,t,e,i){return nl(n,"value",t,e,i)}function av(n,t,e,i){return nl(n,"child_added",t,e,i)}function $E(n,t,e,i){return nl(n,"child_changed",t,e,i)}function lv(n,t,e,i){return nl(n,"child_moved",t,e,i)}function cv(n,t,e,i){return nl(n,"child_removed",t,e,i)}function GE(n,t,e){let i=null;const s=e?new VE(e):null;"value"===t?i=new mg(s):t&&(i=new tp(t,s)),dg(n._repo,n,i)}class fo{}class CD extends fo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ho("endAt",this._value,t._path,!0);const e=yy(t._queryParams,this._value,this._key);if(lh(e),tc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(t._repo,t._path,e,t._orderByCalled)}}class WE extends fo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ho("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,s;return n.index_===cs?("string"==typeof t&&(t=UC(t)),s=yy(n,t,e)):(i=null==e?Go:UC(e),s=yy(n,t,i)),s.endBeforeSet_=!0,s}(t._queryParams,this._value,this._key);if(lh(e),tc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(t._repo,t._path,e,t._orderByCalled)}}class ZE extends fo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ho("startAt",this._value,t._path,!0);const e=_y(t._queryParams,this._value,this._key);if(lh(e),tc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Er(t._repo,t._path,e,t._orderByCalled)}}class xS extends fo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ho("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===cs)"string"==typeof t&&(t=Of(t)),i=_y(n,t,e);else{let s;s=null==e?Wo:Of(e),i=_y(n,t,s)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(lh(e),tc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Er(t._repo,t._path,e,t._orderByCalled)}}class RS extends fo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class PS extends fo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class gg extends fo{constructor(t){super(),this._path=t}_apply(t){pg(t,"orderByChild");const e=new rn(this._path);if(Mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Lm(e),s=Vm(t._queryParams,i);return tc(s),new Er(t._repo,t._path,s,!0)}}class ID extends fo{_apply(t){pg(t,"orderByKey");const e=Vm(t._queryParams,cs);return tc(e),new Er(t._repo,t._path,e,!0)}}class Tu extends fo{_apply(t){pg(t,"orderByPriority");const e=Vm(t._queryParams,gn);return tc(e),new Er(t._repo,t._path,e,!0)}}class uv extends fo{_apply(t){pg(t,"orderByValue");const e=Vm(t._queryParams,my);return tc(e),new Er(t._repo,t._path,e,!0)}}class SD extends fo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ho("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new CD(this._value,this._key)._apply(new ZE(this._value,this._key)._apply(t))}}function hs(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,F.hu)(!zf,"__referenceConstructor has already been defined"),zf=n})(Fn),function(n){(0,F.hu)(!vu,"__referenceConstructor has already been defined"),vu=n}(Fn);const _g={};function MD(n,t,e,i,s){let c=i||n.options.databaseURL;void 0===c&&(n.options.projectId||ao("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ei("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,w,d=tv(c,s),g=d.repoInfo;"undefined"!=typeof process&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(v=!0,c=`http://${w}?ns=${g.namespace}`,d=tv(c,s),g=d.repoInfo):v=!d.repoInfo.secure;const A=s&&v?new Sf(Sf.OWNER):new dT(n.name,n.options,t);DE("Invalid Firebase Database URL",d),Mt(d.path)||ao("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function(n,t,e,i){let s=_g[t.name];s||(s={},_g[t.name]=s);let c=s[n.toURLString()];return c&&ao("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new ES(n,false,e,i),s[n.toURLString()]=c,c}(g,n,A,new hS(n.name,e));return new BS(R,n)}class BS{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=Mf(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Zd(n.repoInfo_,(i,s,c,d)=>{dD(n,i,s,c,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hD(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new cu(n.repoInfo_,t,(i,s,c,d)=>{dD(n,i,s,c,d)},i=>{hD(n,i)},i=>{!function(n,t){hi(t,(e,i)=>{xE(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return iC[e]||(iC[e]=t()),iC[e]}(n.repoInfo_,()=>new NT(n.stats_,n.server_)),n.infoData_=new RT,n.infoSyncTree_=new Hy({startListening:(i,s,c,d)=>{let g=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(g=$f(n.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),g},stopListening:()=>{}}),xE(n,"connected",!1),n.serverSyncTree_=new Hy({startListening:(i,s,c,d)=>(n.server_.listen(i,c,s,(g,v)=>{const w=d(g,v);ds(n.eventQueue_,i._path,w)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=_g[t];(!e||e[n.key]!==n)&&ao(`Database ${t}(${n.repoInfo_}) has already been deleted.`),pD(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ao("Cannot call "+t+" on a deleted database.")}}function PD(n,t){Wb(n,t)}class FD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cu.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},cu.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},Em(Ya.SDK_VERSION),(0,Ya._registerComponent)(new Hl.wA("database",(t,{instanceIdentifier:e})=>MD(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ya.registerVersion)($_,"0.12.5",void 0),(0,Ya.registerVersion)($_,"0.12.5","esm2017");const LD=new jl.Yd("@firebase/database-compat"),n0=function(n){LD.warn("FIREBASE WARNING: "+n)};class HS{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const s=this._delegate.setWithPriority(t,e);return i&&s.then(()=>i(null),c=>i(c)),s}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const s={};for(let c=0;c<t.length;++c)s[""+c]=t[c];t=s,n0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),s=>e(s)),i}}class UD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ic{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Jf("DataSnapshot.child","path",t,!1),new ic(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Jf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ic(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new fs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Oi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,s){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const d=Oi.getCancelAndContextArgs_("Query.on",i,s),g=(w,A)=>{e.call(d.context,new ic(this.database,w),A)};g.userCallback=e,g.context=d.context;const v=null===(c=d.cancel)||void 0===c?void 0:c.bind(d.context);switch(t){case"value":return np(this._delegate,g,v),e;case"child_added":return av(this._delegate,g,v),e;case"child_removed":return cv(this._delegate,g,v),e;case"child_changed":return $E(this._delegate,g,v),e;case"child_moved":return lv(this._delegate,g,v),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const s=()=>{};s.userCallback=e,s.context=i,GE(this._delegate,t,s)}else GE(this._delegate,t)}get(){return bD(this._delegate).then(t=>new ic(this.database,t))}once(t,e,i,s){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=Oi.getCancelAndContextArgs_("Query.once",i,s),d=new F.BH,g=(w,A)=>{const R=new ic(this.database,w);e&&e.call(c.context,R,A),d.resolve(R)};g.userCallback=e,g.context=c.context;const v=w=>{c.cancel&&c.cancel.call(c.context,w),d.reject(w)};switch(t){case"value":np(this._delegate,g,v,{onlyOnce:!0});break;case"child_added":av(this._delegate,g,v,{onlyOnce:!0});break;case"child_removed":cv(this._delegate,g,v,{onlyOnce:!0});break;case"child_changed":$E(this._delegate,g,v,{onlyOnce:!0});break;case"child_moved":lv(this._delegate,g,v,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Oi(this.database,hs(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new RS(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Oi(this.database,hs(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new PS(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Oi(this.database,hs(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Jf("orderByChild","path",n,!1),new gg(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Oi(this.database,hs(this._delegate,new ID))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Oi(this.database,hs(this._delegate,new Tu))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Oi(this.database,hs(this._delegate,new uv))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Oi(this.database,hs(this._delegate,function(n=null,t){return oh("startAt","key",t,!0),new ZE(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Oi(this.database,hs(this._delegate,function(n,t){return oh("startAfter","key",t,!0),new xS(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Oi(this.database,hs(this._delegate,function(n,t){return oh("endAt","key",t,!0),new CD(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Oi(this.database,hs(this._delegate,function(n,t){return oh("endBefore","key",t,!0),new WE(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Oi(this.database,hs(this._delegate,function(n,t){return oh("equalTo","key",t,!0),new SD(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Oi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const s={cancel:void 0,context:void 0};if(e&&i)s.cancel=e,(0,F.Wj)(t,"cancel",s.cancel,!0),s.context=i,(0,F.lb)(t,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new fs(this.database,new Fn(this._delegate._repo,this._delegate._path))}}class fs extends Oi{constructor(t,e){super(t,new Er(e._repo,e._path,new Ff,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new fs(this.database,nc(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new fs(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new fs(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=ov(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const s={};for(let c=0;c<t.length;++c)s[""+c]=t[c];t=s,n0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}us("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=zE(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const s=function(n,t,e){if(us("setWithPriority",n._path),ho("setWithPriority",t,n._path,!1),lg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return ep(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&s.then(()=>i(null),c=>i(c)),s}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return us("remove",n._path),ov(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const s=function(n,t,e){var i;if(n=(0,F.m9)(n),us("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const s=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,c=new F.BH,g=np(n,()=>{});return function(n,t,e,i,s,c){el(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:Gb(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=FE(n,t,void 0);d.currentInputSnapshot=g;const v=d.update(g.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{sh("transaction failed: Data returned ",v,d.path),d.status=0;const w=rg(n.transactionQueueTree_,t),A=bu(w)||[];let R;A.push(d),Kf(w,A),"object"==typeof v&&null!==v&&(0,F.r3)(v,".priority")?(R=(0,F.DV)(v,".priority"),(0,F.hu)(Qf(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(Xm(n.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const V=ug(n),W=On(v,R),ee=Yf(W,g,V);d.currentOutputSnapshotRaw=W,d.currentOutputSnapshotResolved=ee,d.currentWriteId=Eu(n);const be=Qm(n.serverSyncTree_,t,ee,d.currentWriteId,d.applyLocally);ds(n.eventQueue_,t,be),Jy(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,w,A)=>{let R=null;v?c.reject(v):(R=new wu(A,new Fn(n._repo,n._path),gn),c.resolve(new FD(w,R)))},g,s),c.promise}(this._delegate,t,{applyLocally:i}).then(c=>new UD(c.committed,new ic(this.database,c.snapshot)));return e&&s.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),s}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,F.m9)(n),us("setPriority",n._path),lg("setPriority",t,!1);const e=new F.BH;return ep(n._repo,In(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),s=>e(s)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,F.m9)(n),us("push",n._path),ho("push",t,n._path,!0);const e=uD(n._repo),i=BC(e),s=nc(n,i),c=nc(n,i);let d;return d=null!=t?ov(c,t).then(()=>c):Promise.resolve(c),s.then=d.then.bind(d),s.catch=d.then.bind(d,void 0),s}(this._delegate,t),s=i.then(d=>new fs(this.database,d));e&&s.then(()=>e(null),d=>e(d));const c=new fs(this.database,i);return c.then=s.then.bind(s),c.catch=s.catch.bind(s,void 0),c}onDisconnect(){return us("Reference.onDisconnect",this._delegate._path),new HS(new sv(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ip{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ao("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let c;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&ao('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Sf(Sf.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);c=new Sf(d)}!function(n,t,e,i){n.repoInfo_=new X_(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(s,t,e,c)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof fs){const e=UE(this._delegate,t.toString());return new fs(this,e)}{const e=BE(this._delegate,t);return new fs(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=UE(this._delegate,t);return new fs(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),pD(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(AE)}(n._repo)}(this._delegate)}}ip.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var jD=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:s,nodeAdmin:c=!1}){Em(e);const d=new Hl.zt("auth-internal",new Hl.H0("database-standalone"));return d.setComponent(new Hl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new ip(MD(n,d,void 0,t,c),n),namespace:s}}});const zD=ip.ServerValue;function $D(n){return null==n}function GD(n){return"function"==typeof n.set}function r0(n,t){return GD(t)?t:n.ref(t)}function WD(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(GD(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function vg(n,t,e="on",i=wf.z){return new kn.y(s=>{let c=null;return c=n[e](t,(d,g)=>{i.schedule(()=>{s.next({snapshot:d,prevKey:g})}),"once"===e&&i.schedule(()=>s.complete())},d=>{i.schedule(()=>s.error(d))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(s=>{const{snapshot:c,prevKey:d}=s;let g=null;return c.exists()&&(g=c.key),{type:t,payload:c,prevKey:d,key:g}}),(0,sm.B)())}function ZD(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function o(n,t){const{payload:e,prevKey:i,key:s}=t,c=ZD(n,s),d=function(n,t){if($D(t))return 0;{const e=ZD(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(v=>{const w={payload:v,type:"value",prevKey:g,key:v.key};return g=v.key,n=[...n,w],!1})}return n;case"child_added":if(c>-1){const g=n[c-1];(g&&g.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===s?t:g);case"child_moved":if(c>-1){const g=n.splice(c,1)[0];return(n=n.slice()).splice(d,0,g),n}return n;default:return n}}function l(n){return($D(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function u(n,t,e){return function(n,t,e){return vg(n,"value","once",e).pipe(ui(i=>{const s=[st(i)];return t.forEach(c=>s.push(vg(n,c,"on",e))),(0,qa.T)(...s).pipe(bm(o,[]))}),j_())}(n,t=l(t),e)}function h(n,t,e){const i=(t=l(t)).map(s=>vg(n,s,"on",e));return(0,qa.T)(...i)}function E(n,t){return function(i,s){return WD(i,{stringCase:()=>n.child(i)[t](s),firebaseCase:()=>i[t](s),snapshotCase:()=>i.ref[t](s)})}}function S(n){return function(e){return e?WD(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function N(n,t){return function(){return vg(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new Hl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("database").getImmediate({identifier:e});return new ip(s,i)},"PUBLIC").setServiceProps({Reference:fs,Query:Oi,Database:ip,DataSnapshot:ic,enableLogging:PD,INTERNAL:jD,ServerValue:zD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(zb.Z);const K=new a.OlP("angularfire2.realtimeDatabaseURL"),me=new a.OlP("angularfire2.database.use-emulator");let Oe=(()=>{class n{constructor(e,i,s,c,d,g,v,w,A,R,V,W,ee,be,Ne){this.schedulers=g;const mt=v,ft=(0,as.on)(e,d,i);w&&Ub(ft,d,A,V,W,ee,R,be),this.database=(0,as.cc)(`${ft.name}.database.${s}`,"AngularFireDatabase",ft.name,()=>{const _t=d.runOutsideAngular(()=>ft.database(s||void 0));return mt&&_t.useEmulator(...mt),_t},[mt])}list(e,i){const s=this.schedulers.ngZone.runOutsideAngular(()=>r0(this.database,e));let c=s;return i&&(c=i(s)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:E(i,"update"),set:E(i,"set"),push:s=>i.push(s),remove:S(i),snapshotChanges:s=>u(n,s,e).pipe(qi.iC),stateChanges:s=>h(n,s,e).pipe(qi.iC),auditTrail:s=>function(n,t,e){return function(n,t,e){return function(n,t){return vg(n,"value","on",t).pipe((0,Ke.U)(e=>{let i;return e.payload.forEach(s=>(i=s.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){const t=(0,xr.jO)(n);return(0,Xn.e)((e,i)=>{const s=n.length,c=new Array(s);let d=n.map(()=>!1),g=!1;for(let v=0;v<s;v++)(0,Hi.Xf)(n[v]).subscribe(new Kt.Q(i,w=>{c[v]=w,!g&&!d[v]&&(d[v]=!0,(g=d.every(Ad.y))&&(d=null))},z_.Z));e.subscribe(new Kt.Q(i,v=>{if(g){const w=[v,...c];i.next(t?t(...w):w)}}))})}(t),(0,Ke.U)(([s,c])=>{const d=s.lastKeyToLoad,g=c.map(v=>v.key);return{actions:c,lastKeyToLoad:d,loadedKeys:g}}),(0,Xn.e)((t,e)=>{let i=!1;t.subscribe(new Kt.Q(e,c=>(i||(i=!(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad))(c)))&&e.next(c)))}),(0,Ke.U)(s=>s.actions))}(n,h(n,t).pipe(bm((s,c)=>[...s,c],[])),e)}(n,s,e).pipe(qi.iC),valueChanges:(s,c)=>u(n,s,e).pipe((0,Ke.U)(g=>g.map(v=>c&&c.idField?Object.assign(Object.assign({},v.payload.val()),{[c.idField]:v.key}):v.payload.val())),qi.iC)}}(c,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>N(n,t.schedulers.outsideAngular)().pipe(qi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>N(n,t.schedulers.outsideAngular)().pipe(qi.iC,(0,Ke.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>r0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(as.Dh),a.LFG(as.xv,8),a.LFG(K,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(qi.HU),a.LFG(me,8),a.LFG(Xc,8),a.LFG(U_,8),a.LFG(oT,8),a.LFG(Vb,8),a.LFG(Jc,8),a.LFG(Bb,8),a.LFG(H_,8),a.LFG(ym,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ve=(()=>{class n{constructor(){Lb.Z.registerVersion("angularfire",qi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Oe]}),n})();class Ue extends St.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var we=O(8395);function nt(...n){const t=(0,xr.yG)(n),e=(0,xr.jO)(n),{args:i,keys:s}=Js(n);if(0===i.length)return(0,En.D)([],t);const c=new kn.y(function(n,t,e=Ad.y){return i=>{Qt(t,()=>{const{length:s}=n,c=new Array(s);let d=s,g=s;for(let v=0;v<s;v++)Qt(t,()=>{const w=(0,En.D)(n[v],t);let A=!1;w.subscribe(new Kt.Q(i,R=>{c[v]=R,A||(A=!0,g--),g||i.next(e(c.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,s?d=>qu(s,d):Ad.y));return e?c.pipe(Ec(e)):c}function Qt(n,t,e){n?(0,we.f)(e,n,t):t()}var Qi=O(5373);function Iu(...n){return(0,Qi.J)(1)((0,En.D)(n,(0,xr.yG)(n)))}function rp(n){return new kn.y(t=>{(0,Hi.Xf)(n()).subscribe(t)})}var il=O(5583),Vr=O(7908);function bg(){return(0,Xn.e)((n,t)=>{let e=null;n._refCount++;const i=new Kt.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,c=e;e=null,s&&(!c||s===c)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class pv extends kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Xn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Vr.w0;const e=this.getSubject();t.add(this.source.subscribe(new Kt.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Vr.w0.EMPTY)}return t}refCount(){return bg()(this)}}function Jo(...n){const t=(0,xr.yG)(n);return(0,Xn.e)((e,i)=>{(t?Iu(n,e,t):Iu(n,e)).subscribe(i)})}function po(n){return(0,Xn.e)((t,e)=>{let c,i=null,s=!1;i=t.subscribe(new Kt.Q(e,void 0,void 0,d=>{c=(0,Hi.Xf)(n(d,po(n)(t))),i?(i.unsubscribe(),i=null,c.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,c.subscribe(e))})}var ni=O(5724);function Cg(n,t){return(0,Rs.m)(t)?(0,ni.z)(n,t,1):(0,ni.z)(n,1)}function qD(n){return n<=0?()=>il.E:(0,Xn.e)((t,e)=>{let i=[];t.subscribe(new Kt.Q(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}var Ji=O(7384);function WS(n){return(0,Xn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Su{constructor(t,e){this.id=t,this.url=e}}class YD extends Su{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mv extends Su{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ZS extends Su{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zx extends Su{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qx extends Su{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yx extends Su{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kx extends Su{constructor(t,e,i,s,c){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qx extends Su{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jx extends Su{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qS{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YS{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xx{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ek{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tk{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nk{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KS{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class ik{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Eg(n){return new ik(n)}const QS="ngNavigationCancelingError";function KD(n){const t=Error("NavigationCancelingError: "+n);return t[QS]=!0,t}function sk(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let c=0;c<i.length;c++){const d=i[c],g=n[c];if(d.startsWith(":"))s[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function rc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!JS(n[s],t[s]))return!1;return!0}function JS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,c)=>i[c]===s)}return n===t}function XS(n){return Array.prototype.concat.apply([],n)}function eA(n){return n.length>0?n[n.length-1]:null}function wr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function sc(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,En.D)(Promise.resolve(n)):st(n)}const lk={exact:function iA(n,t,e){if(!op(n.segments,t.segments)||!s0(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!iA(n.children[i],t.children[i],e))return!1;return!0},subset:rA},tA={exact:function(n,t){return rc(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>JS(n[e],t[e]))},ignored:()=>!0};function nA(n,t,e){return lk[e.paths](n.root,t.root,e.matrixParams)&&tA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rA(n,t,e){return sA(n,t,t.segments,e)}function sA(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!op(s,e)||t.hasChildren()||!s0(s,e,i))}if(n.segments.length===e.length){if(!op(n.segments,e)||!s0(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!rA(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(op(n.segments,s)&&s0(n.segments,s,i)&&n.children[Ft])&&sA(n.children[Ft],t,c,i)}}function s0(n,t,e){return t.every((i,s)=>tA[e](n[s].parameters,i.parameters))}class sp{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eg(this.queryParams)),this._queryParamMap}toString(){return fk.serialize(this)}}class Ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o0(this)}}class gv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Eg(this.parameters)),this._parameterMap}toString(){return uA(this)}}function op(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class oA{}class aA{parse(t){const e=new Ek(t);return new sp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${_v(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${a0(e)}=${a0(s)}`).join("&"):`${a0(e)}=${a0(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),s="string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${s}`}}const fk=new aA;function o0(n){return n.segments.map(t=>uA(t)).join("/")}function _v(n,t){if(!n.hasChildren())return o0(n);if(t){const e=n.children[Ft]?_v(n.children[Ft],!1):"",i=[];return wr(n.children,(s,c)=>{c!==Ft&&i.push(`${c}:${_v(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return wr(n.children,(i,s)=>{s===Ft&&(e=e.concat(t(i,s)))}),wr(n.children,(i,s)=>{s!==Ft&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Ft?[_v(n.children[Ft],!1)]:[`${s}:${_v(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${o0(n)}/${e[0]}`:`${o0(n)}/(${e.join("//")})`}}function lA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a0(n){return lA(n).replace(/%3B/gi,";")}function QD(n){return lA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function l0(n){return decodeURIComponent(n)}function cA(n){return l0(n.replace(/\+/g,"%20"))}function uA(n){return`${QD(n.path)}${function(n){return Object.keys(n).map(t=>`;${QD(t)}=${QD(n[t])}`).join("")}(n.parameters)}`}const _k=/^[^\/()?;=#]+/;function c0(n){const t=n.match(_k);return t?t[0]:""}const yk=/^[^=?&#]+/,bk=/^[^&#]+/;class Ek{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new Ut(t,e)),i}parseSegment(){const t=c0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gv(l0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=c0(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=c0(this.remaining);s&&(i=s,this.capture(i))}t[l0(e)]=l0(i)}parseQueryParam(t){const e=function(n){const t=n.match(yk);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function(n){const t=n.match(bk);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const s=cA(e),c=cA(i);if(t.hasOwnProperty(s)){let d=t[s];Array.isArray(d)||(d=[d],t[s]=d),d.push(c)}else t[s]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=c0(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Ft);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[Ft]:new Ut([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=JD(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=JD(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=XD(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return XD(t,this._root).map(e=>e.value)}}function JD(n,t){if(n===t.value)return t;for(const e of t.children){const i=JD(n,e);if(i)return i}return null}function XD(n,t){if(n===t.value)return[t];for(const e of t.children){const i=XD(n,e);if(i.length)return i.unshift(t),i}return[]}class Au{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wg(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class hA extends dA{constructor(t,e){super(t),this.snapshot=e,eI(this,t)}toString(){return this.snapshot.toString()}}function fA(n,t){const e=function(n,t){const d=new u0([],{},{},"",{},Ft,t,null,n.root,-1,{});return new mA("",new Au(d,[]))}(n,t),i=new Ue([new gv("",{})]),s=new Ue({}),c=new Ue({}),d=new Ue({}),g=new Ue(""),v=new Tg(i,s,d,g,c,Ft,t,e.root);return v.snapshot=e.root,new hA(new Au(v,[]),e)}class Tg{constructor(t,e,i,s,c,d,g,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=d,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(t=>Eg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(t=>Eg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pA(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],c=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(c.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Fe(Fe({},t.params),e.params),data:Fe(Fe({},t.data),e.data),resolve:Fe(Fe({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class u0{constructor(t,e,i,s,c,d,g,v,w,A,R){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=d,this.component=g,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=A,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mA extends dA{constructor(t,e){super(e),this.url=t,eI(this,e)}toString(){return gA(this._root)}}function eI(n,t){t.value._routerState=n,t.children.forEach(e=>eI(n,e))}function gA(n){const t=n.children.length>0?` { ${n.children.map(gA).join(", ")} } `:"";return`${n.value}${t}`}function tI(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,rc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),rc(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!rc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),rc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nI(n,t){const e=rc(n.params,t.params)&&function(n,t){return op(n,t)&&n.every((e,i)=>rc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||nI(n.parent,t.parent))}function yv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return yv(n,i,s);return yv(n,i)})}(n,t,e);return new Au(i,s)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(g=>yv(n,g)),d}}const i=function(n){return new Tg(new Ue(n.url),new Ue(n.params),new Ue(n.queryParams),new Ue(n.fragment),new Ue(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(c=>yv(n,c));return new Au(i,s)}}function d0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vv(n){return"object"==typeof n&&null!=n&&n.outlets}function iI(n,t,e,i,s){let c={};return i&&wr(i,(d,g)=>{c[g]=Array.isArray(d)?d.map(v=>`${v}`):`${d}`}),new sp(e.root===n?t:_A(e.root,n,t),c,s)}function _A(n,t,e){const i={};return wr(n.children,(s,c)=>{i[c]=s===t?e:_A(s,t,e)}),new Ut(n.segments,i)}class yA{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&d0(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(vv);if(s&&s!==eA(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rI{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function vA(n,t,e){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return h0(n,t,e);const i=function(n,t,e){let i=0,s=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return c;const d=n.segments[s],g=e[i];if(vv(g))break;const v=`${g}`,w=i<e.length-1?e[i+1]:null;if(s>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!CA(v,w,d))return c;i+=2}else{if(!CA(v,{},d))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new Ut(n.segments.slice(0,i.pathIndex),{});return c.children[Ft]=new Ut(n.segments.slice(i.pathIndex),n.children),h0(c,0,s)}return i.match&&0===s.length?new Ut(n.segments,{}):i.match&&!n.hasChildren()?sI(n,t,e):i.match?h0(n,0,s):sI(n,t,e)}function h0(n,t,e){if(0===e.length)return new Ut(n.segments,{});{const i=function(n){return vv(n[0])?n[0].outlets:{[Ft]:n}}(e),s={};return wr(i,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[d]=vA(n.children[d],t,c))}),wr(n.children,(c,d)=>{void 0===i[d]&&(s[d]=c)}),new Ut(n.segments,s)}}function sI(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const c=e[s];if(vv(c)){const v=Pk(c.outlets);return new Ut(i,v)}if(0===s&&d0(e[0])){i.push(new gv(n.segments[t].path,bA(e[0]))),s++;continue}const d=vv(c)?c.outlets[Ft]:`${c}`,g=s<e.length-1?e[s+1]:null;d&&g&&d0(g)?(i.push(new gv(d,bA(g))),s+=2):(i.push(new gv(d,{})),s++)}return new Ut(i,{})}function Pk(n){const t={};return wr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=sI(new Ut([],{}),0,e))}),t}function bA(n){const t={};return wr(n,(e,i)=>t[i]=`${e}`),t}function CA(n,t,e){return n==e.path&&rc(t,e.parameters)}class Fk{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tI(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=wg(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,s[d],i),delete s[d]}),wr(s,(c,d)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const s=t.value,c=e?e.value:null;if(s===c)if(s.component){const d=i.getContext(s.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,c=wg(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],s);if(i&&i.outlet){const d=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:g})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,c=wg(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=wg(e);t.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new nk(c.value.snapshot))}),t.children.length&&this.forwardEvent(new ek(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,c=e?e.value:null;if(tI(s),s===c)if(s.component){const d=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const d=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),tI(g.route.value),this.activateChildRoutes(t,null,d.children)}else{const g=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),v=g?g.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=v,d.outlet&&d.outlet.activateWith(s,v),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class oI{constructor(t,e){this.routes=t,this.module=e}}function ch(n){return"function"==typeof n}function ap(n){return n instanceof sp}const bv=Symbol("INITIAL_VALUE");function Cv(){return ui(n=>nt(n.map(t=>t.pipe((0,Zi.q)(1),Jo(bv)))).pipe(bm((t,e)=>{let i=!1;return e.reduce((s,c,d)=>s!==bv?s:(c===bv&&(i=!0),i||!1!==c&&d!==e.length-1&&!ap(c)?s:c),t)},bv),Nr(t=>t!==bv),(0,Ke.U)(t=>ap(t)?t:!0===t),(0,Zi.q)(1)))}class zk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ev,this.attachRef=null}}class Ev{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zk,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let f0=(()=>{class n{constructor(e,i,s,c,d){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=c||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new $k(e,g,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ev),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class $k{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Tg?this.route:t===Ev?this.childContexts:this.parent.get(t,e)}}let EA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:[f0],encapsulation:2}),n})();function wA(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Gk(i,Wk(t,i))}}function Gk(n,t){n.children&&wA(n.children,t)}function Wk(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function aI(n){const t=n.children&&n.children.map(aI),e=t?Ln(Fe({},n),{children:t}):Fe({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=EA),e}function Xo(n){return n.outlet||Ft}function TA(n,t){const e=n.filter(i=>Xo(i)===t);return e.push(...n.filter(i=>Xo(i)!==t)),e}const DA={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function p0(n,t,e){var g;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Fe({},DA):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||sk)(e,n,t);if(!s)return Fe({},DA);const c={};wr(s.posParams,(v,w)=>{c[w]=v.path});const d=s.consumed.length>0?Fe(Fe({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!=(g=s.posParams)?g:{}}}function m0(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>g0(n,t,i)&&Xo(i)!==Ft)}(n,e,i)){const d=new Ut(t,function(n,t,e,i){const s={};s[Ft]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Xo(c)!==Ft){const d=new Ut([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,s[Xo(c)]=d}return s}(n,t,i,new Ut(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>g0(n,t,i))}(n,e,i)){const d=new Ut(n.segments,function(n,t,e,i,s,c){const d={};for(const g of i)if(g0(n,e,g)&&!s[Xo(g)]){const v=new Ut([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:t.length,d[Xo(g)]=v}return Fe(Fe({},s),d)}(n,t,e,i,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const c=new Ut(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function g0(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function IA(n,t,e,i){return!!(Xo(n)===i||i!==Ft&&g0(t,e,n))&&("**"===n.path||p0(t,n,e).matched)}function SA(n,t,e){return 0===t.length&&!n.children[e]}class wv{constructor(t){this.segmentGroup=t||null}}class AA{constructor(t){this.urlTree=t}}function _0(n){return new kn.y(t=>t.error(new wv(n)))}function MA(n){return new kn.y(t=>t.error(new AA(n)))}function Qk(n){return new kn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class eR{constructor(t,e,i,s,c){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=m0(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ft).pipe((0,Ke.U)(c=>this.createUrlTree(lI(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(po(c=>{if(c instanceof AA)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof wv?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ft).pipe((0,Ke.U)(s=>this.createUrlTree(lI(s),t.queryParams,t.fragment))).pipe(po(s=>{throw s instanceof wv?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Ut([],{[Ft]:t}):t;return new sp(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ke.U)(c=>new Ut([],c))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return(0,En.D)(s).pipe(Cg(c=>{const d=i.children[c],g=TA(e,c);return this.expandSegmentGroup(t,g,d,c).pipe((0,Ke.U)(v=>({segment:v,outlet:c})))}),bm((c,d)=>(c[d.outlet]=d.segment,c),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nr((s,c)=>n(s,c,i)):Ad.y,qD(1),e?Dw(t):__(()=>new Sd))}())}expandSegment(t,e,i,s,c,d){return(0,En.D)(i).pipe(Cg(g=>this.expandSegmentAgainstRoute(t,e,i,g,s,c,d).pipe(po(w=>{if(w instanceof wv)return st(null);throw w}))),$c(g=>!!g),po((g,v)=>{if(g instanceof Sd||"EmptyError"===g.name){if(SA(e,s,c))return st(new Ut([],{}));throw new wv(e)}throw g}))}expandSegmentAgainstRoute(t,e,i,s,c,d,g){return IA(s,e,c,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,c,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,c,d):_0(e):_0(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,c,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?MA(c):this.lineralizeSegments(i,c).pipe((0,ni.z)(d=>{const g=new Ut(d,{});return this.expandSegment(t,g,e,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,c,d){const{matched:g,consumedSegments:v,lastChild:w,positionalParamSegments:A}=p0(e,s,c);if(!g)return _0(e);const R=this.applyRedirectCommands(v,s.redirectTo,A);return s.redirectTo.startsWith("/")?MA(R):this.lineralizeSegments(s,R).pipe((0,ni.z)(V=>this.expandSegment(t,e,i,V.concat(c.slice(w)),d,!1)))}matchSegmentAgainstRoute(t,e,i,s,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?st(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Ke.U)(V=>(i._loadedConfig=V,new Ut(s,{})))):st(new Ut(s,{}));const{matched:d,consumedSegments:g,lastChild:v}=p0(e,i,s);if(!d)return _0(e);const w=s.slice(v);return this.getChildConfig(t,i,s).pipe((0,ni.z)(R=>{const V=R.module,W=R.routes,{segmentGroup:ee,slicedSegments:be}=m0(e,g,w,W),Ne=new Ut(ee.segments,ee.children);if(0===be.length&&Ne.hasChildren())return this.expandChildren(V,W,Ne).pipe((0,Ke.U)(dt=>new Ut(g,dt)));if(0===W.length&&0===be.length)return st(new Ut(g,{}));const mt=Xo(i)===c;return this.expandSegment(V,Ne,W,be,mt?Ft:c,!0).pipe((0,Ke.U)(_t=>new Ut(g.concat(_t.segments),_t.children)))}))}getChildConfig(t,e,i){return e.children?st(new oI(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?st(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,ni.z)(s=>s?this.configLoader.load(t.injector,e).pipe((0,Ke.U)(c=>(e._loadedConfig=c,c))):function(n){return new kn.y(t=>t.error(KD(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):st(new oI([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;if(!s||0===s.length)return st(!0);const c=s.map(d=>{const g=t.get(d);let v;if(function(n){return n&&ch(n.canLoad)}(g))v=g.canLoad(e,i);else{if(!ch(g))throw new Error("Invalid CanLoad guard");v=g(e,i)}return sc(v)});return st(c).pipe(Cv(),(0,Ji.b)(d=>{if(!ap(d))return;const g=KD(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw g.url=d,g}),(0,Ke.U)(d=>!0===d))}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return st(i);if(s.numberOfChildren>1||!s.children[Ft])return Qk(t.redirectTo);s=s.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const c=this.createSegmentGroup(t,e.root,i,s);return new sp(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return wr(t,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);i[c]=e[g]}else i[c]=s}),i}createSegmentGroup(t,e,i,s){const c=this.createSegments(t,e.segments,i,s);let d={};return wr(e.children,(g,v)=>{d[v]=this.createSegmentGroup(t,g,i,s)}),new Ut(c,d)}createSegments(t,e,i,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,s):this.findOrReturn(c,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function lI(n){const t={};for(const i of Object.keys(n.children)){const c=lI(n.children[i]);(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new Ut(n.segments.concat(t.segments),t.children)}return n}(new Ut(n.segments,t))}class xA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class y0{constructor(t,e){this.component=t,this.route=e}}function iR(n,t,e){const i=n._root;return Tv(i,t?t._root:null,e,[i.value])}function v0(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Tv(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=wg(t);return n.children.forEach(d=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,g=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const v=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!op(n.url,t.url);case"pathParamsOrQueryParamsChange":return!op(n.url,t.url)||!rc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nI(n,t)||!rc(n.queryParams,t.queryParams);default:return!nI(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new xA(i)):(c.data=d.data,c._resolvedData=d._resolvedData),Tv(n,t,c.component?g?g.children:null:e,i,s),v&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new y0(g.outlet.component,d))}else d&&Dv(t,g,s),s.canActivateChecks.push(new xA(i)),Tv(n,null,c.component?g?g.children:null:e,i,s)})(d,c[d.value.outlet],e,i.concat([d.value]),s),delete c[d.value.outlet]}),wr(c,(d,g)=>Dv(d,e.getContext(g),s)),s}function Dv(n,t,e){const i=wg(n),s=n.value;wr(i,(c,d)=>{Dv(c,s.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new y0(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class gR{}function kA(n){return new kn.y(t=>t.error(n))}class yR{constructor(t,e,i,s,c,d){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const t=m0(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ft);if(null===e)return null;const i=new u0([],Object.freeze({}),Object.freeze(Fe({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Au(i,e),c=new mA(this.url,s);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,i=pA(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const c of Object.keys(e.children)){const d=e.children[c],g=TA(t,c),v=this.processSegmentGroup(g,d,c);if(null===v)return null;i.push(...v)}const s=RA(i);return function(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const c of t){const d=this.processSegmentAgainstRoute(c,e,i,s);if(null!==d)return d}return SA(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!IA(t,e,i,s))return null;let c,d=[],g=[];if("**"===t.path){const W=i.length>0?eA(i).parameters:{};c=new u0(i,W,Object.freeze(Fe({},this.urlTree.queryParams)),this.urlTree.fragment,NA(t),Xo(t),t.component,t,OA(e),PA(e)+i.length,FA(t))}else{const W=p0(e,t,i);if(!W.matched)return null;d=W.consumedSegments,g=i.slice(W.lastChild),c=new u0(d,W.parameters,Object.freeze(Fe({},this.urlTree.queryParams)),this.urlTree.fragment,NA(t),Xo(t),t.component,t,OA(e),PA(e)+d.length,FA(t))}const v=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:w,slicedSegments:A}=m0(e,d,g,v.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);if(0===A.length&&w.hasChildren()){const W=this.processChildren(v,w);return null===W?null:[new Au(c,W)]}if(0===v.length&&0===A.length)return[new Au(c,[])];const R=Xo(t)===s,V=this.processSegment(v,w,A,R?Ft:s);return null===V?null:[new Au(c,V)]}}function CR(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function RA(n){const t=[],e=new Set;for(const i of n){if(!CR(i)){t.push(i);continue}const s=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=RA(i.children);t.push(new Au(i.value,s))}return t.filter(i=>!e.has(i))}function OA(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function PA(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function NA(n){return n.data||{}}function FA(n){return n.resolve||{}}function cI(n){return ui(t=>{const e=n(t);return e?(0,En.D)(e).pipe((0,Ke.U)(()=>t)):st(t)})}class MR extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const uI=new a.OlP("ROUTES");class LA{constructor(t,e,i,s){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,Ke.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=c.create(t);return new oI(XS(d.injector.get(uI,void 0,a.XFs.Self|a.XFs.Optional)).map(aI),d)}),po(c=>{throw e._loader$=void 0,c}));return e._loader$=new pv(s,()=>new St.x).pipe(bg()),e._loader$}loadModuleFactory(t){return sc(t()).pipe((0,ni.z)(e=>e instanceof a.YKP?st(e):(0,En.D)(this.compiler.compileModuleAsync(e))))}}class kR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function RR(n){throw n}function OR(n,t,e){return t.parse("/")}function VA(n,t){return st(null)}const PR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class n{constructor(e,i,s,c,d,g,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.x,this.errorHandler=RR,this.malformedUriErrorHandler=OR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VA,afterPreactivation:VA},this.urlHandlingStrategy=new kR,this.routeReuseStrategy=new MR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(a.h0i),this.console=d.get(a.c2e);const R=d.get(a.R0b);this.isNgZoneEnabled=R instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new sp(new Ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new LA(d,g,V=>this.triggerEvent(new qS(V)),V=>this.triggerEvent(new YS(V))),this.routerState=fA(this.currentUrlTree,this.rootComponentType),this.transitions=new Ue({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Nr(s=>0!==s.id),(0,Ke.U)(s=>Ln(Fe({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ui(s=>{let c=!1,d=!1;return st(s).pipe((0,Ji.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Ln(Fe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ui(g=>{const v=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return b0(g.source)&&(this.browserUrlTree=g.extractedUrl),st(g).pipe(ui(R=>{const V=this.transitions.getValue();return i.next(new YD(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?il.E:Promise.resolve(R)}),function(n,t,e,i){return ui(s=>function(n,t,e,i,s){return new eR(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe((0,Ke.U)(c=>Ln(Fe({},s),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ji.b)(R=>{this.currentNavigation=Ln(Fe({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,t,e,i,s){return(0,ni.z)(c=>function(n,t,e,i,s="emptyOnly",c="legacy"){try{const d=new yR(n,t,e,i,s,c).recognize();return null===d?kA(new gR):st(d)}catch(d){return kA(d)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),i,s).pipe((0,Ke.U)(d=>Ln(Fe({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ji.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(W,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new qx(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:W,source:ee,restoredState:be,extras:Ne}=g,mt=new YD(V,this.serializeUrl(W),ee,be);i.next(mt);const ft=fA(W,this.rootComponentType).snapshot;return st(Ln(Fe({},g),{targetSnapshot:ft,urlAfterRedirects:W,extras:Ln(Fe({},Ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),il.E}),cI(g=>{const{targetSnapshot:v,id:w,extractedUrl:A,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:W}}=g;return this.hooks.beforePreactivation(v,{navigationId:w,appliedUrlTree:A,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!W})}),(0,Ji.b)(g=>{const v=new Yx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,Ke.U)(g=>Ln(Fe({},g),{guards:iR(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(n,t){return(0,ni.z)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?st(Ln(Fe({},e),{guardsResult:!0})):function(n,t,e,i){return(0,En.D)(n).pipe((0,ni.z)(s=>function(n,t,e,i,s){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?st(c.map(g=>{const v=v0(g,t,s);let w;if(function(n){return n&&ch(n.canDeactivate)}(v))w=sc(v.canDeactivate(n,t,e,i));else{if(!ch(v))throw new Error("Invalid CanDeactivate guard");w=sc(v(n,t,e,i))}return w.pipe($c())})).pipe(Cv()):st(!0)}(s.component,s.route,e,t,i)),$c(s=>!0!==s,!0))}(d,i,s,n).pipe((0,ni.z)(g=>g&&function(n){return"boolean"==typeof n}(g)?function(n,t,e,i){return(0,En.D)(t).pipe(Cg(s=>Iu(function(n,t){return null!==n&&t&&t(new Xx(n)),st(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new tk(n)),st(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>rp(()=>st(d.guards.map(v=>{const w=v0(v,d.node,e);let A;if(function(n){return n&&ch(n.canActivateChild)}(w))A=sc(w.canActivateChild(i,n));else{if(!ch(w))throw new Error("Invalid CanActivateChild guard");A=sc(w(i,n))}return A.pipe($c())})).pipe(Cv())));return st(c).pipe(Cv())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return st(!0);const s=i.map(c=>rp(()=>{const d=v0(c,t,e);let g;if(function(n){return n&&ch(n.canActivate)}(d))g=sc(d.canActivate(t,n));else{if(!ch(d))throw new Error("Invalid CanActivate guard");g=sc(d(t,n))}return g.pipe($c())}));return st(s).pipe(Cv())}(n,s.route,e))),$c(s=>!0!==s,!0))}(i,c,n,t):st(g)),(0,Ke.U)(g=>Ln(Fe({},e),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Ji.b)(g=>{if(ap(g.guardsResult)){const w=KD(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw w.url=g.guardsResult,w}const v=new Kx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),Nr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),cI(g=>{if(g.guards.canActivateChecks.length)return st(g).pipe((0,Ji.b)(v=>{const w=new Qx(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),ui(v=>{let w=!1;return st(v).pipe(function(n,t){return(0,ni.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return st(e);let c=0;return(0,En.D)(s).pipe(Cg(d=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return st({});const c={};return(0,En.D)(s).pipe((0,ni.z)(d=>function(n,t,e,i){const s=v0(n,t,i);return sc(s.resolve?s.resolve(t,e):s(t,e))}(n[d],t,e,i).pipe((0,Ji.b)(g=>{c[d]=g}))),qD(1),(0,ni.z)(()=>Object.keys(c).length===s.length?st(c):il.E))}(n._resolve,n,t,i).pipe((0,Ke.U)(c=>(n._resolvedData=c,n.data=Fe(Fe({},n.data),pA(n,e).resolve),null)))}(d.route,i,n,t)),(0,Ji.b)(()=>c++),qD(1),(0,ni.z)(d=>c===s.length?st(e):il.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ji.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Ji.b)(v=>{const w=new Jx(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),cI(g=>{const{targetSnapshot:v,id:w,extractedUrl:A,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:W}}=g;return this.hooks.afterPreactivation(v,{navigationId:w,appliedUrlTree:A,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!W})}),(0,Ke.U)(g=>{const v=function(n,t,e){const i=yv(n,t._root,e?e._root:void 0);return new hA(i,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Ln(Fe({},g),{targetRouterState:v})}),(0,Ji.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,Ke.U)(i=>(new Fk(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Ji.b)({next(){c=!0},complete(){c=!0}}),WS(()=>{var g;c||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null==(g=this.currentNavigation)?void 0:g.id)===s.id&&(this.currentNavigation=null)}),po(g=>{if(d=!0,function(n){return n&&n[QS]}(g)){const v=ap(g.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const w=new ZS(s.id,this.serializeUrl(s.extractedUrl),g.message);i.next(w),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||b0(s.source)};this.scheduleNavigation(A,"imperative",null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new Zx(s.id,this.serializeUrl(s.extractedUrl),g);i.next(v);try{s.resolve(this.errorHandler(g))}catch(w){s.reject(w)}}return il.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Fe(Fe({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var g;const s={replaceUrl:!0},c=(null==(g=e.state)?void 0:g.navigationId)?e.state:null;if(c){const v=Fe({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(s.state=v)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){wA(e),this.config=e.map(aI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:c,fragment:d,queryParamsHandling:g,preserveFragment:v}=i,w=s||this.routerState.root,A=v?this.currentUrlTree.fragment:d;let R=null;switch(g){case"merge":R=Fe(Fe({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,t,e,i,s){if(0===e.length)return iI(t.root,t.root,t,i,s);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yA(!0,0,n);let t=0,e=!1;const i=n.reduce((s,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return wr(c.outlets,(v,w)=>{g[w]="string"==typeof v?v.split("/"):v}),[...s,{outlets:g}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===d?(c.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?e=!0:".."===g?t++:""!=g&&s.push(g))}),s):[...s,c]},[]);return new yA(e,t,i)}(e);if(c.toRoot())return iI(t.root,new Ut([],{}),t,i,s);const d=function(n,t,e){if(n.isAbsolute)return new rI(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new rI(c,c===t.root,0)}const i=d0(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,c=e;for(;c>s;){if(c-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new rI(i,!1,s-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(c,t,n),g=d.processChildren?h0(d.segmentGroup,d.index,c.commands):vA(d.segmentGroup,d.index,c.commands);return iI(d.segmentGroup,g,t,i,s)}(w,this.currentUrlTree,e,R,null!=A?A:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=ap(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Fe({},PR):!1===i?Fe({},NR):i,ap(e))return nA(this.currentUrlTree,e,s);const c=this.parseUrl(e);return nA(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const c=e[s];return null!=c&&(i[s]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new mv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,c,d){var mt,ft,_t;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,v=b0(i)&&g&&!b0(g.source),w=g.rawUrl.toString()===e.toString(),A=g.id===(null==(mt=this.currentNavigation)?void 0:mt.id);if(v&&w&&A)return Promise.resolve(!0);let V,W,ee;d?(V=d.resolve,W=d.reject,ee=d.promise):ee=new Promise((dt,pi)=>{V=dt,W=pi});const be=++this.navigationId;let Ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Ne=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!=(ft=this.browserPageId)?ft:0:(null!=(_t=this.browserPageId)?_t:0)+1):Ne=0,this.setTransition({id:be,targetPageId:Ne,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:V,reject:W,promise:ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ee.catch(dt=>Promise.reject(dt))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),c=Fe(Fe({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(e,i=!1){var s,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(s=this.currentNavigation)?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null==(c=this.currentNavigation)?void 0:c.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new ZS(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function b0(n){return"imperative"!==n}let lp=(()=>{class n{constructor(e,i,s,c,d){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=c,this.el=d,this.commands=null,this.onChanges=new St.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,s=this.el.nativeElement;null!==e?i.setAttribute(s,"tabindex",e):i.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Dg(this.skipLocationChange),replaceUrl:Dg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dg(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(wi),a.Y36(Tg),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function Dg(n){return""===n||!!n}class BA{}class UA{preload(t,e){return st(null)}}let HA=(()=>{class n{constructor(e,i,s,c){this.router=e,this.injector=s,this.preloadingStrategy=c,this.loader=new LA(s,i,v=>e.triggerEvent(new qS(v)),v=>e.triggerEvent(new YS(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nr(e=>e instanceof mv),Cg(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?s.push(this.preloadConfig(e,c)):c.children&&s.push(this.processRoutes(e,c.children));return(0,En.D)(s).pipe((0,Qi.J)(),(0,Ke.U)(c=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?st(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,ni.z)(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(wi),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(BA))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),hI=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mv&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof KS&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new KS(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const cp=new a.OlP("ROUTER_CONFIGURATION"),jA=new a.OlP("ROUTER_FORROOT_GUARD"),UR=[je,{provide:oA,useClass:aA},{provide:wi,useFactory:function(n,t,e,i,s,c,d={},g,v){const w=new wi(null,n,t,e,i,s,XS(c));return g&&(w.urlHandlingStrategy=g),v&&(w.routeReuseStrategy=v),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(A=>{var R,V;null==(R=console.group)||R.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null==(V=console.groupEnd)||V.call(console)}),w},deps:[oA,Ev,je,a.zs3,a.Sil,uI,cp,[class{},new a.FiY],[class{},new a.FiY]]},Ev,{provide:Tg,useFactory:function(n){return n.routerState.root},deps:[wi]},HA,UA,class{preload(t,e){return e().pipe(po(()=>st(null)))}},{provide:cp,useValue:{enableTracing:!1}}];function HR(){return new a.PXZ("Router",wi)}let zA=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[UR,$A(e),{provide:jA,useFactory:$R,deps:[[wi,new a.FiY,new a.tp0]]},{provide:cp,useValue:i||{}},{provide:de,useFactory:zR,deps:[oe,[new a.tBr(ce),new a.FiY],cp]},{provide:hI,useFactory:jR,deps:[wi,yh,cp]},{provide:BA,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:UA},{provide:a.PXZ,multi:!0,useFactory:HR},[fI,{provide:a.ip1,multi:!0,useFactory:qR,deps:[fI]},{provide:GA,useFactory:YR,deps:[fI]},{provide:a.tb,multi:!0,useExisting:GA}]]}}static forChild(e){return{ngModule:n,providers:[$A(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(jA,8),a.LFG(wi,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function jR(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new hI(n,t,e)}function zR(n,t,e={}){return e.useHash?new ve(n,t):new Se(n,t)}function $R(n){return"guarded"}function $A(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:uI,multi:!0,useValue:n}]}let fI=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new St.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(g=>i=g),c=this.injector.get(wi),d=this.injector.get(cp);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?st(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(cp),s=this.injector.get(HA),c=this.injector.get(hI),d=this.injector.get(wi),g=this.injector.get(a.z2F);e===g.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),c.init(),d.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function qR(n){return n.appInitializer.bind(n)}function YR(n){return n.bootstrapListener.bind(n)}const GA=new a.OlP("Router Initializer");let QR=(()=>{class n{constructor(){this.title="peluqueriaJacky"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:[f0],styles:[""]}),n})();class JR{constructor(t,e,i,s,c,d){this.nombre=t,this.telefono=e,this.nombrePerro=i,this.razaPerro=s,this.tamanioPerro=c,this.fechaCreacion=d}}let pI=(()=>{class n{constructor(e){this.firebase=e,this.clientes=e.list("clientes")}crearCliente(e){const i={nombre:e.nombre,telefono:e.telefono,nombrePerro:e.nombrePerro,razaPerro:e.razaPerro,tamanioPerro:e.tamanioPerro,fechaCreacion:e.fechaCreacion.toString()};return this.clientes.push(i)}editarCliente(e,i,s){const c={id:e,nombre:i.nombre,telefono:i.telefono,nombrePerro:i.nombrePerro,razaPerro:i.razaPerro,tamanioPerro:i.tamanioPerro,fechaCreacion:i.fechaCreacion.toString()},d=this.firebase.database.ref("/");let g={};return g["clientes/"+e]=c,s.forEach(v=>{g["turnos/"+v+"/clienteNombre"]=i.nombre,g["turnos/"+v+"/clientePerroNombre"]=i.nombrePerro}),d.update(g)}obtenerTodosClientes(){return this.clientes.snapshotChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Oe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C0=(()=>{class n{constructor(e){this.firebase=e,this.turnos=e.list("turnos")}crearTurno(e){return this.turnos.push({clienteId:e.clienteId,clienteNombre:e.clienteNombre,clientePerroNombre:e.clientePerroNombre,tipo:e.tipo,importe:e.importe,fecha:e.fecha,hora:e.hora,estado:e.estado})}obtenerTurnos(e){return this.firebase.list("turnos",i=>i.orderByChild("estado").equalTo(e)).snapshotChanges()}obtenerLosTurnosDelCliente(e){return this.firebase.list("turnos",i=>i.orderByChild("clienteId").equalTo(e)).snapshotChanges()}editarTurno(e,i){return this.turnos.update(e,{id:e,clienteId:i.clienteId,clienteNombre:i.clienteNombre,clientePerroNombre:i.clientePerroNombre,tipo:i.tipo,importe:i.importe,fecha:i.fecha,hora:i.hora,estado:i.estado})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Oe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WA=["toast-component",""];function XR(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(e),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA(),a.qZA()}}function eO(n,t){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const e=a.oxw(2);a.xp6(1),a.hij("[",e.duplicatesCount+1,"]")}}function tO(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,eO,2,1,"ng-container",4),a.qZA()),2&n){const e=a.oxw();a.Tol(e.options.titleClass),a.uIk("aria-label",e.title),a.xp6(1),a.hij(" ",e.title," "),a.xp6(1),a.Q6J("ngIf",e.duplicatesCount)}}function nO(n,t){if(1&n&&a._UZ(0,"div",7),2&n){const e=a.oxw();a.Tol(e.options.messageClass),a.Q6J("innerHTML",e.message,a.oJD)}}function iO(n,t){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.Tol(e.options.messageClass),a.uIk("aria-label",e.message),a.xp6(1),a.hij(" ",e.message," ")}}function rO(n,t){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Udp("width",e.width+"%")}}function sO(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(e),a.oxw().remove()}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA(),a.qZA()}}function oO(n,t){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const e=a.oxw(2);a.xp6(1),a.hij("[",e.duplicatesCount+1,"]")}}function aO(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,oO,2,1,"ng-container",4),a.qZA()),2&n){const e=a.oxw();a.Tol(e.options.titleClass),a.uIk("aria-label",e.title),a.xp6(1),a.hij(" ",e.title," "),a.xp6(1),a.Q6J("ngIf",e.duplicatesCount)}}function lO(n,t){if(1&n&&a._UZ(0,"div",7),2&n){const e=a.oxw();a.Tol(e.options.messageClass),a.Q6J("innerHTML",e.message,a.oJD)}}function cO(n,t){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.Tol(e.options.messageClass),a.uIk("aria-label",e.message),a.xp6(1),a.hij(" ",e.message," ")}}function uO(n,t){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Udp("width",e.width+"%")}}class dO{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class E0{constructor(t,e,i,s,c,d){this.toastId=t,this.config=e,this.message=i,this.title=s,this.toastType=c,this.toastRef=d,this._onTap=new St.x,this._onAction=new St.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const ZA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},qA=new a.OlP("ToastConfig");class fO{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new St.x,this._activate=new St.x,this._manualClose=new St.x,this._resetTimeout=new St.x,this._countDuplicate=new St.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class pO{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,i){return t===E0?this._toastPackage:this._parentInjector.get(t,e,i)}}class mO extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let s;return s=i.create(t.injector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(s),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(s)),s}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class gO{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let _O=(()=>{class n{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yO=(()=>{class n{constructor(e,i,s,c){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=s,this._document=c,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const s=this._document.createElement("div");return s.id="toast-container",s.classList.add(e),s.classList.add("toast-container"),i?i.getContainerElement().appendChild(s):this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalHost(e){return new mO(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new gO(this._createPortalHost(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_O),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w0=(()=>{class n{constructor(e,i,s,c,d){this.overlay=i,this._injector=s,this.sanitizer=c,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Fe(Fe({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Fe(Fe({},e.default.iconClasses),e.config.iconClasses))}show(e,i,s={},c=""){return this._preBuildNotification(c,e,i,this.applyConfig(s))}success(e,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(s))}error(e,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(s))}info(e,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(s))}warning(e,i,s={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(s))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const s=this.toasts[this.currentlyActive].toastRef;s.isInactive()||(this.currentlyActive=this.currentlyActive+1,s.activate())}return!0}findDuplicate(e="",i="",s,c){const{includeTitleDuplicates:d}=this.toastrConfig;for(const g of this.toasts){const v=d&&g.title===e;if((!d||v)&&g.message===i)return g.toastRef.onDuplicate(s,c),g}return null}applyConfig(e={}){return Fe(Fe({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,s,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,s,c)):this._buildNotification(e,i,s,c)}_buildNotification(e,i,s,c){if(!c.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(s,i,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&s||i)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=i;let g=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(g=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const v=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&c.enableHtml&&(w=this.sanitizer.sanitize(a.q3G.HTML,i));const A=new fO(v),R=new E0(this.index,c,w,s,e,A),V=new pO(R,this._injector),W=new dO(c.toastComponent,V),ee=v.attach(W,this.toastrConfig.newestOnTop);A.componentInstance=ee.instance;const be={toastId:this.index,title:s||"",message:i||"",toastRef:A,onShown:A.afterActivate(),onHidden:A.afterClosed(),onTap:R.onTap(),onAction:R.onAction(),portal:ee};return g||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qA),a.LFG(yO),a.LFG(a.zs3),a.LFG(Gr),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vO=(()=>{class n{constructor(e,i,s){this.toastrService=e,this.toastPackage=i,this.ngZone=s,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Ln(Fe({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Ln(Fe({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Ln(Fe({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(w0),a.Y36(E0),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(a.d8E("@flyInOut",i.state),a.Tol(i.toastClasses),a.Udp("display",i.displayStyle))},attrs:WA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,i){1&e&&(a.YNc(0,XR,3,0,"button",0),a.YNc(1,tO,3,5,"div",1),a.YNc(2,nO,1,3,"div",2),a.YNc(3,iO,2,4,"div",3),a.YNc(4,rO,2,2,"div",4)),2&e&&(a.Q6J("ngIf",i.options.closeButton),a.xp6(1),a.Q6J("ngIf",i.title),a.xp6(1),a.Q6J("ngIf",i.message&&i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.message&&!i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.options.progressBar))},directives:[gi],encapsulation:2,data:{animation:[Pc("flyInOut",[Dn("inactive",Rn({opacity:0})),Dn("active",Rn({opacity:1})),Dn("removed",Rn({opacity:0})),no("inactive => active",Va("{{ easeTime }}ms {{ easing }}")),no("active => removed",Va("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const bO=Ln(Fe({},ZA),{toastComponent:vO});let CO=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:qA,useValue:{default:bO,config:e}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ar]]}),n})(),EO=(()=>{class n{constructor(e,i,s){this.toastrService=e,this.toastPackage=i,this.appRef=s,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(w0),a.Y36(E0),a.Y36(a.z2F))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(a.Tol(i.toastClasses),a.Udp("display",i.displayStyle))},attrs:WA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,i){1&e&&(a.YNc(0,sO,3,0,"button",0),a.YNc(1,aO,3,5,"div",1),a.YNc(2,lO,1,3,"div",2),a.YNc(3,cO,2,4,"div",3),a.YNc(4,uO,2,2,"div",4)),2&e&&(a.Q6J("ngIf",i.options.closeButton),a.xp6(1),a.Q6J("ngIf",i.title),a.xp6(1),a.Q6J("ngIf",i.message&&i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.message&&!i.options.enableHtml),a.xp6(1),a.Q6J("ngIf",i.options.progressBar))},directives:[gi],encapsulation:2}),n})();function fi(n){return null!=n&&"false"!=`${n}`}function uh(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function T0(n){return Array.isArray(n)?n:[n]}function Ti(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mu(n){return n instanceof a.SBq?n.nativeElement:n}function mI(n,t=wf.z){return(0,Xn.e)((e,i)=>{let s=null,c=null,d=null;const g=()=>{if(s){s.unsubscribe(),s=null;const w=c;c=null,i.next(w)}};function v(){const w=d+n,A=t.now();if(A<w)return s=this.schedule(void 0,w-A),void i.add(s);g()}e.subscribe(new Kt.Q(i,w=>{c=w,d=t.now(),s||(s=t.schedule(v,n),i.add(s))},()=>{g(),i.complete()},void 0,()=>{c=s=null}))})}Ln(Fe({},ZA),{toastComponent:EO});let _I,YA=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TO=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Mu(e);return new kn.y(s=>{const d=this._observeElement(i).subscribe(s);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new St.x,s=this._mutationObserverFactory.create(c=>i.next(c));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(YA))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KA=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=fi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=uh(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(mI(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null==(e=this._currentSubscription)||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(TO),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),gI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[YA]}),n})();try{_I="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){_I=!1}let Ig,Br=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===Bu}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_I)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QA=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function JA(){if(Ig)return Ig;if("object"!=typeof document||!document)return Ig=new Set(QA),Ig;let n=document.createElement("input");return Ig=new Set(QA.filter(t=>(n.setAttribute("type",t),n.type===t))),Ig}let Iv,dp,yI;function Sv(n){return function(){if(null==Iv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Iv=!0}))}finally{Iv=Iv||!1}return Iv}()?n:!!n.capture}function IO(){if(null==dp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return dp=!1,dp;if("scrollBehavior"in document.documentElement.style)dp=!0;else{const n=Element.prototype.scrollTo;dp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return dp}function XA(n){if(function(){if(null==yI){const n="undefined"!=typeof document?document.head:null;yI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yI}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function hp(n){return n.composedPath?n.composedPath()[0]:n.target}function vI(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Sg(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function aM(n){return Nr((t,e)=>n<=e)}function Jt(n){return(0,Xn.e)((t,e)=>{(0,Hi.Xf)(n).subscribe(new Kt.Q(e,()=>e.complete(),z_.Z)),!e.closed&&t.subscribe(e)})}function x0(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const cM="cdk-describedby-message",k0="cdk-describedby-host";let uM=0,FO=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+uM++,this._document=e}describe(e,i,s){if(!this._canBeDescribed(e,i))return;const c=EI(i,s);"string"!=typeof i?(dM(i),this._messageRegistry.set(c,{messageElement:i,referenceCount:0})):this._messageRegistry.has(c)||this._createMessageElement(i,s),this._isElementDescribedByMessage(e,c)||this._addMessageReference(e,c)}removeDescription(e,i,s){var d;if(!i||!this._isElementNode(e))return;const c=EI(i,s);if(this._isElementDescribedByMessage(e,c)&&this._removeMessageReference(e,c),"string"==typeof i){const g=this._messageRegistry.get(c);g&&0===g.referenceCount&&this._deleteMessageElement(c)}0===(null==(d=this._messagesContainer)?void 0:d.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var i;const e=this._document.querySelectorAll(`[${k0}="${this._id}"]`);for(let s=0;s<e.length;s++)this._removeCdkDescribedByReferenceIds(e[s]),e[s].removeAttribute(k0);null==(i=this._messagesContainer)||i.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const s=this._document.createElement("div");dM(s),s.textContent=e,i&&s.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(EI(e,i),{messageElement:s,referenceCount:0})}_deleteMessageElement(e){var i,s;null==(s=null==(i=this._messageRegistry.get(e))?void 0:i.messageElement)||s.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let c=0;c<i.length;c++)i[c].remove();const s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(e),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(e){const i=x0(e,"aria-describedby").filter(s=>0!=s.indexOf(cM));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const s=this._messageRegistry.get(i);(function(n,t,e){const i=x0(n,t);i.some(s=>s.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",s.messageElement.id),e.setAttribute(k0,this._id),s.referenceCount++}_removeMessageReference(e,i){const s=this._messageRegistry.get(i);s.referenceCount--,function(n,t,e){const s=x0(n,t).filter(c=>c!=e.trim());s.length?n.setAttribute(t,s.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",s.messageElement.id),e.removeAttribute(k0)}_isElementDescribedByMessage(e,i){const s=x0(e,"aria-describedby"),c=this._messageRegistry.get(i),d=c&&c.messageElement.id;return!!d&&-1!=s.indexOf(d)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const s=null==i?"":`${i}`.trim(),c=e.getAttribute("aria-label");return!(!s||c&&c.trim()===s)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(Br))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EI(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function dM(n){n.id||(n.id=`${cM}-${uM++}`)}class VO extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new St.x,this._typeaheadSubscription=Vr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new St.x,this.change=new St.x,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ji.b)(e=>this._pressedLetters.push(e)),mI(t),Nr(()=>this._pressedLetters.length>0),(0,Ke.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const c=(this._activeItemIndex+s)%i.length,d=i[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Sg(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function fM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function pM(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const $O=new a.OlP("cdk-input-modality-detector-options"),GO={ignoreKeys:[18,17,224,91,16]},Ag=Sv({passive:!0,capture:!0});let WO=(()=>{class n{constructor(e,i,s,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Ue(null),this._lastTouchMs=0,this._onKeydown=d=>{var g,v;(null==(v=null==(g=this._options)?void 0:g.ignoreKeys)?void 0:v.some(w=>w===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=hp(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fM(d)?"keyboard":"mouse"),this._mostRecentTarget=hp(d))},this._onTouchstart=d=>{pM(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hp(d))},this._options=Fe(Fe({},GO),c),this.modalityDetected=this._modality.pipe(aM(1)),this.modalityChanged=this.modalityDetected.pipe(j_()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Ag),s.addEventListener("mousedown",this._onMousedown,Ag),s.addEventListener("touchstart",this._onTouchstart,Ag)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ag),document.removeEventListener("mousedown",this._onMousedown,Ag),document.removeEventListener("touchstart",this._onTouchstart,Ag))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Br),a.LFG(a.R0b),a.LFG(J),a.LFG($O,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZO=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),YO=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gM=(()=>{class n{constructor(e,i,s,c){this._ngZone=i,this._defaultOptions=c,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let c,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[c,d]=i,this.clear(),clearTimeout(this._previousTimeout),c||(c=s&&s.politeness?s.politeness:"polite"),null==d&&s&&(d=s.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(g=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,g(),"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null==(e=this._liveElement)||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let c=0;c<i.length;c++)i[c].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ZO,8),a.LFG(a.R0b),a.LFG(J),a.LFG(YO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KO=new a.OlP("cdk-focus-monitor-default-options"),R0=Sv({passive:!0,capture:!0});let wI=(()=>{class n{constructor(e,i,s,c,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.x,this._rootNodeFocusAndBlurListener=g=>{const v=hp(g),w="focus"===g.type?this._onFocus:this._onBlur;for(let A=v;A;A=A.parentElement)w.call(this,g,A)},this._document=c,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,i=!1){const s=Mu(e);if(!this._platform.isBrowser||1!==s.nodeType)return st(null);const c=XA(s)||this._getDocument(),d=this._elementInfo.get(s);if(d)return i&&(d.checkChildren=!0),d.subject;const g={checkChildren:i,subject:new St.x,rootNode:c};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const i=Mu(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const c=Mu(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([g,v])=>this._originChanged(g,i,v)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),c=hp(e);!s||!s.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,R0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,R0)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jt(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,R0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,R0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,c)=>{(c===e||s.checkChildren&&c.contains(e))&&i.push([c,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Br),a.LFG(WO),a.LFG(J,8),a.LFG(KO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _M="cdk-high-contrast-black-on-white",yM="cdk-high-contrast-white-on-black",TI="cdk-high-contrast-active";let vM=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(TI),e.remove(_M),e.remove(yM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(TI),e.add(_M)):2===i&&(e.add(TI),e.add(yM))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Br),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QO=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vM))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[gI]]}),n})();const JO=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(J)}}),eP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Av=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?eP.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(JO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function nP(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function iP(n,t){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const rP=["*"],oP=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Pi=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!vI()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vM),a.LFG(oP,8),a.LFG(J))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Mv],Mv]}),n})();function DI(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=fi(t)}}}function xv(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function II(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=fi(t)}}}function EM(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?uh(e):this.defaultTabIndex}}}function wM(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new St.x,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}let SI=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lP{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TM={enterDuration:225,exitDuration:150},AI=Sv({passive:!0}),DM=["mousedown","touchstart"],IM=["mouseup","mouseleave","touchend","touchcancel"];class uP{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Mu(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Fe(Fe({},TM),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const d=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),g=t-s.left,v=e-s.top,w=c.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=g-d+"px",A.style.top=v-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(A),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(A),A.style.transform="scale(1)";const R=new lP(this,A,i);return R.state=0,this._activeRipples.add(R),i.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const V=R===this._mostRecentTransientRipple;R.state=1,!i.persistent&&(!V||!this._isPointerDown)&&R.fadeOut()},w),R}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Fe(Fe({},TM),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Mu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(DM))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(IM),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=fM(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!pM(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,AI)})})}_removeTriggerEvents(){this._triggerElement&&(DM.forEach(t=>{this._triggerElement.removeEventListener(t,this,AI)}),this._pointerUpEventsRegistered&&IM.forEach(t=>{this._triggerElement.removeEventListener(t,this,AI)}))}}const fP=new a.OlP("mat-ripple-global-options");let Rv=(()=>{class n{constructor(e,i,s,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new uP(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Fe(Fe(Fe({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Fe(Fe({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Fe(Fe({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Br),a.Y36(fP,8),a.Y36(oo,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Pi],Pi]}),n})(),pP=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(oo,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),mP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Pi]]}),n})();const SM=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),AM=new a.OlP("MatOptgroup");let gP=0;class _P{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let yP=(()=>{class n{constructor(e,i,s,c){this._element=e,this._changeDetectorRef=i,this._parent=s,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gP++,this.onSelectionChange=new a.vpe,this._stateChanges=new St.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=fi(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Sg(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new _P(this,e))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),O0=(()=>{class n extends yP{constructor(e,i,s,c){super(e,i,s,c)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(SM,8),a.Y36(AM,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(c){return i._handleKeydown(c)}),2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),a.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:rP,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,nP,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,iP,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",i.multiple),a.xp6(3),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[gi,Rv,pP],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function xI(n,t,e){if(e.length){let i=t.toArray(),s=e.toArray(),c=0;for(let d=0;d<n+1;d++)i[d].group&&i[d].group===s[c]&&c++;return c}return 0}let MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[MI,Ar,Pi,mP]]}),n})();var bP=O(1537);const CP=["addListener","removeListener"],EP=["addEventListener","removeEventListener"],wP=["on","off"];function P0(n,t,e,i){if((0,Rs.m)(e)&&(i=e,e=void 0),i)return P0(n,t,e).pipe(Ec(i));const[s,c]=function(n){return(0,Rs.m)(n.addEventListener)&&(0,Rs.m)(n.removeEventListener)}(n)?EP.map(d=>g=>n[d](t,g,e)):function(n){return(0,Rs.m)(n.addListener)&&(0,Rs.m)(n.removeListener)}(n)?CP.map(xM(n,t)):function(n){return(0,Rs.m)(n.on)&&(0,Rs.m)(n.off)}(n)?wP.map(xM(n,t)):[];if(!s&&(0,bP.z)(n))return(0,ni.z)(d=>P0(d,t,e))((0,Hi.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new kn.y(d=>{const g=(...v)=>d.next(1<v.length?v:v[0]);return s(g),()=>c(g)})}function xM(n,t){return e=>i=>n[e](t,i)}const SP=["connectionContainer"],AP=["inputContainer"],MP=["label"];function xP(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function kP(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function RP(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function OP(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function PP(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function NP(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.YNc(2,RP,4,1,"ng-container",12),a.YNc(3,OP,1,0,"ng-content",12),a.YNc(4,PP,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function FP(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function LP(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function VP(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function BP(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function UP(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,BP,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const HP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let zP=0;const kM=new a.OlP("MatError");let RM=(()=>{class n{constructor(e,i){this.id="mat-error-"+zP++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:kM,useExisting:n}])]}),n})();const $P={transitionMessages:Pc("transitionMessages",[Dn("enter",Rn({opacity:1,transform:"translateY(0%)"})),no("void => enter",[Rn({opacity:0,transform:"translateY(-5px)"}),Va("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let N0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const GP=new a.OlP("MatHint");let F0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),WP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ZP=new a.OlP("MatPrefix"),qP=new a.OlP("MatSuffix");let OM=0;const KP=xv(class{constructor(n){this._elementRef=n}},"primary"),QP=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kI=new a.OlP("MatFormField");let RI=(()=>{class n extends KP{constructor(e,i,s,c,d,g,v){super(e),this._changeDetectorRef=i,this._dir=s,this._defaults=c,this._platform=d,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+OM++,this._labelId="mat-form-field-label-"+OM++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=c&&c.appearance?c.appearance:"legacy",this._hideRequiredMarker=!(!c||null==c.hideRequiredMarker)&&c.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=fi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Jo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Jt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,qa.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Jo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Jo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Jt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,P0(this._label.nativeElement,"transitionend").pipe((0,Zi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",c=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const A=i.querySelectorAll(`${s}, ${c}`);for(let R=0;R<A.length;R++)A[R].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,g=0;const v=i.querySelectorAll(s),w=i.querySelectorAll(c);if(this._label&&this._label.nativeElement.children.length){const A=i.getBoundingClientRect();if(0===A.width&&0===A.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const R=this._getStartEnd(A),V=e.children,W=this._getStartEnd(V[0].getBoundingClientRect());let ee=0;for(let be=0;be<V.length;be++)ee+=V[be].offsetWidth;d=Math.abs(W-R)-5,g=ee>0?.75*ee+10:0}for(let A=0;A<v.length;A++)v[A].style.width=`${d}px`;for(let A=0;A<w.length;A++)w[A].style.width=`${g}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Av,8),a.Y36(QP,8),a.Y36(Br),a.Y36(a.R0b),a.Y36(oo,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(a.Suo(s,N0,5),a.Suo(s,N0,7),a.Suo(s,F0,5),a.Suo(s,F0,7),a.Suo(s,WP,5),a.Suo(s,kM,5),a.Suo(s,GP,5),a.Suo(s,ZP,5),a.Suo(s,qP,5)),2&e){let c;a.iGM(c=a.CRH())&&(i._controlNonStatic=c.first),a.iGM(c=a.CRH())&&(i._controlStatic=c.first),a.iGM(c=a.CRH())&&(i._labelChildNonStatic=c.first),a.iGM(c=a.CRH())&&(i._labelChildStatic=c.first),a.iGM(c=a.CRH())&&(i._placeholderChild=c.first),a.iGM(c=a.CRH())&&(i._errorChildren=c),a.iGM(c=a.CRH())&&(i._hintChildren=c),a.iGM(c=a.CRH())&&(i._prefixChildren=c),a.iGM(c=a.CRH())&&(i._suffixChildren=c)}},viewQuery:function(e,i){if(1&e&&(a.Gf(SP,7),a.Gf(AP,5),a.Gf(MP,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._connectionContainerRef=s.first),a.iGM(s=a.CRH())&&(i._inputContainerRef=s.first),a.iGM(s=a.CRH())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:kI,useExisting:n}]),a.qOj],ngContentSelectors:jP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(HP),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(c){return i._control.onContainerClick&&i._control.onContainerClick(c)}),a.YNc(3,xP,9,0,"ng-container",3),a.YNc(4,kP,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,NP,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,FP,2,0,"div",9),a.qZA(),a.YNc(11,LP,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,VP,2,1,"div",12),a.YNc(14,UP,5,2,"div",13),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[gi,oa,Ai,KA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[$P.transitionMessages]},changeDetection:0}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ar,Pi,gI],Pi]}),n})();const NM=Sv({passive:!0});let JP=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return il.E;const i=Mu(e),s=this._monitoredElements.get(i);if(s)return s.subject;const c=new St.x,d="cdk-text-field-autofilled",g=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",g,NM),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:c,unlisten:()=>{i.removeEventListener("animationstart",g,NM)}}),c}stopMonitoring(e){const i=Mu(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Br),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const XP=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),eN=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let tN=0;const nN=wM(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let LM=(()=>{class n extends nN{constructor(e,i,s,c,d,g,v,w,A,R){super(g,c,d,s),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+tN++,this.focused=!1,this.stateChanges=new St.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ee=>JA().has(ee));const V=this._elementRef.nativeElement,W=V.nodeName.toLowerCase();this._inputValueAccessor=v||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",ee=>{const be=ee.target;!be.value&&0===be.selectionStart&&0===be.selectionEnd&&(be.setSelectionRange(1,1),be.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===W,this._isTextarea="textarea"===W,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=fi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,s,c;return null!=(c=null!=(s=this._required)?s:null==(i=null==(e=this.ngControl)?void 0:e.control)?void 0:i.hasValidator(wn.required))&&c}set required(e){this._required=fi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&JA().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=fi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var i,s;const e=(null==(s=null==(i=this._formField)?void 0:i._hideControlPlaceholder)?void 0:s.call(i))?null:this.placeholder;if(e!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=e,e?c.setAttribute("placeholder",e):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){eN.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Br),a.Y36(_n,10),a.Y36(Xr,8),a.Y36(Oa,8),a.Y36(SI),a.Y36(XP,10),a.Y36(JP),a.Y36(a.R0b),a.Y36(kI,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:N0,useExisting:n}]),a.qOj,a.TTD]}),n})(),iN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[SI],imports:[[FM,L0,Pi],FM,L0]}),n})();var VM=O(2869);const Ov={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ov;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(c=>{e=void 0,n(c)});return new Vr.w0(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=Ov;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ov;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var BM=O(8843);new class extends BM.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const c=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<c&&(t=e.shift()));if(this._active=!1,i){for(;++s<c&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends VM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ov.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Ov.cancelAnimationFrame(e),t._scheduled=void 0)}});let OI,aN=1;const V0={};function UM(n){return n in V0&&(delete V0[n],!0)}const lN={setImmediate(n){const t=aN++;return V0[t]=!0,OI||(OI=Promise.resolve()),OI.then(()=>UM(t)&&n()),t},clearImmediate(n){UM(n)}},{setImmediate:cN,clearImmediate:uN}=lN,B0={setImmediate(...n){const{delegate:t}=B0;return((null==t?void 0:t.setImmediate)||cN)(...n)},clearImmediate(n){const{delegate:t}=B0;return((null==t?void 0:t.clearImmediate)||uN)(n)},delegate:void 0};new class extends BM.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const c=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<c&&(t=e.shift()));if(this._active=!1,i){for(;++s<c&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends VM.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=B0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(B0.clearImmediate(e),t._scheduled=void 0)}});var mN=O(7398);function HM(n=0,t,e=wf.P){let i=-1;return null!=t&&((0,mN.K)(t)?e=t:i=t),new kn.y(s=>{let c=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){s.closed||(s.next(d++),0<=i?this.schedule(void 0,i):s.complete())},c)})}function jM(n,t=wf.P){return function(n){return(0,Xn.e)((t,e)=>{let i=!1,s=null,c=null,d=!1;const g=()=>{if(null==c||c.unsubscribe(),c=null,i){i=!1;const w=s;s=null,e.next(w)}d&&e.complete()},v=()=>{c=null,d&&e.complete()};t.subscribe(new Kt.Q(e,w=>{i=!0,s=w,c||(0,Hi.Xf)(n()).subscribe(c=new Kt.Q(e,g,v))},()=>{d=!0,(!i||!c||c.closed)&&e.complete()}))})}(()=>HM(n,t))}let zM=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new St.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(jM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):st()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nr(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Mu(i),c=e.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>P0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Br),a.LFG(J,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pv=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new St.x,this._changeListener=c=>{this._change.next(c)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,c=s.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(jM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Br),a.LFG(a.R0b),a.LFG(J,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Mv,U0],Mv,U0]}),n})();class PI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class GM extends PI{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class WM extends PI{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class vN extends PI{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class CN extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof GM?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof WM?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof vN?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,s,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=d=>{const g=d.element,v=this._document.createComment("dom-portal");g.parentNode.insertBefore(v,g),this.outletElement.appendChild(g),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(g,v)})},this._document=c}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let EN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const ZM=IO();class TN{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ti(-this._previousScrollPosition.left),t.style.top=Ti(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,c=i.scrollBehavior||"",d=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZM&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZM&&(i.scrollBehavior=c,s.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class DN{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class qM{enable(){}disable(){}attach(){}}function NI(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function YM(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class IN{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();NI(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let SN=(()=>{class n{constructor(e,i,s,c){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new qM,this.close=d=>new DN(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new TN(this._viewportRuler,this._document),this.reposition=d=>new IN(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zM),a.LFG(Pv),a.LFG(a.R0b),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KM{constructor(t){if(this.scrollStrategy=new qM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class AN{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let QM=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MN=(()=>{class n extends QM{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const g=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n extends QM{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=hp(c)},this._clickListener=c=>{const d=hp(c),g="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let w=v.length-1;w>-1;w--){const A=v[w];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(A.overlayElement.contains(d)||A.overlayElement.contains(g))break;const R=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(c)):R.next(c)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(Br),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null==(e=this._containerElement)||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vI()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}const i=this._document.createElement("div");i.classList.add(e),vI()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(Br))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kN{constructor(t,e,i,s,c,d,g,v,w){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=c,this._keyboardDispatcher=d,this._document=g,this._location=v,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new St.x,this._attachments=new St.x,this._detachments=new St.x,this._locationChanges=Vr.w0.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new St.x,this._outsidePointerEvents=new St.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Zi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(e=this._host)||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Fe(Fe({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ln(Fe({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ti(this._config.width),t.height=Ti(this._config.height),t.minWidth=Ti(this._config.minWidth),t.minHeight=Ti(this._config.minHeight),t.maxWidth=Ti(this._config.maxWidth),t.maxHeight=Ti(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{console.log("fallback"),this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const s=T0(e||[]).filter(c=>!!c);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Jt((0,qa.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const XM="cdk-overlay-connected-position-bounding-box",RN=/([A-Za-z%]+)$/;class ON{constructor(t,e,i,s,c){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.x,this._resizeSubscription=Vr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(XM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,c=[];let d;for(let g of this._preferredPositions){let v=this._getOriginPoint(t,s,g),w=this._getOverlayPoint(v,e,g),A=this._getOverlayFit(w,e,i,g);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,v);this._canFitWithFlexibleDimensions(A,w,i)?c.push({position:g,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,g)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:w,originPoint:v,position:g,overlayRect:e})}if(c.length){let g=null,v=-1;for(const w of c){const A=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);A>v&&(v=A,g=w)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(XM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,c;if("center"==i.originX)s=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,g=this._isRtl()?t.left:t.right;s="start"==i.originX?d:g}return e.left<0&&(s-=e.left),c="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:s,y:c}}_getOverlayPoint(t,e,i){let s,c;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+c}}_getOverlayFit(t,e,i,s){const c=tx(e);let{x:d,y:g}=t,v=this._getOffset(s,"x"),w=this._getOffset(s,"y");v&&(d+=v),w&&(g+=w);let V=0-g,W=g+c.height-i.height,ee=this._subtractOverflows(c.width,0-d,d+c.width-i.width),be=this._subtractOverflows(c.height,V,W),Ne=ee*be;return{visibleArea:Ne,isCompletelyWithinViewport:c.width*c.height===Ne,fitsInViewportVertically:be===c.height,fitsInViewportHorizontally:ee==c.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,c=i.right-e.x,d=ex(this._overlayRef.getConfig().minHeight),g=ex(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=g&&g<=c;return(t.fitsInViewportVertically||null!=d&&d<=s)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=tx(e),c=this._viewportRect,d=Math.max(t.x+s.width-c.width,0),g=Math.max(t.y+s.height-c.height,0),v=Math.max(c.top-i.top-t.y,0),w=Math.max(c.left-i.left-t.x,0);let A=0,R=0;return A=s.width<=c.width?w||-d:t.x<this._viewportMargin?c.left-i.left-t.x:0,R=s.height<=c.height?v||-g:t.y<this._viewportMargin?c.top-i.top-t.y:0,this._previousPushAmount={x:A,y:R},{x:t.x+A,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new AN(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let c,d,g,A,R,V;if("top"===e.overlayY)d=t.y,c=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)g=i.height-t.y+2*this._viewportMargin,c=i.height-g+this._viewportMargin;else{const W=Math.min(i.bottom-t.y+i.top,t.y),ee=this._lastBoundingBoxSize.height;c=2*W,d=t.y-W,c>ee&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-ee/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)V=i.width-t.x+this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)R=t.x,A=i.right-t.x;else{const W=Math.min(i.right-t.x+i.left,t.x),ee=this._lastBoundingBoxSize.width;A=2*W,R=t.x-W,A>ee&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-ee/2)}return{top:d,left:R,bottom:g,right:V,width:A,height:c}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;s.height=Ti(i.height),s.top=Ti(i.top),s.bottom=Ti(i.bottom),s.width=Ti(i.width),s.left=Ti(i.left),s.right=Ti(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=Ti(c)),d&&(s.maxWidth=Ti(d))}this._lastBoundingBoxSize=i,fp(this._boundingBox.style,s)}_resetBoundingBoxStyles(){fp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(s){const A=this._viewportRuler.getViewportScrollPosition();fp(i,this._getExactOverlayY(e,t,A)),fp(i,this._getExactOverlayX(e,t,A))}else i.position="static";let g="",v=this._getOffset(e,"x"),w=this._getOffset(e,"y");v&&(g+=`translateX(${v}px) `),w&&(g+=`translateY(${w}px)`),i.transform=g.trim(),d.maxHeight&&(s?i.maxHeight=Ti(d.maxHeight):c&&(i.maxHeight="")),d.maxWidth&&(s?i.maxWidth=Ti(d.maxWidth):c&&(i.maxWidth="")),fp(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=Ti(c.y),s}_getExactOverlayX(t,e,i){let d,s={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=Ti(c.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:YM(t,i),isOriginOutsideView:NI(t,i),isOverlayClipped:YM(e,i),isOverlayOutsideView:NI(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&T0(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function fp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ex(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(RN);return e&&"px"!==e?null:parseFloat(t)}return n||null}function tx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nx="cdk-global-overlay-wrapper";class PN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(nx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:d,maxHeight:g}=i,v=!("100%"!==s&&"100vw"!==s||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==c&&"100vh"!==c||g&&"100%"!==g&&"100vh"!==g);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(nx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let NN=(()=>{class n{constructor(e,i,s,c){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=c}global(){return new PN}flexibleConnectedTo(e){return new ON(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pv),a.LFG(J),a.LFG(Br),a.LFG(JM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FN=0,Mg=(()=>{class n{constructor(e,i,s,c,d,g,v,w,A,R,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=g,this._ngZone=v,this._document=w,this._directionality=A,this._location=R,this._outsideClickDispatcher=V}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),c=this._createPortalOutlet(s),d=new KM(e);return d.direction=d.direction||this._directionality.value,new kN(c,i,s,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+FN++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new CN(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(SN),a.LFG(JM),a.LFG(a._Vd),a.LFG(NN),a.LFG(MN),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(J),a.LFG(Av),a.LFG(je),a.LFG(xN))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const LN=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ix=new a.OlP("cdk-connected-overlay-scroll-strategy");let rx=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),sx=(()=>{class n{constructor(e,i,s,c,d){this._overlay=e,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Vr.w0.EMPTY,this._attachSubscription=Vr.w0.EMPTY,this._detachSubscription=Vr.w0.EMPTY,this._positionSubscription=Vr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new WM(i,s),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=fi(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=fi(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=fi(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=fi(e)}get push(){return this._push}set push(e){this._push=fi(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=LN);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Sg(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new KM({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof rx?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return(0,Xn.e)((e,i)=>{let s=0;e.subscribe(new Kt.Q(i,c=>{const d=n(c,s++);(d||t)&&i.next(c),!d&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mg),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(ix),a.Y36(Av,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const BN={provide:ix,deps:[Mg],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Mg,BN],imports:[[Mv,EN,$M],$M]}),n})();class UN{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new St.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const HN=["trigger"],jN=["panel"];function zN(n,t){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function $N(n,t){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function GN(n,t){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function WN(n,t){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,$N,2,1,"span",10),a.YNc(2,GN,1,0,"ng-content",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function ZN(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13),a.TgZ(1,"div",14,15),a.NdJ("@transformPanel.done",function(s){return a.CHM(e),a.oxw()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return a.CHM(e),a.oxw()._handleKeydown(s)}),a.Hsn(3,1),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const qN=[[["mat-select-trigger"]],"*"],YN=["mat-select-trigger","*"],ax={transformPanelWrap:Pc("transformPanelWrap",[no("* => void",Gh("@transformPanel",[Kn()],{optional:!0}))]),transformPanel:Pc("transformPanel",[Dn("void",Rn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Dn("showing",Rn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Dn("showing-multiple",Rn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),no("void => *",Va("120ms cubic-bezier(0, 0, 0.2, 1)")),no("* => void",Va("100ms 25ms linear",Rn({opacity:0})))])};let lx=0;const ux=new a.OlP("mat-select-scroll-strategy"),XN=new a.OlP("MAT_SELECT_CONFIG"),eF={provide:ux,deps:[Mg],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class tF{constructor(t,e){this.source=t,this.value=e}}const nF=II(EM(DI(wM(class{constructor(n,t,e,i,s){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}})))),iF=new a.OlP("MatSelectTrigger");let rF=(()=>{class n extends nF{constructor(e,i,s,c,d,g,v,w,A,R,V,W,ee,be){var Ne,mt,ft;super(d,c,v,w,R),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=g,this._parentFormField=A,this._liveAnnouncer=ee,this._defaultOptions=be,this._panelOpen=!1,this._compareWith=(_t,dt)=>_t===dt,this._uid="mat-select-"+lx++,this._triggerAriaLabelledBy=null,this._destroy=new St.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+lx++,this._panelDoneAnimatingStream=new St.x,this._overlayPanelClass=(null==(Ne=this._defaultOptions)?void 0:Ne.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(ft=null==(mt=this._defaultOptions)?void 0:mt.disableOptionCentering)&&ft,this.ariaLabel="",this.optionSelectionChanges=rp(()=>{const _t=this.options;return _t?_t.changes.pipe(Jo(_t),ui(()=>(0,qa.T)(..._t.map(dt=>dt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Zi.q)(1),ui(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(Nr(_t=>_t),(0,Ke.U)(()=>{})),this._closedStream=this.openedChange.pipe(Nr(_t=>!_t),(0,Ke.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==be?void 0:be.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=be.typeaheadDebounceInterval),this._scrollStrategyFactory=W,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(V)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,s,c;return null!=(c=null!=(s=this._required)?s:null==(i=null==(e=this.ngControl)?void 0:e.control)?void 0:i.hasValidator(wn.required))&&c}set required(e){this._required=fi(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=fi(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=fi(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=uh(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new UN(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(j_(),Jt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Jt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Jo(null),Jt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null==(e=this._selectionModel)?void 0:e.selected)||[]:null==(i=this._selectionModel)?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=40===i||38===i||37===i||39===i,c=13===i||32===i,d=this._keyManager;if(!d.isTyping()&&c&&!Sg(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const g=this.selected;d.onKeydown(e);const v=this.selected;v&&g!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,c=40===s||38===s,d=i.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==s&&32!==s||!i.activeItem||Sg(e))if(!d&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const g=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(g?v.select():v.deselect())})}else{const g=i.activeItemIndex;i.onKeydown(e),this._multiple&&c&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==g&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Zi.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(c){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new VO(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Jt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,qa.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Jt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,qa.T)(...this.options.map(i=>i._stateChanges)).pipe(Jt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null==(e=this.options)?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var s;if(this.ariaLabel)return null;const e=null==(s=this._parentFormField)?void 0:s.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var s;if(this.ariaLabel)return null;const e=null==(s=this._parentFormField)?void 0:s.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Pv),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(SI),a.Y36(a.SBq),a.Y36(Av,8),a.Y36(Xr,8),a.Y36(Oa,8),a.Y36(kI,8),a.Y36(_n,10),a.$8M("tabindex"),a.Y36(ux),a.Y36(gM),a.Y36(XN,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(HN,5),a.Gf(jN,5),a.Gf(sx,5)),2&e){let s;a.iGM(s=a.CRH())&&(i.trigger=s.first),a.iGM(s=a.CRH())&&(i.panel=s.first),a.iGM(s=a.CRH())&&(i._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),FI=(()=>{class n extends rF{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const c=this._getItemHeight();return Math.min(Math.max(0,c*e-i+c/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Zi.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=xI(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+256?Math.max(0,n-256+t):e}((e+i)*s,s,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new tF(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),c=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let w=this._selectionModel.selected[0]||this.options.first;d=w&&w.group?32:16}s||(d*=-1);const g=0-(e.left+d-(s?c:0)),v=e.right+d-i.width+(s?0:c);g>0?d+=g+8:v>0&&(d-=v+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const c=this._getItemHeight(),d=(c-this._triggerRect.height)/2,g=Math.floor(256/c);let v;return this.disableOptionCentering?0:(v=0===this._scrollTop?e*c:this._scrollTop===s?(e-(this._getItemCount()-g))*c+(c-(this._getItemCount()*c-256)%c):i-c/2,Math.round(-1*v-d))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),c=this._triggerRect.top-8,d=s.height-this._triggerRect.bottom-8,g=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*i,256)-g-this._triggerRect.height;w>d?this._adjustPanelUp(w,d):g>c?this._adjustPanelDown(g,c,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const c=Math.round(e-i);if(this._scrollTop+=c,this._offsetY+=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,256),d=i*e-s;let g;g=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),g+=xI(g,this.options,this.optionGroups);const v=s/2;this._scrollTop=this._calculateOverlayScroll(g,v,d),this._offsetY=this._calculateOverlayOffsetY(g,v,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(a.Suo(s,iF,5),a.Suo(s,O0,5),a.Suo(s,AM,5)),2&e){let c;a.iGM(c=a.CRH())&&(i.customTrigger=c.first),a.iGM(c=a.CRH())&&(i.options=c),a.iGM(c=a.CRH())&&(i.optionGroups=c)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(c){return i._handleKeydown(c)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:N0,useExisting:n},{provide:SM,useExisting:n}]),a.qOj],ngContentSelectors:YN,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(a.F$t(qN),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,zN,2,1,"span",3),a.YNc(5,WN,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA(),a.qZA(),a.YNc(8,ZN,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[rx,oa,Ai,sx,or,si],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[ax.transformPanelWrap,ax.transformPanel]},changeDetection:0}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[eF],imports:[[Ar,ox,MM,Pi],U0,L0,MM,Pi]}),n})();function oF(n,t){1&n&&(a.TgZ(0,"mat-error",19),a._uU(1," Debe completar el nombre del cliente "),a.qZA())}function aF(n,t){1&n&&(a.TgZ(0,"mat-error",19),a._uU(1," El tel\xe9fono no es valido "),a.qZA())}function lF(n,t){1&n&&(a.TgZ(0,"mat-error",19),a._uU(1," Debe completar el nombre del perro "),a.qZA())}function cF(n,t){1&n&&(a.TgZ(0,"mat-error",19),a._uU(1," Debe completar la raza del perro "),a.qZA())}function uF(n,t){1&n&&(a.TgZ(0,"span"),a._uU(1,"Guardar"),a.qZA())}function dF(n,t){1&n&&(a.TgZ(0,"div",20),a.TgZ(1,"span",21),a._uU(2,"Loading..."),a.qZA(),a.qZA())}let hF=(()=>{class n{constructor(e,i,s,c,d){this.fb=e,this.router=i,this.clienteService=s,this.turnoService=c,this.toastR=d,this.loading=!1,this.accion="Agregar",this.form=this.fb.group({nombreCliente:["",wn.required],telefonoCliente:["",[wn.required,wn.minLength(10),wn.maxLength(20),wn.pattern("^[0-9 -+]*$")]],nombrePerro:["",wn.required],razaPerro:["",wn.required],tamanioPerro:["Peque\xf1o",wn.required]})}ngOnInit(){null!=this.clienteService.clienteSeleccionado&&this.establecerEditarCliente()}ngOnDestroy(){var e;null===(e=this.turnosDelClienteSubscription)||void 0===e||e.unsubscribe()}establecerEditarCliente(){var e,i,s,c,d;this.accion="Editar",this.clienteSeleccionado=this.clienteService.clienteSeleccionado,this.clienteService.clienteSeleccionado=void 0,this.form.patchValue({nombreCliente:null===(e=this.clienteSeleccionado)||void 0===e?void 0:e.nombre,telefonoCliente:null===(i=this.clienteSeleccionado)||void 0===i?void 0:i.telefono,nombrePerro:null===(s=this.clienteSeleccionado)||void 0===s?void 0:s.nombrePerro,razaPerro:null===(c=this.clienteSeleccionado)||void 0===c?void 0:c.razaPerro,tamanioPerro:null===(d=this.clienteSeleccionado)||void 0===d?void 0:d.tamanioPerro})}guardarCliente(){this.form.invalid||(void 0===this.clienteSeleccionado?this.agregarCliente():this.editarCliente())}agregarCliente(){const e=new JR(this.form.value.nombreCliente,this.form.value.telefonoCliente,this.form.value.nombrePerro,this.form.value.razaPerro,this.form.value.tamanioPerro,new Date);this.loading=!0,this.clienteService.crearCliente(e).then(()=>{this.loading=!1,this.router.navigateByUrl("/home/clientes")})}editarCliente(){let e;this.clienteSeleccionado.nombre=this.form.value.nombreCliente,this.clienteSeleccionado.telefono=this.form.value.telefonoCliente,this.clienteSeleccionado.nombrePerro=this.form.value.nombrePerro,this.clienteSeleccionado.razaPerro=this.form.value.razaPerro,this.clienteSeleccionado.tamanioPerro=this.form.value.tamanioPerro,this.loading=!0,this.turnosDelClienteSubscription=this.turnoService.obtenerLosTurnosDelCliente(this.clienteSeleccionado.id).subscribe(i=>{e=[],i.forEach(s=>{e.push(s.key)}),this.clienteService.editarCliente(this.clienteSeleccionado.id,this.clienteSeleccionado,e).then(()=>{this.loading=!1,this.router.navigateByUrl("/home/clientes")})})}volver(){""!=this.form.value.nombreCliente||""!=this.form.value.telefonoCliente||""!=this.form.value.nombrePerro||""!=this.form.value.razaPerro?confirm("\xbfSeguro desea salir?")&&this.router.navigateByUrl("/home/clientes"):this.router.navigateByUrl("/home/clientes")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dd),a.Y36(wi),a.Y36(pI),a.Y36(C0),a.Y36(w0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-agregar-cliente"]],decls:52,vars:12,consts:[[1,"row","mt-3"],[1,"col"],[1,"title"],[1,"mt-3",3,"formGroup","ngSubmit"],[1,"row"],["appearance","fill",1,"w-100"],["matInput","","formControlName","nombreCliente","type","text"],["class","label-error",4,"ngIf"],[1,"row","mt-2"],["matInput","","formControlName","telefonoCliente","type","tel"],["matInput","","formControlName","nombrePerro","type","text"],["matInput","","formControlName","razaPerro","type","text"],["formControlName","tamanioPerro"],[3,"value"],[1,"d-grid","gap-2","py-2"],["type","submit",1,"btn","btn-danger","btn-accept","fw-bold","d-flex","justify-content-center","align-items-center",3,"disabled"],[4,"ngIf"],["class","spinner-border text-light","role","status",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-secondary","fw-bold",3,"click"],[1,"label-error"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h2",2),a._uU(3),a.qZA(),a.TgZ(4,"form",3),a.NdJ("ngSubmit",function(){return i.guardarCliente()}),a.TgZ(5,"div",4),a.TgZ(6,"div",1),a.TgZ(7,"mat-form-field",5),a.TgZ(8,"mat-label"),a._uU(9,"Nombre del cliente"),a.qZA(),a._UZ(10,"input",6),a.YNc(11,oF,2,0,"mat-error",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"div",8),a.TgZ(13,"div",1),a.TgZ(14,"mat-form-field",5),a.TgZ(15,"mat-label"),a._uU(16,"Tel\xe9fono"),a.qZA(),a._UZ(17,"input",9),a.YNc(18,aF,2,0,"mat-error",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"div",8),a.TgZ(20,"div",1),a.TgZ(21,"mat-form-field",5),a.TgZ(22,"mat-label"),a._uU(23,"Nombre del perro"),a.qZA(),a._UZ(24,"input",10),a.YNc(25,lF,2,0,"mat-error",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(26,"div",8),a.TgZ(27,"div",1),a.TgZ(28,"mat-form-field",5),a.TgZ(29,"mat-label"),a._uU(30,"Raza del perro"),a.qZA(),a._UZ(31,"input",11),a.YNc(32,cF,2,0,"mat-error",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(33,"div",8),a.TgZ(34,"div",1),a.TgZ(35,"mat-form-field",5),a.TgZ(36,"mat-label"),a._uU(37,"Tama\xf1o del perro"),a.qZA(),a.TgZ(38,"mat-select",12),a.TgZ(39,"mat-option",13),a._uU(40,"Peque\xf1o"),a.qZA(),a.TgZ(41,"mat-option",13),a._uU(42,"Mediano"),a.qZA(),a.TgZ(43,"mat-option",13),a._uU(44,"Grande"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(45,"div",14),a.TgZ(46,"button",15),a.YNc(47,uF,2,0,"span",16),a.YNc(48,dF,3,0,"div",17),a.qZA(),a.qZA(),a.TgZ(49,"div",14),a.TgZ(50,"button",18),a.NdJ("click",function(){return i.volver()}),a._uU(51,"Volver"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){let s,c,d,g;a.xp6(3),a.hij("",i.accion," Cliente"),a.xp6(1),a.Q6J("formGroup",i.form),a.xp6(7),a.Q6J("ngIf",null==(s=i.form.get("nombreCliente"))?null:s.invalid),a.xp6(7),a.Q6J("ngIf",null==(c=i.form.get("telefonoCliente"))?null:c.invalid),a.xp6(7),a.Q6J("ngIf",null==(d=i.form.get("nombrePerro"))?null:d.invalid),a.xp6(7),a.Q6J("ngIf",null==(g=i.form.get("razaPerro"))?null:g.invalid),a.xp6(7),a.Q6J("value","Peque\xf1o"),a.xp6(2),a.Q6J("value","Mediano"),a.xp6(2),a.Q6J("value","Grande"),a.xp6(3),a.Q6J("disabled",i.loading),a.xp6(1),a.Q6J("ngIf",!i.loading),a.xp6(1),a.Q6J("ngIf",i.loading)}},directives:[kc,Dl,Oa,RI,F0,LM,ur,Rr,Pa,gi,FI,O0,RM],styles:[".title[_ngcontent-%COMP%]{text-align:center;font-weight:bold;color:var(--bs-gray-800);font-size:1.3rem}.spinner-border[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}"]}),n})();class fF{constructor(t,e,i,s,c,d,g,v){this.clienteId=t,this.clienteNombre=e,this.clientePerroNombre=i,this.tipo=s,this.importe=c,this.fecha=d,this.hora=g,this.estado=v}}function dx(n,t){return t?e=>Iu(t.pipe((0,Zi.q)(1),(0,Xn.e)((n,t)=>{n.subscribe(new Kt.Q(t,z_.Z))})),e.pipe(dx(n))):(0,ni.z)((e,i)=>n(e,i).pipe((0,Zi.q)(1),function(n){return(0,Ke.U)(()=>n)}(e)))}const _F=["input"],yF=function(n){return{enterDuration:n}},vF=["*"],bF=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:hx});function hx(){return{color:"accent",clickAction:"check-indeterminate"}}let CF=0;const fx=hx(),EF={provide:ai,useExisting:(0,a.Gpc)(()=>px),multi:!0};class wF{}const TF=EM(xv(II(DI(class{constructor(n){this._elementRef=n}}))));let px=(()=>{class n extends TF{constructor(e,i,s,c,d,g,v){super(e),this._changeDetectorRef=i,this._focusMonitor=s,this._ngZone=c,this._animationMode=g,this._options=v,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++CF,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||fx,this.color=this.defaultColor=this._options.color||fx.color,this.tabIndex=parseInt(d)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=fi(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=fi(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=fi(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,s=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const c=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(c)},1e3)})}}_emitChangeEvent(){const e=new wF;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var s;const i=null==(s=this._options)?void 0:s.clickAction;e.stopPropagation(),this.disabled||"noop"===i?!this.disabled&&"noop"===i&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let s="";switch(e){case 0:if(1===i)s="unchecked-checked";else{if(3!=i)return"";s="unchecked-indeterminate"}break;case 2:s=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(wI),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(oo,8),a.Y36(bF,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(a.Gf(_F,5),a.Gf(Rv,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._inputElement=s.first),a.iGM(s=a.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[a._Bn([EF]),a.qOj],ngContentSelectors:vF,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(a.F$t(),a.TgZ(0,"label",0,1),a.TgZ(2,"span",2),a.TgZ(3,"input",3,4),a.NdJ("change",function(c){return i._onInteractionEvent(c)})("click",function(c){return i._onInputClick(c)}),a.qZA(),a.TgZ(5,"span",5),a._UZ(6,"span",6),a.qZA(),a._UZ(7,"span",7),a.TgZ(8,"span",8),a.O4$(),a.TgZ(9,"svg",9),a._UZ(10,"path",10),a.qZA(),a.kcU(),a._UZ(11,"span",11),a.qZA(),a.qZA(),a.TgZ(12,"span",12,13),a.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),a.TgZ(14,"span",14),a._uU(15,"\xa0"),a.qZA(),a.Hsn(16),a.qZA(),a.qZA()),2&e){const s=a.MAs(1),c=a.MAs(13);a.uIk("for",i.inputId),a.xp6(2),a.ekj("mat-checkbox-inner-container-no-side-margin",!c.textContent||!c.textContent.trim()),a.xp6(1),a.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),a.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),a.xp6(2),a.Q6J("matRippleTrigger",s)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",a.VKq(19,yF,"NoopAnimations"===i._animationMode?0:150))}},directives:[Rv,KA],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),SF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[MI,Pi,gI,mx],Pi,mx]}),n})();function AF(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const e=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),a.uIk("r",e._getCircleRadius())}}function MF(n,t){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const e=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),a.uIk("r",e._getCircleRadius())}}const kF=xv(class{constructor(n){this._elementRef=n}},"primary"),RF=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class xu extends kF{constructor(t,e,i,s,c,d,g,v){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Vr.w0.EMPTY,this.mode="determinate";const w=xu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),w.has(i.head)||w.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!c&&!c._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),c&&(c.diameter&&(this.diameter=c.diameter),c.strokeWidth&&(this.strokeWidth=c.strokeWidth)),e.isBrowser&&e.SAFARI&&g&&d&&v&&(this._resizeSubscription=g.change(150).subscribe(()=>{"indeterminate"===this.mode&&v.run(()=>d.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=uh(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=uh(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,uh(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=XA(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var i;const e=50*(null!=(i=t.currentScale)?i:1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=xu._diameters;let s=i.get(t);if(!s||!s.has(e)){const c=this._document.createElement("style");c.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),c.textContent=this._getAnimationText(),t.appendChild(c),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}xu._diameters=new WeakMap,xu.\u0275fac=function(t){return new(t||xu)(a.Y36(a.SBq),a.Y36(Br),a.Y36(J,8),a.Y36(oo,8),a.Y36(RF),a.Y36(a.sBO),a.Y36(Pv),a.Y36(a.R0b))},xu.\u0275cmp=a.Xpm({type:xu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(a.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,AF,1,11,"circle",2),a.YNc(3,MF,1,9,"circle",3),a.qZA()),2&t&&(a.Udp("width",e.diameter,"px")("height",e.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===e.mode),a.uIk("viewBox",e._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[oa,Ai],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let NF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Pi,Ar],Pi]}),n})();const FF=xu,LF=["mat-button",""],VF=["*"],UF=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],HF=xv(DI(II(class{constructor(n){this._elementRef=n}})));let jF=(()=>{class n extends HF{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of UF)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(wI),a.Y36(oo,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Rv,5),2&e){let s;a.iGM(s=a.CRH())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:LF,ngContentSelectors:VF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Rv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[MI,Pi],Pi]}),n})();class GF{}class dh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),c=s.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(g=>-1===c.indexOf(g)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class WF{encodeKey(t){return gx(t)}encodeValue(t){return gx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const qF=/%(\d[a-f0-9])/gi,YF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function gx(n){return encodeURIComponent(n).replace(qF,(t,e)=>{var i;return null!=(i=YF[e])?i:t})}function _x(n){return`${n}`}class hh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new WF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[d,g]=-1==c?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,c)),t.decodeValue(s.slice(c+1))],v=e.get(d)||[];v.push(g),e.set(d,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new hh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(_x(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(_x(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class KF{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function yx(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function vx(n){return"undefined"!=typeof Blob&&n instanceof Blob}function bx(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Fv{constructor(t,e,i,s){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,c=s):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new dh),this.context||(this.context=new KF),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+d}}else this.params=new hh,this.urlWithParams=e}serializeBody(){return null===this.body?null:yx(this.body)||vx(this.body)||bx(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bx(this.body)?null:vx(this.body)?this.body.type||null:yx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var R;const e=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,w=t.params||this.params;const A=null!=(R=t.context)?R:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((V,W)=>V.set(W,t.setHeaders[W]),v)),t.setParams&&(w=Object.keys(t.setParams).reduce((V,W)=>V.set(W,t.setParams[W]),w)),new Fv(e,i,c,{params:w,headers:v,context:A,reportProgress:g,responseType:s,withCredentials:d})}}var Tr=(()=>((Tr=Tr||{})[Tr.Sent=0]="Sent",Tr[Tr.UploadProgress=1]="UploadProgress",Tr[Tr.ResponseHeader=2]="ResponseHeader",Tr[Tr.DownloadProgress=3]="DownloadProgress",Tr[Tr.Response=4]="Response",Tr[Tr.User=5]="User",Tr))();class VI extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new dh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Tr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new VI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function BI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ex=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let c;if(e instanceof Fv)c=e;else{let v,w;v=s.headers instanceof dh?s.headers:new dh(s.headers),s.params&&(w=s.params instanceof hh?s.params:new hh({fromObject:s.params})),c=new Fv(e,i,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:w,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const d=st(c).pipe(Cg(v=>this.handler.handle(v)));if(e instanceof Fv||"events"===s.observe)return d;const g=d.pipe(Nr(v=>v instanceof VI));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,Ke.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Ke.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Ke.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,Ke.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new hh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,BI(s,i))}post(e,i,s={}){return this.request("POST",e,BI(s,i))}put(e,i,s={}){return this.request("PUT",e,BI(s,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GF))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const t1=["*"];let j0;function Lv(n){var t;return(null==(t=function(){if(void 0===j0&&(j0=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(j0=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return j0}())?void 0:t.createHTML(n))||n}function wx(n){return Error(`Unable to find icon with the name "${n}"`)}function Tx(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Dx(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let z0=(()=>{class n{constructor(e,i,s,c){this._httpClient=e,this._sanitizer=i,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,c){return this._addSvgIconConfig(e,i,new pp(s,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,c){const d=this._sanitizer.sanitize(a.q3G.HTML,s);if(!d)throw Dx(s);const g=Lv(d);return this._addSvgIconConfig(e,i,new pp("",g,c))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new pp(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const c=this._sanitizer.sanitize(a.q3G.HTML,i);if(!c)throw Dx(i);const d=Lv(c);return this._addSvgIconSetConfig(e,new pp("",d,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw Tx(e);const s=this._cachedIconsByUrl.get(i);return s?st($0(s)):this._loadSvgIconFromConfig(new pp(e,null)).pipe((0,Ji.b)(c=>this._cachedIconsByUrl.set(i,c)),(0,Ke.U)(c=>$0(c)))}getNamedSvgIcon(e,i=""){const s=Ix(i,e);let c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(i,e),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):function(n,t){const e=(0,Rs.m)(n)?n:()=>n,i=s=>s.error(e());return new kn.y(i)}(wx(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?st($0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ke.U)(i=>$0(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?st(s):Io(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(po(g=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,d.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(w)),st(null)})))).pipe((0,Ke.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw wx(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const c=i[s];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),g=this._extractSvgIconFromSet(d,e,c.options);if(g)return g}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ji.b)(i=>e.svgText=i),(0,Ke.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?st(null):this._fetchIcon(e).pipe((0,Ji.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const c=e.querySelector(`[id="${i}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,s);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),s);const g=this._svgElementFromString(Lv("<svg></svg>"));return g.appendChild(d),this._setSvgAttributes(g,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString(Lv("<svg></svg>")),s=e.attributes;for(let c=0;c<s.length;c++){const{name:d,value:g}=s[c];"id"!==d&&i.setAttribute(d,g)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[c].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var w;const{url:i,options:s}=e,c=null!=(w=null==s?void 0:s.withCredentials)&&w;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!d)throw Tx(i);const g=this._inProgressUrlFetches.get(d);if(g)return g;const v=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,Ke.U)(A=>Lv(A)),WS(()=>this._inProgressUrlFetches.delete(d)),(0,sm.B)());return this._inProgressUrlFetches.set(d,v),v}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(Ix(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const c=this._resolvers[s](i,e);if(c)return o1(c)?new pp(c.url,null,c.options):new pp(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ex,8),a.LFG(Gr),a.LFG(J,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $0(n){return n.cloneNode(!0)}function Ix(n,t){return n+":"+t}function o1(n){return!(!n.url||!n.options)}const a1=xv(class{constructor(n){this._elementRef=n}}),l1=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,a.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Sx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],u1=Sx.map(n=>`[${n}]`).join(", "),d1=/^url\(['"]?#(.*?)['"]?\)$/;let h1=(()=>{class n extends a1{constructor(e,i,s,c,d){super(e),this._iconRegistry=i,this._location=c,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Vr.w0.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=fi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let c=0;c<i.length;c++)i[c].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,c)=>{s.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(u1),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<i.length;c++)Sx.forEach(d=>{const g=i[c],v=g.getAttribute(d),w=v?v.match(d1):null;if(w){let A=s.get(g);A||(A=[],s.set(g,A)),A.push({name:d,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe((0,Zi.q)(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(z0),a.$8M("aria-hidden"),a.Y36(l1),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:t1,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),f1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Pi],Pi]}),n})();const Ax=new Set;let kg,p1=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):g1}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!Ax.has(n))try{kg||(kg=document.createElement("style"),kg.setAttribute("type","text/css"),document.head.appendChild(kg)),kg.sheet&&(kg.sheet.insertRule(`@media ${n} {body{ }}`,0),Ax.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Br))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g1(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _1=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new St.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Mx(T0(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let c=nt(Mx(T0(e)).map(d=>this._registerQuery(d).observable));return c=Iu(c.pipe((0,Zi.q)(1)),c.pipe(aM(1),mI(0))),c.pipe((0,Ke.U)(d=>{const g={matches:!1,breakpoints:{}};return d.forEach(({matches:v,query:w})=>{g.matches=g.matches||v,g.breakpoints[w]=v}),g}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),c={observable:new kn.y(d=>{const g=v=>this._zone.run(()=>d.next(v));return i.addListener(g),()=>{i.removeListener(g)}}).pipe(Jo(i),(0,Ke.U)(({matches:d})=>({query:e,matches:d})),Jt(this._destroySubject)),mql:i};return this._queries.set(e,c),c}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(p1),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mx(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const v1=["tooltip"],xx="tooltip-panel",kx=Sv({passive:!0}),Rx=new a.OlP("mat-tooltip-scroll-strategy"),w1={provide:Rx,deps:[Mg],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},T1=new a.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let I1=(()=>{class n{constructor(e,i,s,c,d,g,v,w,A,R,V,W){this._overlay=e,this._elementRef=i,this._scrollDispatcher=s,this._viewContainerRef=c,this._ngZone=d,this._platform=g,this._ariaDescriber=v,this._focusMonitor=w,this._dir=R,this._defaultOptions=V,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new St.x,this._scrollStrategy=A,this._document=W,V&&(V.position&&(this.position=V.position),V.touchGestures&&(this.touchGestures=V.touchGestures)),R.change.pipe(Jt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(i=this._tooltipInstance)||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=fi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=uh(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=uh(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Jt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,s])=>{e.removeEventListener(i,s,kx)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new GM(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=i.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var s;if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Jt(this._destroyed)).subscribe(c=>{this._updateCurrentPositionClass(c.connectionPair),this._tooltipInstance&&c.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${xx}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Jt(this._destroyed)).subscribe(()=>{var c;return null==(c=this._tooltipInstance)?void 0:c._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Jt(this._destroyed)).subscribe(c=>{this._isTooltipVisible()&&27===c.keyCode&&!Sg(c)&&(c.preventDefault(),c.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null==(s=this._defaultOptions)?void 0:s.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,s=this._getOrigin(),c=this._getOverlayPosition();i.withPositions([this._addOffset(Fe(Fe({},s.main),c.main)),this._addOffset(Fe(Fe({},s.fallback),c.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i||"below"==i?s={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?s={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(s={originX:"end",originY:"center"});const{x:c,y:d}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:c,originY:d}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let s;"above"==i?s={overlayX:"center",overlayY:"bottom"}:"below"==i?s={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?s={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(s={overlayX:"start",overlayY:"center"});const{x:c,y:d}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:c,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Zi.q)(1),Jt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:s,originY:c}=e;let d;if(d="center"===i?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===i&&"top"===c?"above":"below",d!==this._currentPosition){const g=this._overlayRef;if(g){const v=`${this._cssClassPrefix}-${xx}-`;g.removePanelClass(v+this._currentPosition),g.addPanelClass(v+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var c;const s=i.relatedTarget;(!s||!(null==(c=this._overlayRef)?void 0:c.overlayElement.contains(s)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,s])=>{this._elementRef.nativeElement.addEventListener(i,s,kx)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),s=this._elementRef.nativeElement;i!==s&&!s.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,s=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===e||!i.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),S1=(()=>{class n extends I1{constructor(e,i,s,c,d,g,v,w,A,R,V,W){super(e,i,s,c,d,g,v,w,A,R,V,W),this._tooltipComponent=M1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mg),a.Y36(a.SBq),a.Y36(zM),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(Br),a.Y36(FO),a.Y36(wI),a.Y36(Rx),a.Y36(Av,8),a.Y36(T1,8),a.Y36(J))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[a.qOj]}),n})(),A1=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new St.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,s=this._showAnimation,c=this._hideAnimation;if(i.classList.remove(e?c:s),i.classList.add(e?s:c),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(i);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(oo,8))},n.\u0275dir=a.lG2({type:n}),n})(),M1=(()=>{class n extends A1{constructor(e,i,s){super(e,s),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(_1),a.Y36(oo,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&a.Gf(v1,7),2&e){let s;a.iGM(s=a.CRH())&&(i._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("mouseleave",function(c){return i._handleMouseLeave(c)}),2&e&&a.Udp("zoom",i.isVisible()?1:null)},features:[a.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0,1),a.NdJ("animationend",function(c){return i._handleAnimationEnd(c)}),a.ALo(2,"async"),a._uU(3),a.qZA()),2&e){let s;a.ekj("mat-tooltip-handset",null==(s=a.lcZ(2,4,i._isHandset))?null:s.matches),a.Q6J("ngClass",i.tooltipClass),a.xp6(3),a.Oqu(i.message)}},directives:[si],pipes:[zs],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),x1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[w1],imports:[[QO,Ar,ox,Pi],Pi,U0]}),n})();const k1=["searchSelectInput"],R1=["innerSelectSearch"];function O1(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-checkbox",9),a.NdJ("change",function(s){return a.CHM(e),a.oxw()._emitSelectAllBooleanToParent(s.checked)}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("color",null==e.matFormField?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toogleAllCheckboxTooltipPosition)}}function P1(n,t){1&n&&a._UZ(0,"mat-spinner",10)}function N1(n,t){1&n&&a.Hsn(0,1,["*ngIf","clearIcon; else defaultIcon"])}function F1(n,t){1&n&&(a.TgZ(0,"mat-icon"),a._uU(1,"close"),a.qZA())}function L1(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){return a.CHM(e),a.oxw()._reset(!0)}),a.YNc(1,N1,1,0,"ng-content",12),a.YNc(2,F1,2,0,"ng-template",null,13,a.W1O),a.qZA()}if(2&n){const e=a.MAs(3),i=a.oxw();a.xp6(1),a.Q6J("ngIf",i.clearIcon)("ngIfElse",e)}}function V1(n,t){if(1&n&&(a.TgZ(0,"div",14),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.noEntriesFoundLabel,"\n")}}const B1=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]]],U1=function(n,t){return{"mat-select-search-inner-multiple":n,"mat-select-search-inner-toggle-all":t}},H1=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]"];let j1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxMatSelectSearchClear",""]]}),n})(),z1=(()=>{class n{constructor(e,i,s,c=null,d,g=null){this.matSelect=e,this.changeDetectorRef=i,this._viewportRuler=s,this.matOption=c,this.liveAnnouncer=d,this.matFormField=g,this.placeholderLabel="Suche",this.type="text",this.noEntriesFoundLabel="Keine Optionen gefunden",this.indexAndLengthScreenReaderText=" of ",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toogleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.toggleAll=new a.vpe,this.onTouched=v=>{},this._options$=new Ue(null),this.optionsList$=this._options$.pipe(ui(v=>v?v.changes.pipe((0,Ke.U)(w=>w.toArray()),Jo(v.toArray())):st(null))),this.optionsLength$=this.optionsList$.pipe((0,Ke.U)(v=>v?v.length:0)),this._formControl=new ci(""),this._showNoEntriesFound$=nt([this._formControl.valueChanges,this.optionsLength$]).pipe((0,Ke.U)(([v,w])=>this.noEntriesFoundLabel&&v&&w===this.getOptionsLengthOffset())),this._onDestroy=new St.x}get isInsideMatOption(){return!!this.matOption}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}ngOnInit(){const e="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(e):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,e]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[e]=!0):this.matSelect.panelClass=e,this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(function(n,t=wf.z){const e=HM(1,t);return dx(()=>e)}(),Jt(this._onDestroy)).subscribe(i=>{i?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe((0,Zi.q)(1)).pipe(Jt(this._onDestroy)).subscribe(()=>{this.matSelect._keyManager?this.matSelect._keyManager.change.pipe(Jt(this._onDestroy)).subscribe(()=>this.adjustScrollTopToFitActiveOptionIntoView()):console.log("_keyManager was not initialized."),this._options=this.matSelect.options;let i=this._options.toArray()[this.getOptionsLengthOffset()];this._options.changes.pipe(Jt(this._onDestroy)).subscribe(()=>{setTimeout(()=>{const s=this._options.toArray(),c=s[this.getOptionsLengthOffset()],d=this.matSelect._keyManager;d&&this.matSelect.panelOpen&&((!this.matSelect.compareWith(i,c)||!d.activeItem||!s.find(v=>this.matSelect.compareWith(v,d.activeItem)))&&d.setFirstItemActive(),setTimeout(()=>{this.updateInputWidth()}),this.disableScrollToActiveOnOptionsChanged||this.adjustScrollTopToFitActiveOptionIntoView()),i=c})})}),this._showNoEntriesFound$.pipe(Jt(this._onDestroy)).subscribe(i=>{this.matOption&&(i?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(Jt(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(Jt(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&1===e.key.length||e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||32===e.keyCode||this.preventHomeEndKeyPropagation&&(36===e.keyCode||35===e.keyCode))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&13===e.keyCode&&setTimeout(()=>this._focus()),!0===this.enableClearOnEscapePressed&&27===e.keyCode&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(38===e.keyCode||40===e.keyCode){const i=this.matSelect._getAriaActiveDescendant(),s=this._options.toArray().findIndex(c=>c.id===i);if(-1!==s){const c=this._options.toArray()[s];this.liveAnnouncer.announce(c.viewValue+" "+this.getAriaIndex(s)+this.indexAndLengthScreenReaderText+this.getAriaLength())}}}getAriaIndex(e){return 0===this.getOptionsLengthOffset()?e+1:e}getAriaLength(){return this._options.toArray().length-this.getOptionsLengthOffset()}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe(Nr(i=>i!==this._lastExternalInputValue),(0,Ji.b)(()=>this._lastExternalInputValue=void 0),Jt(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const e=this.matSelect.panel.nativeElement,i=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=i}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges.pipe(Jt(this._onDestroy)).subscribe(e=>{let i=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);const s=this.matSelect.options.map(c=>c.value);this.previousSelectedValues.forEach(c=>{!e.some(d=>this.matSelect.compareWith(d,c))&&!s.some(d=>this.matSelect.compareWith(d,c))&&(e.push(c),i=!0)})}this.previousSelectedValues=e,i&&this.matSelect._onChange(e)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}adjustScrollTopToFitActiveOptionIntoView(){if(this.matSelect.panel&&this.matSelect.options.length>0){const e=this.getMatOptionHeight(),i=this.matSelect._keyManager.activeItemIndex||0,s=xI(i,this.matSelect.options,this.matSelect.optionGroups),c=(this.matOption?-1:0)+s+i,d=this.matSelect.panel.nativeElement.scrollTop,g=this.innerSelectSearch.nativeElement.offsetHeight,v=Math.floor((256-g)/e),w=Math.round((d+g)/e)-1;w>=c?this.matSelect.panel.nativeElement.scrollTop=c*e:w+v<=c&&(this.matSelect.panel.nativeElement.scrollTop=(c+1)*e-(256-g))}}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let i,e=this.innerSelectSearch.nativeElement;for(;e=e.parentElement;)if(e.classList.contains("mat-select-panel")){i=e;break}i&&(this.innerSelectSearch.nativeElement.style.width=i.clientWidth+"px")}getMatOptionHeight(){return this.matSelect.options.length>0?this.matSelect.options.first._getHostElement().getBoundingClientRect().height:0}getOptionsLengthOffset(){return this.matOption?1:0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(FI),a.Y36(a.sBO),a.Y36(Pv),a.Y36(O0,8),a.Y36(gM),a.Y36(RI,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,i,s){if(1&e&&a.Suo(s,j1,5),2&e){let c;a.iGM(c=a.CRH())&&(i.clearIcon=c.first)}},viewQuery:function(e,i){if(1&e&&(a.Gf(k1,7,a.SBq),a.Gf(R1,7,a.SBq)),2&e){let s;a.iGM(s=a.CRH())&&(i.searchSelectInput=s.first),a.iGM(s=a.CRH())&&(i.innerSelectSearch=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-select-search-inside-mat-option",i.isInsideMatOption)},inputs:{placeholderLabel:"placeholderLabel",type:"type",noEntriesFoundLabel:"noEntriesFoundLabel",indexAndLengthScreenReaderText:"indexAndLengthScreenReaderText",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toogleAllCheckboxTooltipPosition:"toogleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti"},outputs:{toggleAll:"toggleAll"},features:[a._Bn([{provide:ai,useExisting:(0,a.Gpc)(()=>n),multi:!0}])],ngContentSelectors:H1,decls:11,vars:14,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],["innerSelectSearch",""],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input","mat-input-element",3,"type","formControl","placeholder","keydown","keyup","blur"],["searchSelectInput",""],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change"],["diameter","16",1,"mat-select-search-spinner"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[1,"mat-select-search-no-entries-found"]],template:function(e,i){1&e&&(a.F$t(B1),a._UZ(0,"input",0),a.TgZ(1,"div",1,2),a.YNc(3,O1,1,5,"mat-checkbox",3),a.TgZ(4,"input",4,5),a.NdJ("keydown",function(c){return i._handleKeydown(c)})("keyup",function(c){return i._handleKeyup(c)})("blur",function(){return i.onBlur()}),a.qZA(),a.YNc(6,P1,1,0,"mat-spinner",6),a.YNc(7,L1,4,2,"button",7),a.Hsn(8),a.qZA(),a.YNc(9,V1,2,1,"div",8),a.ALo(10,"async")),2&e&&(a.xp6(1),a.Q6J("ngClass",a.WLB(11,U1,i.matSelect.multiple,i._isToggleAllCheckboxVisible())),a.xp6(2),a.Q6J("ngIf",i._isToggleAllCheckboxVisible()),a.xp6(1),a.Q6J("type",i.type)("formControl",i._formControl)("placeholder",i.placeholderLabel),a.uIk("aria-label",i.ariaLabel),a.xp6(2),a.Q6J("ngIf",i.searching),a.xp6(1),a.Q6J("ngIf",!i.hideClearSearchButton&&i.value&&!i.searching),a.xp6(2),a.Q6J("ngIf",a.lcZ(10,9,i._showNoEntriesFound$)))},directives:[si,gi,ur,Rr,Vo,px,S1,FF,jF,h1],pipes:[zs],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border-bottom-width:1px;border-bottom-style:solid;z-index:100;font-size:inherit;box-shadow:none;border-radius:4px 4px 0 0;-webkit-transform:translate3d(0,0,0)}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:100%}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{flex-basis:auto}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder{-ms-user-select:text}  .mat-select-search-panel{transform:none!important;overflow-x:hidden}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 44px 16px 16px;box-sizing:border-box;width:100%}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;height:3em;line-height:3em}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{top:3px}  .mat-option[aria-disabled=true].contains-mat-select-search{position:static;padding:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-option-pseudo-checkbox{display:none}  .mat-option[aria-disabled=true].contains-mat-select-search.mat-select-search-no-entries-found{height:6em}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:16px;padding-bottom:2px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"],changeDetection:0}),n})(),$1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ar,ud,zF,SF,f1,NF,x1]]}),n})();const G1=["clienteSelect"];function W1(n,t){if(1&n&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.AsE(" ",e.nombre," - ",e.nombrePerro," ")}}function Z1(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Debe seleccionar un cliente"),a.qZA())}function q1(n,t){1&n&&(a.TgZ(0,"mat-error",25),a._uU(1," Debe completar la fecha "),a.qZA())}function Y1(n,t){1&n&&(a.TgZ(0,"mat-error",25),a._uU(1," Debe completar la hora "),a.qZA())}function K1(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Debe completar el importe "),a.qZA())}function Q1(n,t){1&n&&(a.TgZ(0,"span"),a._uU(1,"Guardar"),a.qZA())}function J1(n,t){1&n&&(a.TgZ(0,"div",26),a.TgZ(1,"span",27),a._uU(2,"Loading..."),a.qZA(),a.qZA())}let X1=(()=>{class n{constructor(e,i,s,c,d,g){this.fb=e,this.router=i,this._location=s,this.turnoService=c,this.clienteService=d,this.toastR=g,this.loading=!1,this.accion="Agregar",this.clientes=[],this.clienteCtrl=new ci("",[wn.required]),this.clienteFilterCtrl=new ci,this.filteredClientes=new _f(1),this._onDestroy=new St.x,this.form=this.fb.group({tipo:["C y B",wn.required],fecha:["",wn.required],hora:["",wn.required],importe:["",wn.required],estado:["Pendiente",wn.required]}),this.form.addControl("cliente",this.clienteCtrl)}ngOnInit(){this.inicializar()}ngAfterViewInit(){this.setInitialValue()}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}inicializar(){this.clienteService.obtenerTodosClientes().subscribe(e=>{this.clientes=[],e.forEach(i=>{const s=Object.assign({id:i.key},i.payload.val());this.clientes.push(s)}),this.filteredClientes.next(this.clientes.slice()),this.clienteFilterCtrl.valueChanges.pipe(Jt(this._onDestroy)).subscribe(()=>{this.filterClientes()}),null!=this.turnoService.turnoSeleccionado&&this.establecerEditarTurno()})}setInitialValue(){this.filteredClientes.pipe((0,Zi.q)(1),Jt(this._onDestroy)).subscribe(()=>{this.clienteSelect.compareWith=(e,i)=>e&&i&&e.id===i.id})}filterClientes(){if(!this.clientes)return;let e=this.clienteFilterCtrl.value;e?(e=e.toLowerCase(),this.filteredClientes.next(this.clientes.filter(i=>i.nombre.toLowerCase().indexOf(e)>-1||i.nombrePerro.toLowerCase().indexOf(e)>-1))):this.filteredClientes.next(this.clientes.slice())}establecerEditarTurno(){var e,i,s,c;this.accion="Editar",this.turnoSeleccionado=this.turnoService.turnoSeleccionado,this.turnoService.turnoSeleccionado=void 0,this.form.patchValue({tipo:null===(e=this.turnoSeleccionado)||void 0===e?void 0:e.tipo,fecha:this.turnoSeleccionado.fecha,hora:null===(i=this.turnoSeleccionado)||void 0===i?void 0:i.hora,importe:null===(s=this.turnoSeleccionado)||void 0===s?void 0:s.importe,estado:null===(c=this.turnoSeleccionado)||void 0===c?void 0:c.estado});const d=this.clientes.filter(g=>g.id==this.turnoSeleccionado.clienteId)[0];this.clienteCtrl.setValue(d)}guardarTurno(){this.form.invalid||(void 0===this.turnoSeleccionado?this.agregarTurno():this.editarTurno())}agregarTurno(){const e=new fF(this.form.value.cliente.id,this.form.value.cliente.nombre,this.form.value.cliente.nombrePerro,this.form.value.tipo,this.form.value.importe,this.form.value.fecha,this.form.value.hora,this.form.value.estado);this.loading=!0,this.turnoService.crearTurno(e).then(()=>{this.loading=!1,this.router.navigateByUrl("/home/turnos")})}editarTurno(){this.turnoSeleccionado.clienteId=this.form.value.cliente.id,this.turnoSeleccionado.clienteNombre=this.form.value.cliente.nombre,this.turnoSeleccionado.clientePerroNombre=this.form.value.cliente.nombrePerro,this.turnoSeleccionado.tipo=this.form.value.tipo,this.turnoSeleccionado.importe=this.form.value.importe,this.turnoSeleccionado.fecha=this.form.value.fecha,this.turnoSeleccionado.hora=this.form.value.hora,this.turnoSeleccionado.estado=this.form.value.estado,this.loading=!0,this.turnoService.editarTurno(this.turnoSeleccionado.id,this.turnoSeleccionado).then(()=>{this.loading=!1,this._location.back()})}volver(){""!=this.form.value.cliente||""!=this.form.value.fecha||""!=this.form.value.hora||""!=this.form.value.importe?confirm("\xbfSeguro desea salir?")&&this._location.back():this.router.navigateByUrl("/home/turnos")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dd),a.Y36(wi),a.Y36(je),a.Y36(C0),a.Y36(pI),a.Y36(w0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-agregar-turno"]],viewQuery:function(e,i){if(1&e&&a.Gf(G1,7),2&e){let s;a.iGM(s=a.CRH())&&(i.clienteSelect=s.first)}},decls:63,vars:19,consts:[[1,"row","mt-3"],[1,"col"],[1,"title"],["novalidate","",1,"mt-3",3,"formGroup","ngSubmit"],[1,"row"],["appearance","fill",1,"w-100"],["placeholder","Cliente","required","",3,"formControl"],["clienteSelect",""],["placeholderLabel","Buscar Cliente","noEntriesFoundLabel","No existe el cliente",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","mt-2"],[1,"col-6","pe-0"],["matInput","","formControlName","fecha","placeholder","Fecha","type","date"],["class","label-error",4,"ngIf"],[1,"col-6"],["matInput","","formControlName","hora","placeholder","Fecha","type","time"],["matInput","","formControlName","importe","placeholder","Importe","type","number"],["formControlName","tipo"],[3,"value"],["formControlName","estado"],[1,"d-grid","gap-2","py-2"],["type","submit",1,"btn","btn-danger","btn-accept","fw-bold","d-flex","justify-content-center","align-items-center",3,"disabled"],["class","spinner-border text-light","role","status",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-secondary","fw-bold",3,"click"],[1,"label-error"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h2",2),a._uU(3),a.qZA(),a.TgZ(4,"form",3),a.NdJ("ngSubmit",function(){return i.guardarTurno()}),a.TgZ(5,"div",4),a.TgZ(6,"div",1),a.TgZ(7,"mat-form-field",5),a.TgZ(8,"mat-select",6,7),a.TgZ(10,"mat-option"),a._UZ(11,"ngx-mat-select-search",8),a.qZA(),a.YNc(12,W1,2,3,"mat-option",9),a.ALo(13,"async"),a.qZA(),a.YNc(14,Z1,2,0,"mat-error",10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"div",11),a.TgZ(16,"div",12),a.TgZ(17,"mat-form-field",5),a.TgZ(18,"mat-label"),a._uU(19,"Fecha"),a.qZA(),a._UZ(20,"input",13),a.YNc(21,q1,2,0,"mat-error",14),a.qZA(),a.qZA(),a.TgZ(22,"div",15),a.TgZ(23,"mat-form-field",5),a.TgZ(24,"mat-label"),a._uU(25,"Hora"),a.qZA(),a._UZ(26,"input",16),a.YNc(27,Y1,2,0,"mat-error",14),a.qZA(),a.qZA(),a.qZA(),a.TgZ(28,"div",11),a.TgZ(29,"div",1),a.TgZ(30,"mat-form-field",5),a.TgZ(31,"mat-label"),a._uU(32,"Importe"),a.qZA(),a._UZ(33,"input",17),a.YNc(34,K1,2,0,"mat-error",10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(35,"div",11),a.TgZ(36,"div",15),a.TgZ(37,"mat-form-field",5),a.TgZ(38,"mat-label"),a._uU(39,"Tipo"),a.qZA(),a.TgZ(40,"mat-select",18),a.TgZ(41,"mat-option",19),a._uU(42,"C y B"),a.qZA(),a.TgZ(43,"mat-option",19),a._uU(44,"B"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(45,"div",15),a.TgZ(46,"mat-form-field",5),a.TgZ(47,"mat-label"),a._uU(48,"Estado"),a.qZA(),a.TgZ(49,"mat-select",20),a.TgZ(50,"mat-option",19),a._uU(51,"Pendiente"),a.qZA(),a.TgZ(52,"mat-option",19),a._uU(53,"Hecho"),a.qZA(),a.TgZ(54,"mat-option",19),a._uU(55,"Cancelado"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(56,"div",21),a.TgZ(57,"button",22),a.YNc(58,Q1,2,0,"span",10),a.YNc(59,J1,3,0,"div",23),a.qZA(),a.qZA(),a.TgZ(60,"div",21),a.TgZ(61,"button",24),a.NdJ("click",function(){return i.volver()}),a._uU(62,"Volver"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){let s,c,d;a.xp6(3),a.hij("",i.accion," Turno"),a.xp6(1),a.Q6J("formGroup",i.form),a.xp6(4),a.Q6J("formControl",i.clienteCtrl),a.xp6(3),a.Q6J("formControl",i.clienteFilterCtrl),a.xp6(1),a.Q6J("ngForOf",a.lcZ(13,17,i.filteredClientes)),a.xp6(2),a.Q6J("ngIf",i.clienteCtrl.invalid),a.xp6(7),a.Q6J("ngIf",null==(s=i.form.get("fecha"))?null:s.invalid),a.xp6(6),a.Q6J("ngIf",null==(c=i.form.get("hora"))?null:c.invalid),a.xp6(7),a.Q6J("ngIf",null==(d=i.form.get("importe"))?null:d.invalid),a.xp6(7),a.Q6J("value","C y B"),a.xp6(2),a.Q6J("value","B"),a.xp6(7),a.Q6J("value","Pendiente"),a.xp6(2),a.Q6J("value","Hecho"),a.xp6(2),a.Q6J("value","Cancelado"),a.xp6(3),a.Q6J("disabled",i.loading),a.xp6(1),a.Q6J("ngIf",!i.loading),a.xp6(1),a.Q6J("ngIf",i.loading)}},directives:[kc,Dl,Oa,RI,FI,Nl,Rr,Vo,O0,z1,gs,gi,F0,LM,ur,Pa,Rl,RM],pipes:[zs],styles:[".title[_ngcontent-%COMP%]{text-align:center;font-weight:bold;color:var(--bs-gray-800);font-size:1.3rem}.spinner-border[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}.label-error[_ngcontent-%COMP%]{font-size:.7rem}"]}),n})(),eL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-menu"]],decls:7,vars:0,consts:[[1,"row","mt-2","p-3"],[1,"col-6"],["routerLink","/home/clientes",1,"link","bg-blue"],["routerLink","/home/turnos",1,"link","bg-orange"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3," Clientes "),a.qZA(),a.qZA(),a.TgZ(4,"div",1),a.TgZ(5,"div",3),a._uU(6," Turnos "),a.qZA(),a.qZA(),a.qZA())},directives:[lp],styles:[".link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100px;padding:1rem;font-weight:bold;color:#fff;border-radius:30px}"]}),n})(),UI=(()=>{class n{static sonIguales(e,i){return e.getDate()==i.getDate()&&e.getMonth()+1==i.getMonth()+1&&e.getFullYear()==i.getFullYear()}static formatearFechaAAAAMMDDConBarra(e){let i=e.getDate().toString();i.length<2&&(i="0"+i);let s=(e.getMonth()+1).toString();return s.length<2&&(s="0"+s),e.getFullYear()+"-"+s+"-"+i}static formatearFechaDiaDDMM(e){let i=new Date(e.split("-").join("/"));return this.dias[i.getDay()]+" "+i.getDate()+"/"+(i.getMonth()+1)}}return n.dias=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],n})();function tL(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",7),a.NdJ("click",function(){const c=a.CHM(e).$implicit;return a.oxw(2).editarTurno(c)}),a.TgZ(1,"div",1),a.TgZ(2,"div",8),a._uU(3),a.qZA(),a.TgZ(4,"div",9),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"div",10),a.TgZ(7,"div",11),a._uU(8),a.qZA(),a.TgZ(9,"div",12),a._uU(10),a.qZA(),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit;a.xp6(3),a.Oqu(e.clienteNombre),a.xp6(2),a.hij("",e.hora,"hs"),a.xp6(3),a.Oqu(e.clientePerroNombre),a.xp6(2),a.AsE("",e.tipo," - $",e.importe,"")}}function nL(n,t){if(1&n&&(a.ynx(0),a.TgZ(1,"h1",5),a._uU(2),a.qZA(),a.YNc(3,tL,11,5,"div",6),a.BQk()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(2),a.Oqu(i.DateUtils.formatearFechaDiaDDMM(e)),a.xp6(1),a.Q6J("ngForOf",i.turnosPorFecha[e].turnos)}}let iL=(()=>{class n{constructor(e,i){this.turnoService=e,this.router=i,this.turnos=[],this.turnosPorFecha={},this.Object=Object,this.DateUtils=UI,this.fechas=[],this.armarFechas(),this.prepararMonitoreo()}ngOnDestroy(){var e;null===(e=this.turnosPendientesProximos5Dias)||void 0===e||e.unsubscribe()}editarTurno(e){this.turnoService.turnoSeleccionado=e,this.router.navigateByUrl("/home/agregarturno")}armarFechas(){let e=new Date;this.fechas.push(UI.formatearFechaAAAAMMDDConBarra(e));for(let i=0;i<4;i++)e.setDate(e.getDate()+1),this.fechas.push(UI.formatearFechaAAAAMMDDConBarra(e))}prepararMonitoreo(){this.turnosPendientesProximos5Dias=this.turnoService.obtenerTurnos("Pendiente").subscribe(e=>{this.turnos=[],this.turnosPorFecha={},e.forEach(i=>{let s=Object.assign({id:i.key},i.payload.val());this.fechas.indexOf(s.fecha)>-1&&this.turnos.push(s)}),this.turnos.sort(function(i,s){let c=new Date(i.fecha.split("-").join("/")),d=new Date(s.fecha.split("-").join("/"));return c<d?-1:c>d?1:0}),this.turnos.forEach(i=>{this.turnosPorFecha.hasOwnProperty(i.fecha)||(this.turnosPorFecha[i.fecha]={turnos:[]}),this.turnosPorFecha[i.fecha].turnos.push(i)})})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(C0),a.Y36(wi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-monitoreo-turnos"]],decls:7,vars:1,consts:[[1,"container-fluid","p-0"],[1,"row"],[1,"col","my-2","section-title"],[1,"col"],[4,"ngFor","ngForOf"],[1,"fecha"],["class","card-turno mt-2",3,"click",4,"ngFor","ngForOf"],[1,"card-turno","mt-2",3,"click"],[1,"col-7","fw-bold"],[1,"col","text-end","fw-bold"],[1,"row","mt-2"],[1,"col-7","card-turno-perro-nombre"],[1,"col","text-end"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3," Proximos Turnos "),a.qZA(),a.qZA(),a.TgZ(4,"div",1),a.TgZ(5,"div",3),a.YNc(6,nL,4,2,"ng-container",4),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(6),a.Q6J("ngForOf",i.Object.keys(i.turnosPorFecha)))},directives:[gs],styles:[".fecha[_ngcontent-%COMP%]{text-align:center;font-weight:bold;font-size:1.2rem;color:var(--bs-gray-700);margin-top:1rem}.card-turno[_ngcontent-%COMP%]{border-bottom:1px solid var(--bs-gray-500);padding:1rem}.card-turno-perro-nombre[_ngcontent-%COMP%]{font-size:1.1rem}"]}),n})(),rL=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){}logout(){this.auth.signOut()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Xc))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(e,i){1&e&&(a._UZ(0,"app-menu"),a._UZ(1,"app-monitoreo-turnos"))},directives:[eL,iL],styles:[""]}),n})(),sL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"container-fluid"],["routerLink","/home",1,"row"],[1,"col","text-center","content-title","p-2"],[1,"title"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h1",3),a._uU(4," Peluqueria Jacky "),a.qZA(),a.qZA(),a.qZA(),a._UZ(5,"router-outlet"),a.qZA())},directives:[lp,f0],styles:[".content-title[_ngcontent-%COMP%]{background-color:var(--bs-gray-900)}.title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:bold;color:#fff;margin:0}"]}),n})();function oL(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",11),a.TgZ(1,"div",12),a.TgZ(2,"div",4),a.TgZ(3,"div",13),a._uU(4),a.TgZ(5,"a",14),a._uU(6),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"div",15),a.NdJ("click",function(){const c=a.CHM(e).$implicit;return a.oxw().editarCliente(c)}),a.TgZ(8,"div",4),a.TgZ(9,"div",16),a._uU(10),a.qZA(),a.qZA(),a.TgZ(11,"div",17),a.TgZ(12,"div",18),a.TgZ(13,"span",19),a._uU(14),a.qZA(),a.TgZ(15,"span",20),a._uU(16),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit;a.xp6(4),a.hij(" ",e.nombre," - "),a.xp6(1),a.Q6J("href","tel:"+e.telefono,a.LSH),a.xp6(1),a.Oqu(e.telefono),a.xp6(4),a.Oqu(e.nombrePerro),a.xp6(4),a.Oqu(e.razaPerro),a.xp6(2),a.Oqu(e.tamanioPerro)}}let aL=(()=>{class n{constructor(e,i){this.clienteService=e,this.router=i,this.clientes=[],this.clientesFiltrados=new _f(1),this.barraBusqueda=new ci,this.obtenerTodosLosClientes()}ngOnInit(){this.barraBusqueda.valueChanges.subscribe(e=>{this.filtrarClientes()})}ngOnDestroy(){var e;null===(e=this.clientesSubscription)||void 0===e||e.unsubscribe()}obtenerTodosLosClientes(){this.clientesSubscription=this.clienteService.obtenerTodosClientes().subscribe(e=>{this.clientes=[],e.forEach(i=>{const s=Object.assign({id:i.key},i.payload.val());s.fechaCreacion=new Date(s.fechaCreacion),this.clientes.push(s)}),this.clientesFiltrados.next(this.clientes.slice())})}editarCliente(e){this.clienteService.clienteSeleccionado=e,this.router.navigateByUrl("/home/agregarcliente")}filtrarClientes(){if(!this.clientes)return;let e=this.barraBusqueda.value;e?(e=e.toLowerCase(),this.clientesFiltrados.next(this.clientes.filter(i=>i.nombre.toLowerCase().indexOf(e)>-1||i.nombrePerro.toLowerCase().indexOf(e)>-1))):this.clientesFiltrados.next(this.clientes.slice())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(pI),a.Y36(wi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-listar-clientes"]],decls:15,vars:4,consts:[[1,"container-fluid","p-0"],[1,"row","px-2"],[1,"d-grid","gap-2","pt-3","pb-2"],["type","button","routerLink","/home/agregarcliente",1,"btn","btn-danger","btn-accept","fw-bold"],[1,"row"],[1,"col","my-2","section-title"],[1,"col","d-flex"],["type","text","placeholder","Buscar Cliente o Perro",1,"form-control","border-bold",3,"formControl"],[1,"row","px-2","py-2"],[1,"col"],["class","card-cliente",4,"ngFor","ngForOf"],[1,"card-cliente"],[1,"card-cliente-title"],[1,"col","fw-bold"],[1,"card-cliente-tel",3,"href"],[1,"card-cliente-content",3,"click"],[1,"col","fw-bold","card-text-color"],[1,"row","mt-2"],[1,"col","text-center"],[1,"badge","rounded-pill","card-raza","me-2"],[1,"badge","rounded-pill","card-tama\xf1o"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"button",3),a._uU(4,"Agregar Cliente"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a._uU(7," Listado de Clientes "),a.qZA(),a.qZA(),a.TgZ(8,"div",4),a.TgZ(9,"div",6),a._UZ(10,"input",7),a.qZA(),a.qZA(),a.TgZ(11,"div",8),a.TgZ(12,"div",9),a.YNc(13,oL,17,6,"div",10),a.ALo(14,"async"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.Q6J("formControl",i.barraBusqueda),a.xp6(3),a.Q6J("ngForOf",a.lcZ(14,2,i.clientesFiltrados)))},directives:[lp,ur,Rr,Vo,gs],pipes:[zs],styles:[".card-cliente[_ngcontent-%COMP%]{margin:.5rem .5rem 1.5rem;border-radius:20px;box-shadow:1px 0 13px 3px #e0e0e0;overflow:hidden}.card-cliente-title[_ngcontent-%COMP%]{background-color:#0984e3;color:#fff;text-align:center;padding:.5rem}.card-cliente-tel[_ngcontent-%COMP%]{color:#fff}.card-cliente-content[_ngcontent-%COMP%]{padding:.7rem}.card-text-color[_ngcontent-%COMP%]{color:var(--bs-gray-800)}.card-tama\\f1o[_ngcontent-%COMP%]{background-color:#0fb9b1;color:#fff;font-size:.9rem}.card-raza[_ngcontent-%COMP%]{background-color:#2d98da;color:#fff;font-size:.9rem}.border-bold[_ngcontent-%COMP%]{border:2px solid var(--bs-gray-600)}"]}),n})();function lL(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",16),a.NdJ("click",function(){const c=a.CHM(e).$implicit;return a.oxw().editarTurno(c)}),a.TgZ(1,"h3",17),a._uU(2),a.qZA(),a.TgZ(3,"div",4),a.TgZ(4,"div",18),a._uU(5),a.qZA(),a.TgZ(6,"div",19),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"div",8),a.TgZ(9,"div",20),a._uU(10),a.qZA(),a.TgZ(11,"div",21),a._uU(12),a.qZA(),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.fecha),a.xp6(3),a.Oqu(e.clienteNombre),a.xp6(2),a.hij("",e.hora,"hs"),a.xp6(3),a.Oqu(e.clientePerroNombre),a.xp6(2),a.AsE("",e.tipo," - $",e.importe,"")}}let cL=(()=>{class n{constructor(e,i){this.turnoService=e,this.router=i,this.turnos=[],this.turnosFiltrados=new _f(1),this.estado=new ci("Pendiente"),this.barraBusqueda=new ci,this.obtenerTurnos("Pendiente")}ngOnInit(){this.estado.valueChanges.subscribe(e=>{this.obtenerTurnos(e)}),this.barraBusqueda.valueChanges.subscribe(e=>{this.filtrarTurnos()})}ngOnDestroy(){var e;null===(e=this.turnosSubscription)||void 0===e||e.unsubscribe()}obtenerTurnos(e){this.turnosSubscription=this.turnoService.obtenerTurnos(e).subscribe(i=>{this.turnos=[],i.forEach(s=>{let c=Object.assign({id:s.key},s.payload.val());this.turnos.push(c)}),this.turnos.sort(function(s,c){let d=new Date(s.fecha),g=new Date(c.fecha);return d<g?-1:d>g?1:0}),this.turnosFiltrados.next(this.turnos.slice())})}editarTurno(e){this.turnoService.turnoSeleccionado=e,this.router.navigateByUrl("/home/agregarturno")}filtrarTurnos(){if(!this.turnos)return;let e=this.barraBusqueda.value;e?(e=e.toLowerCase(),this.turnosFiltrados.next(this.turnos.filter(i=>i.clienteNombre.toLowerCase().indexOf(e)>-1||i.clientePerroNombre.toLowerCase().indexOf(e)>-1))):this.turnosFiltrados.next(this.turnos.slice())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(C0),a.Y36(wi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-listar-turnos"]],decls:24,vars:5,consts:[[1,"container-fluid","p-0"],[1,"row","px-2"],[1,"d-grid","gap-2","pt-3","pb-2"],["type","button","routerLink","/home/agregarturno",1,"btn","btn-danger","btn-accept","fw-bold"],[1,"row"],[1,"col","my-2","section-title"],[1,"col","d-flex"],["type","text","placeholder","Buscar Cliente o Perro",1,"form-control","border-bold",3,"formControl"],[1,"row","mt-2"],[1,"col"],["id","floatingSelectEstado","aria-label","Estado",1,"form-select","border-bold",3,"formControl"],["selected","","value","Pendiente"],["value","Hecho"],["value","Cancelado"],[1,"row","px-2","py-3"],["class","card-turno",3,"click",4,"ngFor","ngForOf"],[1,"card-turno",3,"click"],[1,"card-titulo"],[1,"col-7","fw-bold"],[1,"col","text-end","fw-bold"],[1,"col-7","card-turno-perro-nombre"],[1,"col","text-end"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"button",3),a._uU(4,"Agregar Turno"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a._uU(7," Listado de turnos "),a.qZA(),a.qZA(),a.TgZ(8,"div",4),a.TgZ(9,"div",6),a._UZ(10,"input",7),a.qZA(),a.qZA(),a.TgZ(11,"div",8),a.TgZ(12,"div",9),a.TgZ(13,"select",10),a.TgZ(14,"option",11),a._uU(15,"Pendiente"),a.qZA(),a.TgZ(16,"option",12),a._uU(17,"Hecho"),a.qZA(),a.TgZ(18,"option",13),a._uU(19,"Cancelado"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"div",14),a.TgZ(21,"div",9),a.YNc(22,lL,13,6,"div",15),a.ALo(23,"async"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.Q6J("formControl",i.barraBusqueda),a.xp6(3),a.Q6J("formControl",i.estado),a.xp6(9),a.Q6J("ngForOf",a.lcZ(23,3,i.turnosFiltrados)))},directives:[lp,ur,Rr,Vo,ld,Rp,Fh,gs],pipes:[zs],styles:[".card-turno[_ngcontent-%COMP%]{border-bottom:1px solid var(--bs-gray-500);padding:1rem}.card-titulo[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem}.card-turno-perro-nombre[_ngcontent-%COMP%]{font-size:1.1rem}.border-bold[_ngcontent-%COMP%]{border:2px solid var(--bs-gray-600)}"]}),n})(),uL=(()=>{class n{constructor(e,i){this.fireAuth=e,this.router=i}ngOnInit(){this.fireAuth.user.subscribe(e=>{e&&this.router.navigateByUrl("/home")})}login(){this.fireAuth.signInWithRedirect(new Lb.Z.auth.GoogleAuthProvider)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Xc),a.Y36(wi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:11,vars:0,consts:[[1,"container-fluid","h-100"],[1,"d-flex","justify-content-center","align-items-center","flex-column","h-100"],[1,"row"],[1,"col"],[1,"title"],[1,"d-grid","gap-2","pt-3","pb-2"],["type","button",1,"btn","btn-danger","btn-accept",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"h2",4),a._uU(5,"Iniciar Sesion"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",2),a.TgZ(7,"div",3),a.TgZ(8,"div",5),a.TgZ(9,"button",6),a.NdJ("click",function(){return i.login()}),a._uU(10,"Iniciar Con Google"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".title[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--bs-gray-800)}"]}),n})();var Px=O(7979);const HI=(0,Ke.U)(n=>!!n);let jI=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(s,c)=>{const d=s.data.authGuardPipe||(()=>HI);return this.auth.user.pipe((0,Zi.q)(1),d(s,c),(0,Ke.U)(g=>"boolean"==typeof g?g:Array.isArray(g)?this.router.createUrlTree(g):this.router.parseUrl(g)))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(wi),a.LFG(Xc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const pL=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:uL,canActivate:[jI],data:{authGuardPipe:()=>(n=>(0,Px.z)(HI,(0,Ke.U)(t=>t&&n||!0)))(["home"])}},{path:"home",component:sL,canActivate:[jI],data:{authGuardPipe:()=>(n=>(0,Px.z)(HI,(0,Ke.U)(t=>t||n)))(["login"])},children:[{path:"",component:rL},{path:"clientes",component:aL},{path:"agregarcliente",component:hF},{path:"turnos",component:cL},{path:"agregarturno",component:X1}]},{path:"**",redirectTo:"/login",pathMatch:"full"}];let mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[zA.forRoot(pL,{useHash:!0})],zA]}),n})();const Nx_firebase={apiKey:"AIzaSyBH68PkbM-NTqvSzYuNzVU0kyTkQaORuxc",authDomain:"peluqueriajacky-c0072.firebaseapp.com",projectId:"peluqueriajacky-c0072",storageBucket:"peluqueriajacky-c0072.appspot.com",messagingSenderId:"324816034918",appId:"1:324816034918:web:3b5f5812758238b0c4a1a7"};let gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[QR]}),n.\u0275inj=a.cJS({providers:[],imports:[[wo,mL,ud,as.hO.initializeApp(Nx_firebase),Ve,vm,pb,$1,sF,L0,iN,CO.forRoot()]]}),n})();(0,a.G48)(),Eo().bootstrapModule(gL).catch(n=>console.error(n))},9162:($e,fe,O)=>{"use strict";function oe(ne,le,ge,Ce){return new(ge||(ge=Promise))(function(ue,yt){function Lt(Et){try{pt(Ce.next(Et))}catch(gt){yt(gt)}}function zn(Et){try{pt(Ce.throw(Et))}catch(gt){yt(gt)}}function pt(Et){Et.done?ue(Et.value):function(ue){return ue instanceof ge?ue:new ge(function(yt){yt(ue)})}(Et.value).then(Lt,zn)}pt((Ce=Ce.apply(ne,le||[])).next())})}function de(ne){return this instanceof de?(this.v=ne,this):new de(ne)}function Z(ne,le,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ce=ge.apply(ne,le||[]),ue=[];return Re={},yt("next"),yt("throw"),yt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function yt(Ht){Ce[Ht]&&(Re[Ht]=function($n){return new Promise(function(Ni,$t){ue.push([Ht,$n,Ni,$t])>1||Lt(Ht,$n)})})}function Lt(Ht,$n){try{!function(Ht){Ht.value instanceof de?Promise.resolve(Ht.value.v).then(pt,Et):gt(ue[0][2],Ht)}(Ce[Ht]($n))}catch(Ni){gt(ue[0][3],Ni)}}function pt(Ht){Lt("next",Ht)}function Et(Ht){Lt("throw",Ht)}function gt(Ht,$n){Ht($n),ue.shift(),ue.length&&Lt(ue[0][0],ue[0][1])}}function Se(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,le=ne[Symbol.asyncIterator];return le?le.call(ne):(ne=function(ne){var le="function"==typeof Symbol&&Symbol.iterator,ge=le&&ne[le],Ce=0;if(ge)return ge.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ce>=ne.length&&(ne=void 0),{value:ne&&ne[Ce++],done:!ne}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),ge={},Ce("next"),Ce("throw"),Ce("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Ce(ue){ge[ue]=ne[ue]&&function(yt){return new Promise(function(Lt,zn){!function(ue,yt,Lt,zn){Promise.resolve(zn).then(function(pt){ue({value:pt,done:Lt})},yt)}(Lt,zn,(yt=ne[ue](yt)).done,yt.value)})}}}O.d(fe,{mG:()=>oe,qq:()=>de,FC:()=>Z,KL:()=>Se})},3668:($e,fe,O)=>{"use strict";O.d(fe,{deG:()=>wl,tb:()=>dg,AFp:()=>kE,ip1:()=>ep,CZH:()=>ah,hGG:()=>zD,z2F:()=>nl,sBO:()=>ED,Sil:()=>ec,_Vd:()=>Ls,EJc:()=>tl,SBq:()=>Qd,qLn:()=>Fl,vpe:()=>Qo,tBr:()=>pn,XFs:()=>ot,OlP:()=>an,zs3:()=>Fr,ZZ4:()=>fv,aQg:()=>yg,soG:()=>el,YKP:()=>tE,h0i:()=>_u,PXZ:()=>SS,R0b:()=>Cr,FiY:()=>xi,Lbi:()=>PE,g9A:()=>OE,n_E:()=>uo,Qsj:()=>BT,FYo:()=>KC,JOm:()=>ns,q3G:()=>Nn,tp0:()=>pr,Rgc:()=>eh,dDg:()=>sv,q4F:()=>xy,GfV:()=>QC,s_b:()=>Km,ifc:()=>qe,eFA:()=>HE,G48:()=>fo,Gpc:()=>j,f3M:()=>We,X6Q:()=>GE,_c5:()=>UD,VLi:()=>tc,c2e:()=>NE,zSh:()=>F,wAp:()=>ut,vHH:()=>ke,EiD:()=>Hg,mCW:()=>Na,qzn:()=>Ol,JVY:()=>Nh,pB0:()=>xp,eBb:()=>Pa,L6k:()=>Fg,LAX:()=>Lg,cg1:()=>hy,kL8:()=>fy,yhl:()=>ad,dqk:()=>ct,sIi:()=>Cf,CqO:()=>Df,QGY:()=>ki,F4k:()=>Zb,RDi:()=>yh,AaK:()=>oe,z3N:()=>mr,qOj:()=>M_,TTD:()=>vs,_Bn:()=>Fs,xp6:()=>eb,uIk:()=>gm,Tol:()=>sC,Gre:()=>pC,ekj:()=>ty,Suo:()=>tg,Xpm:()=>Je,lG2:()=>Hs,Yz7:()=>$t,cJS:()=>vn,oAB:()=>ta,Yjl:()=>lc,Y36:()=>Fd,_UZ:()=>Wl,BQk:()=>tu,ynx:()=>ei,qZA:()=>eu,TgZ:()=>wm,EpF:()=>ao,n5z:()=>Aa,Ikx:()=>uy,LFG:()=>X,$8M:()=>Mo,$Z:()=>$l,NdJ:()=>W_,CRH:()=>ng,kcU:()=>$u,O4$:()=>To,oxw:()=>Tm,ALo:()=>aE,lcZ:()=>zf,Hsn:()=>Z_,F$t:()=>hi,Q6J:()=>Tf,VKq:()=>Ny,WLB:()=>iE,iGM:()=>Wf,MAs:()=>ym,CHM:()=>zr,oJD:()=>ud,LSH:()=>dd,Udp:()=>Mf,d8E:()=>dy,YNc:()=>L_,W1O:()=>_E,_uU:()=>Ud,Oqu:()=>ou,hij:()=>Hd,AsE:()=>sy,Gf:()=>Zf});var a=O(273),Q=O(7908),P=O(8410),se=O(3719),re=O(3174);function he(r){for(let o in r)if(r[o]===he)return o;throw Error("Could not find renamed property on target object.")}function J(r,o){for(const l in o)o.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=o[l])}function oe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(oe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ae(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const H=he({__forward_ref__:he});function j(r){return r.__forward_ref__=j,r.toString=function(){return oe(this())},r}function Y(r){return Pe(r)?r():r}function Pe(r){return"function"==typeof r&&r.hasOwnProperty(H)&&r.__forward_ref__===j}class ke extends Error{constructor(o,l){super(function(r,o){return`${r?`NG0${r}: `:""}${o}`}(o,l)),this.code=o}}function Z(r){return"string"==typeof r?r:null==r?"":String(r)}function ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Z(r)}function Ae(r,o){const l=o?` in ${o}`:"";throw new ke("201",`No provider for ${ce(r)} found${l}`)}function Et(r,o){null==r&&function(r,o,l,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,r,null,"!=")}function $t(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function vn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Fi(r){return jt(r,Dr)||jt(r,Vn)}function jt(r,o){return r.hasOwnProperty(o)?r[o]:null}function tr(r){return r&&(r.hasOwnProperty(Te)||r.hasOwnProperty(Bn))?r[Te]:null}const Dr=he({\u0275prov:he}),Te=he({\u0275inj:he}),Vn=he({ngInjectableDef:he}),Bn=he({ngInjectorDef:he});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let xt;function mi(r){const o=xt;return xt=r,o}function Un(r,o,l){const u=Fi(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&ot.Optional?null:void 0!==o?o:void Ae(oe(r),"Injector")}function bn(r){return{toString:r}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),qe=(()=>{return(r=qe||(qe={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",qe;var r})();const at="undefined"!=typeof globalThis&&globalThis,Us="undefined"!=typeof window&&window,Ir="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ct=at||"undefined"!=typeof global&&global||Us||Ir,$={},U=[],G=he({\u0275cmp:he}),_e=he({\u0275dir:he}),te=he({\u0275pipe:he}),Ge=he({\u0275mod:he}),ye=he({\u0275fac:he}),pe=he({__NG_ELEMENT_ID__:he});let Be=0;function Je(r){return bn(()=>{const l={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||U,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||qe.Emulated,id:"c",styles:r.styles||U,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.directives,m=r.features,y=r.pipes;return u.id+=Be++,u.inputs=rl(r.inputs,l),u.outputs=rl(r.outputs),m&&m.forEach(C=>C(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(rt):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Yt):null,u})}function rt(r){return tn(r)||function(r){return r[_e]||null}(r)}function Yt(r){return function(r){return r[te]||null}(r)}const Wn={};function ta(r){return bn(()=>{const o={type:r.type,bootstrap:r.bootstrap||U,declarations:r.declarations||U,imports:r.imports||U,exports:r.exports||U,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Wn[r.id]=r.type),o})}function rl(r,o){if(null==r)return $;const l={};for(const u in r)if(r.hasOwnProperty(u)){let h=r[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=u,o&&(o[h]=m)}return l}const Hs=Je;function lc(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function tn(r){return r[G]||null}function Zn(r,o){const l=r[Ge]||null;if(!l&&!0===o)throw new Error(`Type ${oe(r)} does not have '\u0275mod' property.`);return l}function Ai(r){return Array.isArray(r)&&"object"==typeof r[1]}function or(r){return Array.isArray(r)&&!0===r[1]}function Pn(r){return 0!=(8&r.flags)}function Ur(r){return 2==(2&r.flags)}function cc(r){return 1==(1&r.flags)}function Ui(r){return null!==r.template}function ph(r){return 0!=(512&r[2])}function Sr(r,o){return r.hasOwnProperty(ye)?r[ye]:null}class hc{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function vs(){return bo}function bo(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ar),bs}function bs(){const r=qn(this),o=null==r?void 0:r.current;if(o){const l=r.previous;if(l===$)r.previous=o;else for(let u in o)l[u]=o[u];r.current=null,this.ngOnChanges(o)}}function Ar(r,o,l,u){const h=qn(r)||function(r,o){return r[Bu]=o}(r,{previous:$,current:null}),m=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[l],E=y[C];m[C]=new hc(E&&E.currentValue,o,y===$),r[u]=o}vs.ngInherit=!0;const Bu="__ngSimpleChanges__";function qn(r){return r[Bu]||null}const Uu="http://www.w3.org/2000/svg";let ll;function yh(r){ll=r}function ua(){return void 0!==ll?ll:"undefined"!=typeof document?document:void 0}function Zt(r){return!!r.listen}const mc={createRenderer:(r,o)=>ua()};function An(r){for(;Array.isArray(r);)r=r[0];return r}function lr(r,o){return An(o[r])}function Mn(r,o){return An(o[r.index])}function Zs(r,o){return r.data[o]}function qs(r,o){return r[o]}function zt(r,o){const l=o[r];return Ai(l)?l:l[0]}function jr(r){return 4==(4&r[2])}function da(r){return 128==(128&r[2])}function vi(r,o){return null==o?null:r[o]}function ha(r){r[18]=0}function Cs(r,o){r[5]+=o;let l=r,u=r[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const Ye={lFrame:yc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dl(){return Ye.bindingsEnabled}function Ee(){return Ye.lFrame.lView}function At(){return Ye.lFrame.tView}function zr(r){return Ye.lFrame.contextLView=r,r[8]}function dn(){let r=ma();for(;null!==r&&64===r.type;)r=r.parent;return r}function ma(){return Ye.lFrame.currentTNode}function Yn(r,o){const l=Ye.lFrame;l.currentTNode=r,l.isParent=o}function fl(){return Ye.lFrame.isParent}function Ks(){Ye.lFrame.isParent=!1}function ga(){return Ye.isInCheckNoChangesMode}function Qs(r){Ye.isInCheckNoChangesMode=r}function Hn(){const r=Ye.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function Es(){return Ye.lFrame.bindingIndex++}function Mr(r){const o=Ye.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,l}function ba(r,o){const l=Ye.lFrame;l.bindingIndex=l.bindingRootIndex=r,Ca(o)}function Ca(r){Ye.lFrame.currentDirectiveIndex=r}function Eo(r){const o=Ye.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}function ml(){return Ye.lFrame.currentQueryIndex}function wo(r){Ye.lFrame.currentQueryIndex=r}function ju(r){const o=r[1];return 2===o.type?o.declTNode:1===o.type?r[6]:null}function gl(r,o,l){if(l&ot.SkipSelf){let h=o,m=r;for(;!(h=h.parent,null!==h||l&ot.Host||(h=ju(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,r=m}const u=Ye.lFrame=Ea();return u.currentTNode=o,u.lView=r,!0}function _l(r){const o=Ea(),l=r[1];Ye.lFrame=o,o.currentTNode=l.firstChild,o.lView=r,o.tView=l,o.contextLView=r,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Ea(){const r=Ye.lFrame,o=null===r?null:r.child;return null===o?yc(r):o}function yc(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function wa(){const r=Ye.lFrame;return Ye.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const zu=wa;function Ta(){const r=wa();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function nn(){return Ye.lFrame.selectedIndex}function ws(r){Ye.lFrame.selectedIndex=r}function hn(){const r=Ye.lFrame;return Zs(r.tView,r.selectedIndex)}function To(){Ye.lFrame.currentNamespace=Uu}function $u(){Ye.lFrame.currentNamespace=null}function Ts(r,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const m=r.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:x}=m;y&&(r.contentHooks||(r.contentHooks=[])).push(-l,y),C&&((r.contentHooks||(r.contentHooks=[])).push(l,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(l,C)),E&&(r.viewHooks||(r.viewHooks=[])).push(-l,E),S&&((r.viewHooks||(r.viewHooks=[])).push(l,S),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(l,S)),null!=x&&(r.destroyHooks||(r.destroyHooks=[])).push(l,x)}}function yl(r,o,l){bc(r,o,3,l)}function Da(r,o,l,u){(3&r[2])===l&&bc(r,o,l,u)}function Wu(r,o){let l=r[2];(3&l)===o&&(l&=2047,l+=1,r[2]=l)}function bc(r,o,l,u){const m=null!=u?u:-1,y=o.length-1;let C=0;for(let E=void 0!==u?65535&r[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=u&&C>=u)break}else o[E]<0&&(r[18]+=65536),(C<m||-1==m)&&(Zu(r,l,o,E),r[18]=(4294901760&r[18])+E+2),E++}function Zu(r,o,l,u){const h=l[u]<0,m=l[u+1],C=r[h?-l[u]:l[u]];if(h){if(r[2]>>11<r[18]>>16&&(3&r[2])===o){r[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Ia{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function En(r,o,l){const u=Zt(r);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const y=l[h++],C=l[h++],E=l[h++];u?r.setAttribute(o,C,E,y):o.setAttributeNS(y,C,E)}else{const y=m,C=l[++h];oi(y)?u&&r.setProperty(o,y,C):u?r.setAttribute(o,y,C):o.setAttribute(y,C),h++}}return h}function kn(r){return 3===r||4===r||6===r}function oi(r){return 64===r.charCodeAt(0)}function Cc(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||wh(r,l,h,null,-1===l||2===l?o[++u]:null)}}return r}function wh(r,o,l,u,h){let m=0,y=r.length;if(-1===o)y=-1;else for(;m<r.length;){const C=r[m++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=m-1;break}}}for(;m<r.length;){const C=r[m];if("number"==typeof C)break;if(C===l){if(null===u)return void(null!==h&&(r[m+1]=h));if(u===r[m+1])return void(r[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==y&&(r.splice(y,0,o),m=y+1),r.splice(m++,0,l),null!==u&&r.splice(m++,0,u),null!==h&&r.splice(m++,0,h)}function Th(r){return-1!==r}function Js(r){return 32767&r}function Hi(r,o){let l=function(r){return r>>16}(r),u=o;for(;l>0;)u=u[15],l--;return u}let xr=!0;function Kt(r){const o=xr;return xr=r,o}let Ec=0;function Io(r,o){const l=Mi(r,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(r.injectorIndex=o.length,So(u.data,r),So(o,null),So(u.blueprint,null));const h=ai(r,o),m=r.injectorIndex;if(Th(h)){const y=Js(h),C=Hi(h,o),E=C[1].data;for(let S=0;S<8;S++)o[m+S]=C[y+S]|E[y+S]}return o[m+8]=h,m}function So(r,o){r.push(0,0,0,0,0,0,0,0,o)}function Mi(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function ai(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const m=h[1],y=m.type;if(u=2===y?m.declTNode:1===y?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Wr(r,o,l){!function(r,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(pe)&&(u=l[pe]),null==u&&(u=l[pe]=Ec++);const h=255&u;o.data[r+(h>>5)]|=1<<h}(r,o,l)}function kr(r,o,l){if(l&ot.Optional)return r;Ae(o,"NodeInjector")}function Tc(r,o,l,u){if(l&ot.Optional&&void 0===u&&(u=null),0==(l&(ot.Self|ot.Host))){const h=r[9],m=mi(void 0);try{return h?h.get(o,u,l&ot.Optional):Un(o,u,l&ot.Optional)}finally{mi(m)}}return kr(u,o,l)}function Dc(r,o,l,u=ot.Default,h){if(null!==r){const m=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(pe)?r[pe]:void 0;return"number"==typeof o?o>=0?255&o:ji:o}(l);if("function"==typeof m){if(!gl(o,r,u))return u&ot.Host?kr(h,l,u):Tc(o,l,u,h);try{const y=m(u);if(null!=y||u&ot.Optional)return y;Ae(l)}finally{zu()}}else if("number"==typeof m){let y=null,C=Mi(r,o),E=-1,S=u&ot.Host?o[16][6]:null;for((-1===C||u&ot.SkipSelf)&&(E=-1===C?ai(r,o):o[C+8],-1!==E&&Ic(u,!1)?(y=o[1],C=Js(E),o=Hi(E,o)):C=-1);-1!==C;){const x=o[1];if(wn(m,C,x.data)){const N=Yu(C,o,l,y,u,S);if(N!==ur)return N}E=o[C+8],-1!==E&&Ic(u,o[1].data[C+8]===S)&&wn(m,C,o)?(y=x,C=Js(E),o=Hi(E,o)):C=-1}}}return Tc(o,l,u,h)}const ur={};function ji(){return new on(dn(),Ee())}function Yu(r,o,l,u,h,m){const y=o[1],C=y.data[r+8],x=Vt(C,y,l,null==u?Ur(C)&&xr:u!=y&&0!=(3&C.type),h&ot.Host&&m===C);return null!==x?bi(o,y,x,C):ur}function Vt(r,o,l,u,h){const m=r.providerIndexes,y=o.data,C=1048575&m,E=r.directiveStart,x=m>>20,z=h?C+x:r.directiveEnd;for(let K=u?C:C+x;K<z;K++){const me=y[K];if(K<E&&l===me||K>=E&&me.type===l)return K}if(h){const K=y[E];if(K&&Ui(K)&&K.type===l)return E}return null}function bi(r,o,l,u){let h=r[l];const m=o.data;if(function(r){return r instanceof Ia}(h)){const y=h;y.resolving&&function(r,o){throw new ke("200",`Circular dependency in DI detected for ${r}`)}(ce(m[l]));const C=Kt(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?mi(y.injectImpl):null;gl(r,u,ot.Default);try{h=r[l]=y.factory(void 0,m,r,u),o.firstCreatePass&&l>=u.directiveStart&&function(r,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const y=bo(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(r,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-r,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,m))}(l,m[l],o)}finally{null!==E&&mi(E),Kt(C),y.resolving=!1,zu()}}return h}function wn(r,o,l){return!!(l[o+(r>>5)]&1<<r)}function Ic(r,o){return!(r&ot.Self||r&ot.Host&&o)}class on{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Dc(this._tNode,this._lView,o,u,l)}}function Aa(r){return bn(()=>{const o=r.prototype.constructor,l=o[ye]||Ao(o),u=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==u;){const m=h[ye]||Ao(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ao(r){return Pe(r)?()=>{const o=Ao(Y(r));return o&&o()}:Sr(r)}function Mo(r){return function(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const l=r.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const m=l[h];if(kn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(dn(),r)}const qr="__parameters__";function $i(r,o,l){return bn(()=>{const u=function(r){return function(...l){if(r){const u=r(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const y=new h(...m);return C.annotation=y,C;function C(E,S,x){const N=E.hasOwnProperty(qr)?E[qr]:Object.defineProperty(E,qr,{value:[]})[qr];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(y),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}class an{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=$t({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wl=new an("AnalyzeForEntryComponents");function _n(r,o){void 0===o&&(o=r);for(let l=0;l<r.length;l++){let u=r[l];Array.isArray(u)?(o===r&&(o=r.slice(0,l)),_n(u,o)):o!==r&&o.push(u)}return o}function dr(r,o){r.forEach(l=>Array.isArray(l)?dr(l,o):o(l))}function ed(r,o,l){o>=r.length?r.push(l):r.splice(o,0,l)}function Tl(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function Rr(r,o){const l=[];for(let u=0;u<r;u++)l.push(o);return l}function Ci(r,o,l){let u=Al(r,o);return u>=0?r[1|u]=l:(u=~u,function(r,o,l,u){let h=r.length;if(h==o)r.push(l,u);else if(1===h)r.push(u,r[0]),r[0]=l;else{for(h--,r.push(r[h-1],r[h]);h>o;)r[h]=r[h-2],h--;r[o]=l,r[o+1]=u}}(r,u,o,l)),u}function Sl(r,o){const l=Al(r,o);if(l>=0)return r[1|l]}function Al(r,o){return function(r,o,l){let u=0,h=r.length>>l;for(;h!==u;){const m=u+(h-u>>1),y=r[m<<l];if(o===y)return m<<l;y>o?h=m:u=m+1}return~(h<<l)}(r,o,1)}const Ml={},xl="__NG_DI_FLAG__",Qr="ngTempTokenPath",nd=/\n/gm,T="__source",D=he({provide:String,useValue:he});let k;function L(r){const o=k;return k=r,o}function q(r,o=ot.Default){if(void 0===k)throw new Error("inject() must be called from an injection context");return null===k?Un(r,void 0,o):k.get(r,o&ot.Optional?null:void 0,o)}function X(r,o=ot.Default){return(xt||q)(Y(r),o)}const We=X;function ze(r){const o=[];for(let l=0;l<r.length;l++){const u=Y(r[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let h,m=ot.Default;for(let y=0;y<u.length;y++){const C=u[y],E=Pt(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(X(h,m))}else o.push(X(u))}return o}function wt(r,o){return r[xl]=o,r.prototype[xl]=o,r}function Pt(r){return r[xl]}const pn=wt($i("Inject",r=>({token:r})),-1),xi=wt($i("Optional"),8),pr=wt($i("SkipSelf"),4);let ka,Ra;function Lo(r){var o;return(null==(o=function(){if(void 0===ka&&(ka=null,ct.trustedTypes))try{ka=ct.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return ka}())?void 0:o.createHTML(r))||r}function sd(r){var o;return(null==(o=function(){if(void 0===Ra&&(Ra=null,ct.trustedTypes))try{Ra=ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ra}())?void 0:o.createHTML(r))||r}class to{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mp extends to{getTypeName(){return"HTML"}}class Vo extends to{getTypeName(){return"Style"}}class Pg extends to{getTypeName(){return"Script"}}class Oa extends to{getTypeName(){return"URL"}}class Ng extends to{getTypeName(){return"ResourceURL"}}function mr(r){return r instanceof to?r.changingThisBreaksApplicationSecurity:r}function Ol(r,o){const l=ad(r);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function ad(r){return r instanceof to&&r.getTypeName()||null}function Nh(r){return new Mp(r)}function Fg(r){return new Vo(r)}function Pa(r){return new Pg(r)}function Lg(r){return new Oa(r)}function xp(r){return new Ng(r)}class ld{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Lo(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Rp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Lo(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=Lo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Op=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Na(r){return(r=String(r)).match(Op)||r.match(Pp)?r:"unsafe:"+r}function es(r){const o={};for(const l of r.split(","))o[l]=!0;return o}function Pl(...r){const o={};for(const l of r)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Rc=es("area,br,col,hr,img,wbr"),Lh=es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vh=es("rp,rt"),Oc=Pl(Rc,Pl(Lh,es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pl(Vh,es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pl(Vh,Lh)),Nl=es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fa=es("srcset"),Fp=Pl(Nl,Fa,es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cd=es("script,style,template");class Ug{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Oc.hasOwnProperty(l))return this.sanitizedSomething=!0,!cd.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),y=m.name,C=y.toLowerCase();if(!Fp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;Nl[C]&&(E=Na(E)),Fa[C]&&(r=E,E=(r=String(r)).split(",").map(o=>Na(o.trim())).join(", ")),this.buf.push(" ",y,'="',Uh(E),'"')}var r;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Oc.hasOwnProperty(l)&&!Rc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Uh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Bh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lp=/([^\#-~ |!])/g;function Uh(r){return r.replace(/&/g,"&amp;").replace(Bh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Lp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hh;function Hg(r,o){let l=null;try{Hh=Hh||function(r){const o=new Rp(r);return function(){try{return!!(new window.DOMParser).parseFromString(Lo(""),"text/html")}catch(r){return!1}}()?new ld(o):o}(r);let u=o?String(o):"";l=Hh.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=l.innerHTML,l=Hh.getInertBodyElement(u)}while(u!==m);return Lo((new Ug).sanitizeChildren(jg(l)||l))}finally{if(l){const u=jg(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function jg(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function ud(r){const o=Rn();return o?sd(o.sanitize(Nn.HTML,r)||""):Ol(r,"HTML")?sd(mr(r)):Hg(ua(),Z(r))}function dd(r){const o=Rn();return o?o.sanitize(Nn.URL,r)||"":Ol(r,"URL")?mr(r):Na(Z(r))}function Rn(){const r=Ee();return r&&r[12]}const Bp="__ngContext__";function Kn(r,o){r[Bp]=o}function Gh(r){const o=function(r){return r[Bp]||null}(r);return o?Array.isArray(o)?o:o.lView:null}function Fc(r){return r.ngOriginalError}function zp(r,...o){r.error(...o)}class Fl{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=(r=o)&&r.ngErrorLogger||zp;var r;u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Fc(o);for(;l&&Fc(l);)l=Fc(l);return l||null}}const Uo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ct))();function _r(r){return r instanceof Function?r():r}var ns=(()=>((ns=ns||{})[ns.Important=1]="Important",ns[ns.DashCase=2]="DashCase",ns))();function io(r,o){return undefined(r,o)}function ja(r){const o=r[3];return or(o)?o[3]:o}function Jn(r){return vd(r[13])}function Ho(r){return vd(r[4])}function vd(r){for(;null!==r&&!or(r);)r=r[4];return r}function Pr(r,o,l,u,h){if(null!=u){let m,y=!1;or(u)?m=u:Ai(u)&&(y=!0,u=u[0]);const C=An(u);0===r&&null!==l?null==h?xs(o,l,C):ln(o,l,C,h||null,!0):1===r&&null!==l?ln(o,l,C,h||null,!0):2===r?function(r,o,l){const u=za(r,o);u&&function(r,o,l,u){Zt(r)?r.removeChild(o,l,u):o.removeChild(l)}(r,u,o,l)}(o,C,y):3===r&&o.destroyNode(C),null!=m&&function(r,o,l,u,h){const m=l[7];m!==An(l)&&Pr(o,r,u,m,h);for(let C=10;C<l.length;C++){const E=l[C];cf(E[1],E,r,o,u,m)}}(o,r,m,l,h)}}function bd(r,o,l){return Zt(r)?r.createElement(o,l):null===l?r.createElement(o):r.createElementNS(l,o)}function M(r,o){const l=r[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Cs(h,-1)),l.splice(u,1)}function B(r,o){if(r.length<=10)return;const l=10+o,u=r[l];if(u){const h=u[17];null!==h&&h!==r&&M(h,u),o>0&&(r[l-1][4]=u[4]);const m=Tl(r,10+o);!function(r,o){cf(r,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=m[19];null!==y&&y.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function ie(r,o){if(!(256&o[2])){const l=o[11];Zt(l)&&l.destroyNode&&cf(r,o,l,3,null,null),function(r){let o=r[13];if(!o)return xe(r[1],r);for(;o;){let l=null;if(Ai(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==r;)Ai(o)&&xe(o[1],o),o=o[3];null===o&&(o=r),Ai(o)&&xe(o[1],o),l=o&&o[4]}o=l}}(o)}}function xe(r,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(r,o){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Ia)){const m=l[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=h[m[y]],E=m[y+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(r,o),function(r,o){const l=r.cleanup,u=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const y=l[m+1],C="function"==typeof y?y(o):An(o[y]),E=u[h=l[m+2]],S=l[m+3];"boolean"==typeof S?C.removeEventListener(l[m],E,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),m+=2}else{const y=u[h=l[m+1]];l[m].call(y)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(r,o),1===o[1].type&&Zt(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&or(o[3])){l!==o[3]&&M(l,o);const u=o[19];null!==u&&u.detachView(r)}}}function Xe(r,o,l){return function(r,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=r.data[u.directiveStart].encapsulation;if(h===qe.None||h===qe.Emulated)return null}return Mn(u,l)}(r,o.parent,l)}function ln(r,o,l,u,h){Zt(r)?r.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function xs(r,o,l){Zt(r)?r.appendChild(o,l):o.appendChild(l)}function Ll(r,o,l,u,h){null!==u?ln(r,o,l,u,h):xs(r,o,l)}function za(r,o){return Zt(r)?r.parentNode(o):o.parentNode}function Ed(r,o,l){return sf(r,o,l)}let sf=function(r,o,l){return 40&r.type?Mn(r,l):null};function $a(r,o,l,u){const h=Xe(r,u,o),m=o[11],C=Ed(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)Ll(m,h,l[E],C,!1);else Ll(m,h,l,C,!1)}function Vl(r,o){if(null!==o){const l=o.type;if(3&l)return Mn(o,r);if(4&l)return lf(-1,r[o.index]);if(8&l){const u=o.child;if(null!==u)return Vl(r,u);{const h=r[o.index];return or(h)?lf(-1,h):An(h)}}if(32&l)return io(o,r)()||An(r[o.index]);{const u=jo(r,o);return null!==u?Array.isArray(u)?u[0]:Vl(ja(r[16]),u):Vl(r,o.next)}}return null}function jo(r,o){return null!==o?r[16][6].projection[o.projection]:null}function lf(r,o){const l=10+r+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Vl(u,h)}return o[7]}function wd(r,o,l,u,h,m,y){for(;null!=l;){const C=u[l.index],E=l.type;if(y&&0===o&&(C&&Kn(An(C),u),l.flags|=4),64!=(64&l.flags))if(8&E)wd(r,o,l.child,u,h,m,!1),Pr(o,r,h,C,m);else if(32&E){const S=io(l,u);let x;for(;x=S();)Pr(o,r,h,x,m);Pr(o,r,h,C,m)}else 16&E?Kv(r,o,u,l,h,m):Pr(o,r,h,C,m);l=y?l.projectionNext:l.next}}function cf(r,o,l,u,h,m){wd(l,u,r.firstChild,o,h,m,!1)}function Kv(r,o,l,u,h,m){const y=l[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)Pr(o,r,h,E[S],m);else wd(r,o,E,y[3],h,m,!0)}function Yp(r,o,l){Zt(r)?r.setAttribute(o,"style",l):o.style.cssText=l}function Zg(r,o,l){Zt(r)?""===l?r.removeAttribute(o,"class"):r.setAttribute(o,"class",l):o.className=l}function uf(r,o,l){let u=r.length;for(;;){const h=r.indexOf(o,l);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||r.charCodeAt(h+m)<=32)return h}l=h+1}}const df="ng-template";function Q0(r,o,l){let u=0;for(;u<r.length;){let h=r[u++];if(l&&"class"===h){if(h=r[u],-1!==uf(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<r.length&&"string"==typeof(h=r[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function qg(r){return 4===r.type&&r.value!==df}function J0(r,o,l){return o===(4!==r.type||l?r.value:df)}function $I(r,o,l){let u=4;const h=r.attrs||[],m=function(r){for(let o=0;o<r.length;o++)if(kn(r[o]))return o;return r.length}(h);let y=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!J0(r,E,l)||""===E&&1===o.length){if(is(u))return!1;y=!0}}else{const S=8&u?E:o[++C];if(8&u&&null!==r.attrs){if(!Q0(r.attrs,S,l)){if(is(u))return!1;y=!0}continue}const N=GI(8&u?"class":E,h,qg(r),l);if(-1===N){if(is(u))return!1;y=!0;continue}if(""!==S){let z;z=N>m?"":h[N+1].toLowerCase();const K=8&u?z:null;if(K&&-1!==uf(K,S,0)||2&u&&S!==z){if(is(u))return!1;y=!0}}}}else{if(!y&&!is(u)&&!is(E))return!1;if(y&&is(E))continue;y=!1,u=E|1&u}}return is(u)||y}function is(r){return 0==(1&r)}function GI(r,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let m=!1;for(;h<o.length;){const y=o[h];if(y===r)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function(r,o){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const u=r[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,r)}function Jv(r,o,l=!1){for(let u=0;u<o.length;u++)if($I(r,o[u],l))return!0;return!1}function Yg(r,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(r.length===u.length){for(let h=0;h<r.length;h++)if(r[h]!==u[h])continue e;return!0}}return!1}function Kg(r,o){return r?":not("+o.trim()+")":o}function tw(r){let o=r[0],l=1,u=2,h="",m=!1;for(;l<r.length;){let y=r[l];if("string"==typeof y)if(2&u){const C=r[++l];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!is(y)&&(o+=Kg(m,h),h=""),u=y,m=m||!is(u);l++}return""!==h&&(o+=Kg(m,h)),o}const Ct={};function eb(r){Qg(At(),Ee(),nn()+r,ga())}function Qg(r,o,l,u){if(!u)if(3==(3&o[2])){const m=r.preOrderCheckHooks;null!==m&&yl(o,m,l)}else{const m=r.preOrderHooks;null!==m&&Da(o,m,0,l)}ws(l)}function Kp(r,o){return r<<17|o<<2}function ks(r){return r>>17&32767}function Qp(r){return 2|r}function Ga(r){return(131068&r)>>2}function Jg(r,o){return-131069&r|o<<2}function Jp(r){return 1|r}function cb(r,o){const l=r.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],m=l[u+1];if(-1!==m){const y=r.data[m];wo(h),y.contentQueries(2,o[m],m)}}}function pf(r,o,l,u,h,m,y,C,E,S){const x=o.blueprint.slice();return x[0]=h,x[2]=140|u,ha(x),x[3]=x[15]=r,x[8]=l,x[10]=y||r&&r[10],x[11]=C||r&&r[11],x[12]=E||r&&r[12]||null,x[9]=S||r&&r[9]||null,x[6]=m,x[16]=2==o.type?r[16]:x,x}function zc(r,o,l,u,h){let m=r.data[o];if(null===m)m=function(r,o,l,u,h){const m=ma(),y=fl(),E=r.data[o]=function(r,o,l,u,h,m){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,l,o,u,h);return null===r.firstChild&&(r.firstChild=E),null!==m&&(y?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(r,o,l,u,h),Ye.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=u,m.attrs=h;const y=function(){const r=Ye.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Yn(m,!0),m}function Dd(r,o,l,u){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(u),r.blueprint.push(u),r.data.push(null);return h}function mf(r,o,l){_l(o);try{const u=r.viewQuery;null!==u&&yb(1,u,l);const h=r.template;null!==h&&mw(r,o,h,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&cb(r,o),r.staticViewQueries&&yb(2,r.viewQuery,l);const m=r.components;null!==m&&function(r,o){for(let l=0;l<o.length;l++)gb(r,o[l])}(o,m)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{o[2]&=-5,Ta()}}function Id(r,o,l,u){const h=o[2];if(256==(256&h))return;_l(o);const m=ga();try{ha(o),function(r){Ye.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&mw(r,o,l,2,u);const y=3==(3&h);if(!m)if(y){const S=r.preOrderCheckHooks;null!==S&&yl(o,S,null)}else{const S=r.preOrderHooks;null!==S&&Da(o,S,0,null),Wu(o,0)}if(function(r){for(let o=Jn(r);null!==o;o=Ho(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],m=h[3];0==(1024&h[2])&&Cs(m,1),h[2]|=1024}}}(o),function(r){for(let o=Jn(r);null!==o;o=Ho(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];da(u)&&Id(h,u,h.template,u[8])}}(o),null!==r.contentQueries&&cb(r,o),!m)if(y){const S=r.contentCheckHooks;null!==S&&yl(o,S)}else{const S=r.contentHooks;null!==S&&Da(o,S,1),Wu(o,1)}!function(r,o){const l=r.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)ws(~h);else{const m=h,y=l[++u],C=l[++u];ba(y,m),C(2,o[m])}}}finally{ws(-1)}}(r,o);const C=r.components;null!==C&&function(r,o){for(let l=0;l<o.length;l++)$c(r,o[l])}(o,C);const E=r.viewQuery;if(null!==E&&yb(2,E,u),!m)if(y){const S=r.viewCheckHooks;null!==S&&yl(o,S)}else{const S=r.viewHooks;null!==S&&Da(o,S,2),Wu(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Cs(o[3],-1))}finally{Ta()}}function db(r,o,l,u){const h=o[10],m=!ga(),y=jr(o);try{m&&!y&&h.begin&&h.begin(),y&&mf(r,o,u),Id(r,o,l,u)}finally{m&&!y&&h.end&&h.end()}}function mw(r,o,l,u,h){const m=nn(),y=2&u;try{ws(-1),y&&o.length>20&&Qg(r,o,20,ga()),l(u,h)}finally{ws(m)}}function u_(r,o,l){if(Pn(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const y=r.data[m];y.contentQueries&&y.contentQueries(1,l[m],m)}}}function d_(r,o,l){!dl()||(function(r,o,l,u){const h=l.directiveStart,m=l.directiveEnd;r.firstCreatePass||Io(l,o),Kn(u,o);const y=l.initialInputs;for(let C=h;C<m;C++){const E=r.data[C],S=Ui(E);S&&mb(o,l,E);const x=bi(o,r,C,l);Kn(x,o),null!==y&&Nr(0,C-h,x,E,0,y),S&&(zt(l.index,o)[8]=x)}}(r,o,l,Mn(l,o)),128==(128&l.flags)&&function(r,o,l){const u=l.directiveStart,h=l.directiveEnd,y=l.index,C=Ye.lFrame.currentDirectiveIndex;try{ws(y);for(let E=u;E<h;E++){const S=r.data[E],x=o[E];Ca(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&qa(S,x)}}finally{ws(-1),Ca(C)}}(r,o,l))}function h_(r,o,l=Mn){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],C=-1===y?l(o,r):r[y];r[h++]=C}}}function f_(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=im(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function im(r,o,l,u,h,m,y,C,E,S){const x=20+u,N=x+h,z=function(r,o){const l=[];for(let u=0;u<o;u++)l.push(u<r?null:Ct);return l}(x,N),K="function"==typeof S?S():S;return z[1]={type:r,blueprint:z,template:l,queries:null,viewQuery:C,declTNode:o,data:z.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:K,incompleteFirstPass:!1}}function p_(r,o,l,u){const h=vb(o);null===l?h.push(u):(h.push(l),r.firstCreatePass&&xw(r).push(u,h.length-1))}function m_(r,o,l){for(let u in r)if(r.hasOwnProperty(u)){const h=r[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function os(r,o,l,u,h,m,y,C){const E=Mn(o,l);let x,S=o.inputs;!C&&null!=S&&(x=S[u])?(Ow(r,l,x,u,h),Ur(o)&&function(r,o){const l=zt(o,r);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),h=null!=y?y(h,o.value||"",u):h,Zt(m)?m.setProperty(E,u,h):oi(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function g_(r,o,l,u){let h=!1;if(dl()){const m=function(r,o,l){const u=r.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];Jv(l,y.selectors,!1)&&(h||(h=[]),Wr(Io(l,o),r,y.type),Ui(y)?(Xn(r,l),h.unshift(y)):h.push(y))}return h}(r,o,l),y=null===u?null:{"":-1};if(null!==m){h=!0,_f(l,r.data.length,m.length);for(let x=0;x<m.length;x++){const N=m[x];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,S=Dd(r,o,m.length,null);for(let x=0;x<m.length;x++){const N=m[x];l.mergedAttrs=Cc(l.mergedAttrs,N.hostAttrs),sm(r,l,o,S,N),Tw(S,N,y),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const z=N.type.prototype;!C&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l.index),C=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l.index),E=!0),S++}!function(r,o){const u=o.directiveEnd,h=r.data,m=o.attrs,y=[];let C=null,E=null;for(let S=o.directiveStart;S<u;S++){const x=h[S],N=x.inputs,z=null===m||qg(o)?null:Zi(N,m);y.push(z),C=m_(N,S,C),E=m_(x.outputs,S,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=C,o.outputs=E}(r,l)}y&&function(r,o,l){if(o){const u=r.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new ke("301",`Export of name '${o[h+1]}' not found!`);u.push(o[h],m)}}}(l,u,y)}return l.mergedAttrs=Cc(l.mergedAttrs,l.attrs),h}function pb(r,o,l,u,h,m){const y=m.hostBindings;if(y){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const E=~o.index;(function(r){let o=r.length;for(;o>0;){const l=r[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=E&&C.push(E),C.push(u,h,y)}}function qa(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Xn(r,o){o.flags|=2,(r.components||(r.components=[])).push(o.index)}function Tw(r,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=r;Ui(o)&&(l[""]=r)}}function _f(r,o,l){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+l,r.providerIndexes=o}function sm(r,o,l,u,h){r.data[u]=h;const m=h.factory||(h.factory=Sr(h.type)),y=new Ia(m,Ui(h),null);r.blueprint[u]=y,l[u]=y,pb(r,o,0,u,Dd(r,l,h.hostVars,Ct),h)}function mb(r,o,l){const u=Mn(o,r),h=f_(l),m=r[10],y=qi(r,pf(r,h,null,l.onPush?64:16,u,o,m,m.createRenderer(u,l),null,null));r[o.index]=y}function zo(r,o,l,u,h,m){const y=Mn(r,o);!function(r,o,l,u,h,m,y){if(null==m)Zt(r)?r.removeAttribute(o,h,l):o.removeAttribute(h);else{const C=null==y?Z(m):y(m,u||"",h);Zt(r)?r.setAttribute(o,h,C,l):l?o.setAttributeNS(l,h,C):o.setAttribute(h,C)}}(o[11],y,m,r.value,l,u,h)}function Nr(r,o,l,u,h,m){const y=m[o];if(null!==y){const C=u.setInput;for(let E=0;E<y.length;){const S=y[E++],x=y[E++],N=y[E++];null!==C?u.setInput(l,N,S,x):l[x]=N}}}function Zi(r,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;r.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,r[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function __(r,o,l,u){return new Array(r,!0,!1,o,null,0,u,l,null,null)}function $c(r,o){const l=zt(o,r);if(da(l)){const u=l[1];80&l[2]?Id(u,l,u.template,l[8]):l[5]>0&&Rs(l)}}function Rs(r){for(let u=Jn(r);null!==u;u=Ho(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const y=m[1];Id(y,m,y.template,m[8])}else m[5]>0&&Rs(m)}const l=r[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=zt(l[u],r);da(h)&&h[5]>0&&Rs(h)}}function gb(r,o){const l=zt(o,r),u=l[1];(function(r,o){for(let l=o.length;l<r.blueprint.length;l++)o.push(r.blueprint[l])})(u,l),mf(u,l,l[8])}function qi(r,o){return r[13]?r[14][4]=o:r[13]=o,r[14]=o,o}function as(r){for(;r;){r[2]|=64;const o=ja(r);if(ph(r)&&!o)return r;r=o}return null}function v_(r,o,l){const u=o[10];u.begin&&u.begin();try{Id(r,o,r.template,l)}catch(h){throw Rw(o,h),h}finally{u.end&&u.end()}}function Sw(r){!function(r){for(let o=0;o<r.components.length;o++){const l=r.components[o],u=Gh(l),h=u[1];db(h,u,h.template,l)}}(r[8])}function yb(r,o,l){wo(0),o(r,l)}const Mw=(()=>Promise.resolve(null))();function vb(r){return r[7]||(r[7]=[])}function xw(r){return r.cleanup||(r.cleanup=[])}function Rw(r,o){const l=r[9],u=l?l.get(Fl,null):null;u&&u.handleError(o)}function Ow(r,o,l,u,h){for(let m=0;m<l.length;){const y=l[m++],C=l[m++],E=o[y],S=r.data[y];null!==S.setInput?S.setInput(E,h,u,C):E[C]=h}}function Ul(r,o,l){const u=lr(o,r);!function(r,o,l){Zt(r)?r.setValue(o,l):o.textContent=l}(r[11],u,l)}function C_(r,o,l){let u=l?r.styles:null,h=l?r.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?m=C:1==m?h=ae(h,C):2==m&&(u=ae(u,C+": "+o[++y]+";"))}l?r.styles=u:r.stylesWithoutHost=u,l?r.classes=h:r.classesWithoutHost=h}const Ya=new an("INJECTOR",-1);class Hl{get(o,l=Ml){if(l===Ml){const u=new Error(`NullInjectorError: No provider for ${oe(o)}!`);throw u.name="NullInjectorError",u}return l}}const F=new an("Set Injector scope."),jl={},bb={};let E_;function Cb(){return void 0===E_&&(E_=new Hl),E_}function di(r,o=null,l=null,u){const h=Os(r,o,l,u);return h._resolveInjectorDefTypes(),h}function Os(r,o=null,l=null,u){return new om(r,l,o||Cb(),u)}class om{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&dr(l,C=>this.processProvider(C,o,l)),dr([o],C=>this.processInjectorType(C,[],m)),this.records.set(Ya,Gc(void 0,this));const y=this.records.get(F);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:oe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Ml,u=ot.Default){this.assertNotDestroyed();const h=L(this),m=mi(void 0);try{if(!(u&ot.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=("function"==typeof(r=o)||"object"==typeof r&&r instanceof an)&&Fi(o);C=E&&this.injectableDefInScope(E)?Gc(yf(o),jl):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(u&ot.Self?Cb():this.parent).get(o,l=u&ot.Optional&&l===Ml?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Qr]=y[Qr]||[]).unshift(oe(o)),h)throw y;return function(r,o,l,u){const h=r[Qr];throw o[T]&&h.unshift(o[T]),r.message=function(r,o,l,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let h=oe(o);if(Array.isArray(o))h=o.map(oe).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):oe(C)))}h=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${r.replace(nd,"\n  ")}`}("\n"+r.message,h,l,u),r.ngTokenPath=h,r[Qr]=null,r}(y,o,"R3InjectorError",this.source)}throw y}finally{mi(m),L(h)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(oe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,u){if(!(o=Y(o)))return!1;let h=tr(o);const m=null==h&&o.ngModule||void 0,y=void 0===m?o:m,C=-1!==u.indexOf(y);if(void 0!==m&&(h=tr(m)),null==h)return!1;if(null!=h.imports&&!C){let x;u.push(y);try{dr(h.imports,N=>{this.processInjectorType(N,l,u)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:z,providers:K}=x[N];dr(K,me=>this.processProvider(me,z,K||U))}}this.injectorDefTypes.add(y);const E=Sr(y)||(()=>new y);this.records.set(y,Gc(E,jl));const S=h.providers;if(null!=S&&!C){const x=o;dr(S,N=>this.processProvider(N,x,S))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,u){let h=kd(o=Y(o))?o:Y(o&&o.provide);const m=(r=o,wb(r)?Gc(void 0,r.useValue):Gc(Eb(r),jl));var r;if(kd(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Gc(void 0,jl,!0),y.factory=()=>ze(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===jl&&(l.value=bb,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(r=l.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var r}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Y(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function yf(r){const o=Fi(r),l=null!==o?o.factory:Sr(r);if(null!==l)return l;if(r instanceof an)throw new Error(`Token ${oe(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const o=r.length;if(o>0){const u=Rr(o,"?");throw new Error(`Can't resolve all parameters for ${oe(r)}: (${u.join(", ")}).`)}const l=function(r){const o=r&&(r[Dr]||r[Vn]);if(o){const l=function(r){if(r.hasOwnProperty("name"))return r.name;const o=(""+r).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new Error("unreachable")}function Eb(r,o,l){let u;if(kd(r)){const h=Y(r);return Sr(h)||yf(h)}if(wb(r))u=()=>Y(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...ze(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>X(Y(r.useExisting));else{const h=Y(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Sr(h)||yf(h);u=()=>new h(...ze(r.deps))}return u}function Gc(r,o,l=!1){return{factory:r,value:o,multi:l?[]:void 0}}function wb(r){return null!==r&&"object"==typeof r&&D in r}function kd(r){return"function"==typeof r}let Fr=(()=>{class r{static create(l,u){var h;if(Array.isArray(l))return di({name:""},u,l,"");{const m=null!=(h=l.name)?h:"";return di({name:m},l.parent,l.providers,m)}}}return r.THROW_IF_NOT_FOUND=Ml,r.NULL=new Hl,r.\u0275prov=$t({token:r,providedIn:"any",factory:()=>X(Ya)}),r.__NG_ELEMENT_ID__=-1,r})();function Mb(r,o){Ts(Gh(r)[1],dn())}function M_(r){let o=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const u=[r];for(;o;){let h;if(Ui(r))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(l){u.push(h);const y=r;y.inputs=x_(r.inputs),y.declaredInputs=x_(r.declaredInputs),y.outputs=x_(r.outputs);const C=h.hostBindings;C&&R_(r,C);const E=h.viewQuery,S=h.contentQueries;if(E&&pm(r,E),S&&k_(r,S),J(r.inputs,h.inputs),J(r.declaredInputs,h.declaredInputs),J(r.outputs,h.outputs),Ui(h)&&h.data.animation){const x=r.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(r),C===M_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(r){let o=0,l=null;for(let u=r.length-1;u>=0;u--){const h=r[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Cc(h.hostAttrs,l=Cc(l,h.hostAttrs))}}(u)}function x_(r){return r===$?{}:r===U?[]:r}function pm(r,o){const l=r.viewQuery;r.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function k_(r,o){const l=r.contentQueries;r.contentQueries=l?(u,h,m)=>{o(u,h,m),l(u,h,m)}:o}function R_(r,o){const l=r.hostBindings;r.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let bf=null;function Ka(){if(!bf){const r=ct.Symbol;if(r&&r.iterator)bf=r.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(bf=u)}}}return bf}function Cf(r){return!!P_(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ka()in r)}function P_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function $o(r,o,l){return r[o]=l}function Yi(r,o,l){return!Object.is(r[o],l)&&(r[o]=l,!0)}function Wc(r,o,l,u){const h=Yi(r,o,l);return Yi(r,o+1,u)||h}function gm(r,o,l,u){const h=Ee();return Yi(h,Es(),o)&&(At(),zo(hn(),h,r,o,l,u)),gm}function zl(r,o,l,u){return Yi(r,Es(),l)?o+Z(l)+u:Ct}function Od(r,o,l,u,h,m){const C=Wc(r,Ye.lFrame.bindingIndex,l,h);return Mr(2),C?o+Z(l)+u+Z(h)+m:Ct}function L_(r,o,l,u,h,m,y,C){const E=Ee(),S=At(),x=r+20,N=S.firstCreatePass?function(r,o,l,u,h,m,y,C,E){const S=o.consts,x=zc(o,r,4,y||null,vi(S,C));g_(o,l,x,vi(S,E)),Ts(o,x);const N=x.tViews=im(2,x,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,x),N.queries=o.queries.embeddedTView(x)),x}(x,S,E,o,l,u,h,m,y):S.data[x];Yn(N,!1);const z=E[11].createComment("");$a(S,E,z,N),Kn(z,E),qi(E,E[x]=__(z,E,z,N)),cc(N)&&d_(S,E,N),null!=y&&h_(E,N,C)}function ym(r){return qs(Ye.lFrame.contextLView,20+r)}function Fd(r,o=ot.Default){const l=Ee();return null===l?X(r,o):Dc(dn(),l,Y(r),o)}function $l(){throw new Error("invalid")}function Tf(r,o,l){const u=Ee();return Yi(u,Es(),o)&&os(At(),hn(),u,r,o,u[11],l,!1),Tf}function Gl(r,o,l,u,h){const y=h?"class":"style";Ow(r,l,o.inputs[y],y,u)}function wm(r,o,l,u){const h=Ee(),m=At(),y=20+r,C=h[11],E=h[y]=bd(C,o,Ye.lFrame.currentNamespace),S=m.firstCreatePass?function(r,o,l,u,h,m,y){const C=o.consts,S=zc(o,r,2,h,vi(C,m));return g_(o,l,S,vi(C,y)),null!==S.attrs&&C_(S,S.attrs,!1),null!==S.mergedAttrs&&C_(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,m,h,0,o,l,u):m.data[y];Yn(S,!0);const x=S.mergedAttrs;null!==x&&En(C,E,x);const N=S.classes;null!==N&&Zg(C,E,N);const z=S.styles;null!==z&&Yp(C,E,z),64!=(64&S.flags)&&$a(m,h,E,S),0===Ye.lFrame.elementDepthCount&&Kn(E,h),Ye.lFrame.elementDepthCount++,cc(S)&&(d_(m,h,S),u_(m,S,h)),null!==u&&h_(h,S)}function eu(){let r=dn();fl()?Ks():(r=r.parent,Yn(r,!1));const o=r;Ye.lFrame.elementDepthCount--;const l=At();l.firstCreatePass&&(Ts(l,r),Pn(r)&&l.queries.elementEnd(r)),null!=o.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(o)&&Gl(l,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(o)&&Gl(l,o,Ee(),o.stylesWithoutHost,!1)}function Wl(r,o,l,u){wm(r,o,l,u),eu()}function ei(r,o,l){const u=Ee(),h=At(),m=r+20,y=h.firstCreatePass?function(r,o,l,u,h){const m=o.consts,y=vi(m,u),C=zc(o,r,8,"ng-container",y);return null!==y&&C_(C,y,!0),g_(o,l,C,vi(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,u,o,l):h.data[m];Yn(y,!0);const C=u[m]=u[11].createComment("");$a(h,u,C,y),Kn(C,u),cc(y)&&(d_(h,u,y),u_(h,y,u)),null!=l&&h_(u,y)}function tu(){let r=dn();const o=At();fl()?Ks():(r=r.parent,Yn(r,!1)),o.firstCreatePass&&(Ts(o,r),Pn(r)&&o.queries.elementEnd(r))}function ao(){return Ee()}function ki(r){return!!r&&"function"==typeof r.then}function Zb(r){return!!r&&"function"==typeof r.subscribe}const Df=Zb;function W_(r,o,l,u){const h=Ee(),m=At(),y=dn();return function(r,o,l,u,h,m,y,C){const E=cc(u),x=r.firstCreatePass&&xw(r),N=o[8],z=vb(o);let K=!0;if(3&u.type||C){const Ve=Mn(u,o),Ue=C?C(Ve):Ve,we=z.length,nt=C?Nt=>C(An(Nt[u.index])):u.index;if(Zt(l)){let Nt=null;if(!C&&E&&(Nt=function(r,o,l,u){const h=r.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===l&&h[m+1]===u){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof y&&(m+=2)}return null}(r,o,h,u.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=m,Nt.__ngLastListenerFn__=m,K=!1;else{m=nu(u,o,N,m,!1);const Qt=l.listen(Ue,h,m);z.push(m,Qt),x&&x.push(h,nt,we,we+1)}}else m=nu(u,o,N,m,!0),Ue.addEventListener(h,m,y),z.push(m),x&&x.push(h,nt,we,y)}else m=nu(u,o,N,m,!1);const me=u.outputs;let Oe;if(K&&null!==me&&(Oe=me[h])){const Ve=Oe.length;if(Ve)for(let Ue=0;Ue<Ve;Ue+=2){const Qi=o[Oe[Ue]][Oe[Ue+1]].subscribe(m),Du=z.length;z.push(m,Qi),x&&x.push(h,u.index,Du,-(Du+1))}}}(m,h,h[11],y,r,o,!!l,u),W_}function qb(r,o,l,u){try{return!1!==l(u)}catch(h){return Rw(r,h),!1}}function nu(r,o,l,u,h){return function m(y){if(y===Function)return u;const C=2&r.flags?zt(r.index,o):o;0==(32&o[2])&&as(C);let E=qb(o,0,u,y),S=m.__ngNextListenerFn__;for(;S;)E=qb(o,0,S,y)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Tm(r=1){return function(r){return(Ye.lFrame.contextLView=function(r,o){for(;r>0;)o=o[15],r--;return o}(r,Ye.lFrame.contextLView))[8]}(r)}function Yb(r,o){let l=null;const u=function(r){const o=r.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(r);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?Jv(r,m,!0):Yg(u,m))return h}else l=h}return l}function hi(r){const o=Ee()[16][6];if(!o.projection){const u=o.projection=Rr(r?r.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const y=r?Yb(m,r):0;null!==y&&(h[y]?h[y].projectionNext=m:u[y]=m,h[y]=m),m=m.next}}}function Z_(r,o=0,l){const u=Ee(),h=At(),m=zc(h,20+r,16,null,l||null);null===m.projection&&(m.projection=o),Ks(),64!=(64&m.flags)&&function(r,o,l){Kv(o[11],0,o,l,Xe(r,l,o),Ed(l.parent||o[6],l,o))}(h,u,m)}function Af(r,o,l,u,h){const m=r[l+1],y=null===o;let C=u?ks(m):Ga(m),E=!1;for(;0!==C&&(!1===E||y);){const x=r[C+1];eC(r[C],o)&&(E=!0,r[C+1]=u?Jp(x):Qp(x)),C=u?ks(x):Ga(x)}E&&(r[l+1]=u?Qp(m):Jp(m))}function eC(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Al(r,o)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function K_(r){return r.substring(ti.key,ti.keyEnd)}function Q_(r,o){const l=ti.textEnd;return l===o?-1:(o=ti.keyEnd=function(r,o,l){for(;o<l&&r.charCodeAt(o)>32;)o++;return o}(r,ti.key=o,l),ru(r,o,l))}function ru(r,o,l){for(;o<l&&r.charCodeAt(o)<=32;)o++;return o}function Mf(r,o,l){return lo(r,o,l,!1),Mf}function ty(r,o){return lo(r,o,null,!0),ty}function sC(r){Ps(Ci,qo,r,!0)}function qo(r,o){for(let l=function(r){return function(r){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=r.length}(r),Q_(r,ru(r,0,ti.textEnd))}(o);l>=0;l=Q_(o,l))Ci(r,K_(o),!0)}function lo(r,o,l,u){const h=Ee(),m=At(),y=Mr(2);m.firstUpdatePass&&iy(m,r,y,u),o!==Ct&&Yi(h,y,o)&&lC(m,m.data[nn()],h,h[11],r,h[y+1]=function(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=oe(mr(r)))),r}(o,l),u,y)}function Ps(r,o,l,u){const h=At(),m=Mr(2);h.firstUpdatePass&&iy(h,null,m,u);const y=Ee();if(l!==Ct&&Yi(y,m,l)){const C=h.data[nn()];if(cC(C,u)&&!ny(h,m)){let E=u?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(l=ae(E,l||"")),Gl(h,C,y,l,u)}else!function(r,o,l,u,h,m,y,C){h===Ct&&(h=U);let E=0,S=0,x=0<h.length?h[0]:null,N=0<m.length?m[0]:null;for(;null!==x||null!==N;){const z=E<h.length?h[E+1]:void 0,K=S<m.length?m[S+1]:void 0;let Oe,me=null;x===N?(E+=2,S+=2,z!==K&&(me=N,Oe=K)):null===N||null!==x&&x<N?(E+=2,me=x):(S+=2,me=N,Oe=K),null!==me&&lC(r,o,l,u,me,Oe,y,C),x=E<h.length?h[E]:null,N=S<m.length?m[S]:null}}(h,C,y,y[11],y[m+1],y[m+1]=function(r,o,l){if(null==l||""===l)return U;const u=[],h=mr(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)r(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&r(u,m,h[m]);else"string"==typeof h&&o(u,h);return u}(r,o,l),u,m)}}function ny(r,o){return o>=r.expandoStartIndex}function iy(r,o,l,u){const h=r.data;if(null===h[l+1]){const m=h[nn()],y=ny(r,l);cC(m,u)&&null===o&&!y&&(o=!1),o=function(r,o,l,u){const h=Eo(r);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=Vd(l=ry(null,r,o,l,u),o.attrs,u),m=null);else{const y=o.directiveStylingLast;if(-1===y||r[y]!==h)if(l=ry(h,r,o,l,u),null===m){let E=function(r,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Ga(u))return r[ks(u)]}(r,o,u);void 0!==E&&Array.isArray(E)&&(E=ry(null,r,o,E[1],u),E=Vd(E,o.attrs,u),function(r,o,l,u){r[ks(l?o.classBindings:o.styleBindings)]=u}(r,o,u,E))}else m=function(r,o,l){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=Vd(u,r[m].hostAttrs,l);return Vd(u,o.attrs,l)}(r,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,u),function(r,o,l,u,h,m){let y=m?o.classBindings:o.styleBindings,C=ks(y),E=Ga(y);r[u]=l;let x,S=!1;if(Array.isArray(l)){const N=l;x=N[1],(null===x||Al(N,x)>0)&&(S=!0)}else x=l;if(h)if(0!==E){const z=ks(r[C+1]);r[u+1]=Kp(z,C),0!==z&&(r[z+1]=Jg(r[z+1],u)),r[C+1]=function(r,o){return 131071&r|o<<17}(r[C+1],u)}else r[u+1]=Kp(C,0),0!==C&&(r[C+1]=Jg(r[C+1],u)),C=u;else r[u+1]=Kp(E,0),0===C?C=u:r[E+1]=Jg(r[E+1],u),E=u;S&&(r[u+1]=Qp(r[u+1])),Af(r,x,u,!0),Af(r,x,u,!1),function(r,o,l,u,h){const m=h?r.residualClasses:r.residualStyles;null!=m&&"string"==typeof o&&Al(m,o)>=0&&(l[u+1]=Jp(l[u+1]))}(o,x,r,u,m),y=Kp(C,E),m?o.classBindings=y:o.styleBindings=y}(h,m,o,l,y,u)}}function ry(r,o,l,u,h){let m=null;const y=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<y&&(m=o[C],u=Vd(u,m.hostAttrs,h),m!==r);)C++;return null!==r&&(l.directiveStylingLast=C),u}function Vd(r,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?h=y:h===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ci(r,y,!!l||o[++m]))}return void 0===r?null:r}function lC(r,o,l,u,h,m,y,C){if(!(3&o.type))return;const E=r.data,S=E[C+1];Bd(function(r){return 1==(1&r)}(S)?su(E,o,l,h,Ga(S),y):void 0)||(Bd(m)||function(r){return 2==(2&r)}(S)&&(m=su(E,null,l,h,C,y)),function(r,o,l,u,h){const m=Zt(r);if(o)h?m?r.addClass(l,u):l.classList.add(u):m?r.removeClass(l,u):l.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:ns.DashCase;if(null==h)m?r.removeStyle(l,u,y):l.style.removeProperty(u);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=ns.Important),m?r.setStyle(l,u,h,y):l.style.setProperty(u,h,C?"important":"")}}}(u,y,lr(nn(),l),h,m))}function su(r,o,l,u,h,m){const y=null===o;let C;for(;h>0;){const E=r[h],S=Array.isArray(E),x=S?E[1]:E,N=null===x;let z=l[h+1];z===Ct&&(z=N?U:void 0);let K=N?Sl(z,u):x===u?z:void 0;if(S&&!Bd(K)&&(K=Sl(E,u)),Bd(K)&&(C=K,y))return C;const me=r[h+1];h=y?ks(me):Ga(me)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=Sl(E,u))}return C}function Bd(r){return void 0!==r}function cC(r,o){return 0!=(r.flags&(o?16:32))}function Ud(r,o=""){const l=Ee(),u=At(),h=r+20,m=u.firstCreatePass?zc(u,h,1,o,null):u.data[h],y=l[h]=function(r,o){return Zt(r)?r.createText(o):r.createTextNode(o)}(l[11],o);$a(u,l,y,m),Yn(m,!1)}function ou(r){return Hd("",r,""),ou}function Hd(r,o,l){const u=Ee(),h=zl(u,r,o,l);return h!==Ct&&Ul(u,nn(),h),Hd}function sy(r,o,l,u,h){const m=Ee(),y=Od(m,r,o,l,u,h);return y!==Ct&&Ul(m,nn(),y),sy}function pC(r,o,l){Ps(Ci,qo,zl(Ee(),r,o,l),!0)}function uy(r,o,l){const u=Ee();return Yi(u,Es(),o)&&os(At(),hn(),u,r,o,u[11],l,!0),uy}function dy(r,o,l){const u=Ee();if(Yi(u,Es(),o)){const m=At(),y=hn();os(m,y,u,r,o,function(r,o,l){return(null===r||Ui(r))&&(l=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(l[o.index])),l[11]}(Eo(m.data),y,u),l,!0)}return dy}const au=void 0;var lu=["en",[["a","p"],["AM","PM"],au],[["AM","PM"],au,au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",au,"{1} 'at' {0}",au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const l=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Yl={};function hy(r){const o=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=SC(o);if(l)return l;const u=o.split("-")[0];if(l=SC(u),l)return l;if("en"===u)return lu;throw new Error(`Missing locale data for the locale "${r}".`)}function fy(r){return hy(r)[ut.PluralCase]}function SC(r){return r in Yl||(Yl[r]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[r]),Yl[r]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const uu="en-US";let MC=uu;function qd(r,o,l,u,h){if(r=Y(r),Array.isArray(r))for(let m=0;m<r.length;m++)qd(r[m],o,l,u,h);else{const m=At(),y=Ee();let C=kd(r)?r:Y(r.provide),E=Eb(r);const S=dn(),x=1048575&S.providerIndexes,N=S.directiveStart,z=S.providerIndexes>>20;if(kd(r)||!r.multi){const K=new Ia(E,h,Fd),me=Yd(C,o,h?x:x+z,N);-1===me?(Wr(Io(S,y),m,C),mu(m,r,o.length),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(K),y.push(K)):(l[me]=K,y[me]=K)}else{const K=Yd(C,o,x+z,N),me=Yd(C,o,x,x+z),Oe=K>=0&&l[K],Ve=me>=0&&l[me];if(h&&!Ve||!h&&!Oe){Wr(Io(S,y),m,C);const Ue=function(r,o,l,u,h){const m=new Ia(r,l,Fd);return m.multi=[],m.index=o,m.componentProviders=0,Iy(m,h,u&&!l),m}(h?Sy:gu,l.length,h,u,E);!h&&Ve&&(l[me].providerFactory=Ue),mu(m,r,o.length,0),o.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(Ue),y.push(Ue)}else mu(m,r,K>-1?K:me,Iy(l[h?me:K],E,!h&&u));!h&&u&&Ve&&l[me].componentProviders++}}}function mu(r,o,l,u){const h=kd(o),m=function(r){return!!r.useClass}(o);if(h||m){const E=(m?Y(o.useClass):o).prototype.ngOnDestroy;if(E){const S=r.destroyHooks||(r.destroyHooks=[]);if(!h&&o.multi){const x=S.indexOf(l);-1===x?S.push(l,[u,E]):S[x+1].push(u,E)}else S.push(l,E)}}}function Iy(r,o,l){return l&&r.componentProviders++,r.multi.push(o)-1}function Yd(r,o,l,u){for(let h=l;h<u;h++)if(o[h]===r)return h;return-1}function gu(r,o,l,u){return Ay(this.multi,[])}function Sy(r,o,l,u){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=bi(l,l[1],this.providerFactory.index,u);m=C.slice(0,y),Ay(h,m);for(let E=y;E<C.length;E++)m.push(C[E])}else m=[],Ay(h,m);return m}function Ay(r,o){for(let l=0;l<r.length;l++)o.push((0,r[l])());return o}function Fs(r,o=[]){return l=>{l.providersResolver=(u,h)=>function(r,o,l){const u=At();if(u.firstCreatePass){const h=Ui(r);qd(l,u.data,u.blueprint,h,!0),qd(o,u.data,u.blueprint,h,!1)}}(u,h?h(r):r,o)}}class Um{}class YC{resolveComponentFactory(o){throw function(r){const o=Error(`No component factory found for ${oe(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let Ls=(()=>{class r{}return r.NULL=new YC,r})();function My(){return co(dn(),Ee())}function co(r,o){return new Qd(Mn(r,o))}let Qd=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=My,r})();function jm(r){return r instanceof Qd?r.nativeElement:r}class KC{}let BT=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function(){const r=Ee(),l=zt(dn().index,r);return function(r){return r[11]}(Ai(l)?l:r)}(),r})(),jT=(()=>{class r{}return r.\u0275prov=$t({token:r,providedIn:"root",factory:()=>null}),r})();class QC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const xy=new QC("13.0.3"),zm={};function $m(r,o,l,u,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&u.push(An(m)),or(m))for(let C=10;C<m.length;C++){const E=m[C],S=E[1].firstChild;null!==S&&$m(E[1],E,S,u)}const y=l.type;if(8&y)$m(r,o,l.child,u);else if(32&y){const C=io(l,o);let E;for(;E=C();)u.push(E)}else if(16&y){const C=jo(o,l);if(Array.isArray(C))u.push(...C);else{const E=ja(o[16]);$m(E[1],E,C,u,!0)}}l=h?l.projectionNext:l.next}return u}class Hf{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return $m(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(or(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(B(o,u),Tl(l,u))}this._attachedToViewContainer=!1}ie(this._lView[1],this._lView)}onDestroy(o){p_(this._lView[1],this._lView,null,o)}markForCheck(){as(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){v_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,o,l){Qs(!0);try{v_(r,o,l)}finally{Qs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,cf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class zT extends Hf{constructor(o){super(o),this._view=o}detectChanges(){Sw(this._view)}checkNoChanges(){!function(r){Qs(!0);try{Sw(r)}finally{Qs(!1)}}(this._view)}get context(){return null}}class JC extends Ls{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=tn(o);return new Wm(l,this.ngModule)}}function XC(r){const o=[];for(let l in r)r.hasOwnProperty(l)&&o.push({propName:r[l],templateName:l});return o}const Gm=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Uo});class Wm extends Um{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(tw).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return XC(this.componentDef.inputs)}get outputs(){return XC(this.componentDef.outputs)}create(o,l,u,h){const m=(h=h||this.ngModule)?function(r,o){return{get:(l,u,h)=>{const m=r.get(l,zm,h);return m!==zm||u===zm?m:o.get(l,u,h)}}}(o,h.injector):o,y=m.get(KC,mc),C=m.get(jT,null),E=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=u?function(r,o,l){if(Zt(r))return r.selectRootElement(o,l===qe.ShadowDom);let u="string"==typeof o?r.querySelector(o):o;return u.textContent="",u}(E,u,this.componentDef.encapsulation):bd(y.createRenderer(null,this.componentDef),S,function(r){const o=r.toLowerCase();return"svg"===o?Uu:"math"===o?"http://www.w3.org/1998/MathML/":null}(S)),N=this.componentDef.onPush?576:528,z=function(r,o){return{components:[],scheduler:r||Uo,clean:Mw,playerHandler:o||null,flags:0}}(),K=im(0,null,null,1,0,null,null,null,null,null),me=pf(null,K,z,N,null,null,y,E,C,m);let Oe,Ve;_l(me);try{const Ue=function(r,o,l,u,h,m){const y=l[1];l[20]=r;const E=zc(y,20,2,"#host",null),S=E.mergedAttrs=o.hostAttrs;null!==S&&(C_(E,S,!0),null!==r&&(En(h,r,S),null!==E.classes&&Zg(h,r,E.classes),null!==E.styles&&Yp(h,r,E.styles)));const x=u.createRenderer(r,o),N=pf(l,f_(o),null,o.onPush?64:16,l[20],E,u,x,m||null,null);return y.firstCreatePass&&(Wr(Io(E,l),y,o.type),Xn(y,E),_f(E,l.length,1)),qi(l,N),l[20]=N}(x,this.componentDef,me,y,E);if(x)if(u)En(E,x,["ng-version",xy.full]);else{const{attrs:we,classes:nt}=function(r){const o=[],l=[];let u=1,h=2;for(;u<r.length;){let m=r[u];if("string"==typeof m)2===h?""!==m&&o.push(m,r[++u]):8===h&&l.push(m);else{if(!is(h))break;h=m}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);we&&En(E,x,we),nt&&nt.length>0&&Zg(E,x,nt.join(" "))}if(Ve=Zs(K,20),void 0!==l){const we=Ve.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const Nt=l[nt];we.push(null!=Nt?Array.from(Nt):null)}}Oe=function(r,o,l,u,h){const m=l[1],y=function(r,o,l){const u=dn();r.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),sm(r,u,o,Dd(r,o,1,null),l));const h=bi(o,r,u.directiveStart,u);Kn(h,o);const m=Mn(u,o);return m&&Kn(m,o),h}(m,l,o);if(u.components.push(y),r[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=dn();o.contentQueries(1,y,E.directiveStart)}const C=dn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ws(C.index),pb(l[1],C,0,C.directiveStart,C.directiveEnd,o),qa(o,y)),y}(Ue,this.componentDef,me,z,[Mb]),mf(K,me,null)}finally{Ta()}return new Ry(this.componentType,Oe,co(Ve,me),me,Ve)}}class Ry extends class{}{constructor(o,l,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new zT(h),this.componentType=o}get injector(){return new on(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class _u{}class tE{}const Jd=new Map;class Oy extends _u{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new JC(this);const u=Zn(o);this._bootstrapComponents=_r(u.bootstrap),this._r3Injector=Os(o,l,[{provide:_u,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],oe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Fr.THROW_IF_NOT_FOUND,u=ot.Default){return o===Fr||o===_u||o===Ya?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Xd extends tE{constructor(o){super(),this.moduleType=o,null!==Zn(o)&&function(r){const o=new Set;!function l(u){const h=Zn(u,!0),m=h.id;null!==m&&(function(r,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${r} - ${oe(o)} vs ${oe(o.name)}`)}(m,Jd.get(m),u),Jd.set(m,u));const y=_r(h.imports);for(const C of y)o.has(C)||(o.add(C),l(C))}(r)}(o)}create(o){return new Oy(this.moduleType,o)}}function Ny(r,o,l,u){return sE(Ee(),Hn(),r,o,l,u)}function iE(r,o,l,u,h){return function(r,o,l,u,h,m,y){const C=o+l;return Wc(r,C,h,m)?$o(r,C+2,y?u.call(y,h,m):u(h,m)):jf(r,C+2)}(Ee(),Hn(),r,o,l,u,h)}function jf(r,o){const l=r[o];return l===Ct?void 0:l}function sE(r,o,l,u,h,m){const y=o+l;return Yi(r,y,h)?$o(r,y+1,m?u.call(m,h):u(h)):jf(r,y+1)}function aE(r,o){const l=At();let u;const h=r+20;l.firstCreatePass?(u=function(r,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(r===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const m=u.factory||(u.factory=Sr(u.type)),y=mi(Fd);try{const C=Kt(!1),E=m();return Kt(C),function(r,o,l,u){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),o[l]=u}(l,Ee(),h,E),E}finally{mi(y)}}function zf(r,o,l){const u=r+20,h=Ee(),m=qs(h,u);return function(r,o){return r[1].data[o].pure}(h,u)?sE(h,Hn(),o,m.transform,l,m):m.transform(l)}function Uy(r){return o=>{setTimeout(r,void 0,o)}}const Qo=class extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var E,S,x;let h=o,m=l||(()=>null),y=u;if(o&&"object"==typeof o){const N=o;h=null==(E=N.next)?void 0:E.bind(N),m=null==(S=N.error)?void 0:S.bind(N),y=null==(x=N.complete)?void 0:x.bind(N)}this.__isAsync&&(m=Uy(m),h&&(h=Uy(h)),y&&(y=Uy(y)));const C=super.subscribe({next:h,error:m,complete:y});return o instanceof Q.w0&&o.add(C),C}};function dE(){return this._results[Ka()]()}class uo{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ka(),u=uo.prototype;u[l]||(u[l]=dE)}get changes(){return this._changes||(this._changes=new Qo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=_n(o);(this._changesDetected=!function(r,o,l){if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++){let h=r[u],m=o[u];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let eh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ym,r})();const hE=eh,Jl=class extends hE{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=pf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),mf(l,u,o),new Hf(u)}};function Ym(){return vu(dn(),Ee())}function vu(r,o){return 4&r.type?new Jl(o,r,co(r,o)):null}let Km=(()=>{class r{}return r.__NG_ELEMENT_ID__=tD,r})();function tD(){return Xa(dn(),Ee())}const nD=Km,Hy=class extends nD{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return co(this._hostTNode,this._hostLView)}get injector(){return new on(this._hostTNode,this._hostLView)}get parentInjector(){const o=ai(this._hostTNode,this._hostLView);if(Th(o)){const l=Hi(o,this._hostLView),u=Js(o);return new on(l[1].data[u+8],l)}return new on(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Qm(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,m){const y=o&&!("function"==typeof o);let C;if(y)C=l;else{const N=l||{};C=N.index,u=N.injector,h=N.projectableNodes,m=N.ngModuleRef}const E=y?o:new Wm(tn(o)),S=u||this.parentInjector;if(!m&&null==E.ngModule&&S){const N=S.get(_u,null);N&&(m=N)}const x=E.create(S,h,void 0,m);return this.insert(x.hostView,C),x}insert(o,l){const u=o._lView,h=u[1];if(or(u[3])){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const N=u[3],z=new Hy(N,N[6],N[3]);z.detach(z.indexOf(o))}}const m=this._adjustIndex(l),y=this._lContainer;!function(r,o,l,u){const h=10+u,m=l.length;u>0&&(l[h-1][4]=o),u<m-10?(o[4]=l[h],ed(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function(r,o){const l=r[9];o[16]!==o[3][3][16]&&(r[2]=!0),null===l?r[9]=[o]:l.push(o)}(y,o);const C=o[19];null!==C&&C.insertView(r),o[2]|=128}(h,u,y,m);const C=lf(m,y),E=u[11],S=za(E,y[7]);return null!==S&&function(r,o,l,u,h,m){u[0]=h,u[6]=o,cf(r,u,l,1,h,m)}(h,y[6],E,u,S,C),o.attachToViewContainerRef(),ed(jy(y),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Qm(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=B(this._lContainer,l);u&&(Tl(jy(this._lContainer),l),ie(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=B(this._lContainer,l);return u&&null!=Tl(jy(this._lContainer),l)?new Hf(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Qm(r){return r[8]}function jy(r){return r[8]||(r[8]=[])}function Xa(r,o){let l;const u=o[r.index];if(or(u))l=u;else{let h;if(8&r.type)h=An(u);else{const m=o[11];h=m.createComment("");const y=Mn(r,o);ln(m,za(m,y),h,function(r,o){return Zt(r)?r.nextSibling(o):o.nextSibling}(m,y),!1)}o[r.index]=l=__(u,o,h,r),qi(o,l)}return new Hy(l,r,o)}class zy{constructor(o){this.queryList=o,this.matches=null}clone(){return new zy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<u;m++){const y=l.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new Gf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==gE(o,l).matches&&this.queries[l].setDirty()}}class fE{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class $y{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new $y(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jm{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Jm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,l,Xm(l,m)),this.matchTNodeWithReadOption(o,l,Vt(l,o,m,!1,!1))}else u===eh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Vt(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Qd||h===Km||h===eh&&4&l.type)this.addMatch(l.index,-2);else{const m=Vt(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Xm(r,o){const l=r.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function th(r,o,l,u){return-1===l?function(r,o){return 11&r.type?co(r,o):4&r.type?vu(r,o):null}(o,r):-2===l?function(r,o,l){return l===Qd?co(o,r):l===eh?vu(o,r):l===Km?Xa(o,r):void 0}(r,o,u):bi(r,r[1],l,o)}function Gy(r,o,l,u){const h=o[19].queries[u];if(null===h.matches){const m=r.data,y=l.matches,C=[];for(let E=0;E<y.length;E+=2){const S=y[E];C.push(S<0?null:th(o,m[S],y[E+1],l.metadata.read))}h.matches=C}return h.matches}function eg(r,o,l,u){const h=r.queries.getByIndex(l),m=h.matches;if(null!==m){const y=Gy(r,o,h,l);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)u.push(y[C/2]);else{const S=m[C+1],x=o[-E];for(let N=10;N<x.length;N++){const z=x[N];z[17]===z[3]&&eg(z[1],z,S,u)}if(null!==x[9]){const N=x[9];for(let z=0;z<N.length;z++){const K=N[z];eg(K[1],K,S,u)}}}}}return u}function Wf(r){const o=Ee(),l=At(),u=ml();wo(u+1);const h=gE(l,u);if(r.dirty&&jr(o)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const m=h.crossesNgTemplate?eg(l,o,u,[]):Gy(l,o,h,u);r.reset(m,jm),r.notifyOnChanges()}return!0}return!1}function Zf(r,o,l){const u=At();u.firstCreatePass&&(nh(u,new fE(r,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),mE(u,Ee(),o)}function tg(r,o,l,u){const h=At();if(h.firstCreatePass){const m=dn();nh(h,new fE(o,l,u),m.index),function(r,o){const l=r.contentQueries||(r.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,o)}(h,r),2==(2&l)&&(h.staticContentQueries=!0)}mE(h,Ee(),l)}function ng(){return r=Ee(),o=ml(),r[19].queries[o].queryList;var r,o}function mE(r,o,l){const u=new uo(4==(4&l));p_(r,o,u,u.destroy),null===o[19]&&(o[19]=new Gf),o[19].queries.push(new zy(u))}function nh(r,o,l){null===r.queries&&(r.queries=new $y),r.queries.track(new Jm(o,l))}function gE(r,o){return r.queries.getByIndex(o)}function _E(r,o){return vu(r,o)}function Eu(...r){}const ep=new an("Application Initializer");let ah=(()=>{class r{constructor(l){this.appInits=l,this.resolve=Eu,this.reject=Eu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(ki(m))l.push(m);else if(Df(m)){const y=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});l.push(y)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return r.\u0275fac=function(l){return new(l||r)(X(ep,8))},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})();const kE=new an("AppId"),RE={provide:kE,useFactory:function(){return`${Qy()}${Qy()}${Qy()}`},deps:[]};function Qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OE=new an("Platform Initializer"),PE=new an("Platform ID"),dg=new an("appBootstrapListener");let NE=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})();const el=new an("LocaleId"),tl=new an("DefaultCurrencyCode");class mD{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let ec=(()=>{class r{compileModuleSync(l){return new Xd(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=_r(Zn(l).declarations).reduce((y,C)=>{const E=tn(C);return E&&y.push(new Wm(E)),y},[]);return new mD(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})();const LE=(()=>Promise.resolve(0))();function hg(r){"undefined"==typeof Zone?LE.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Cr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let r=ct.requestAnimationFrame,o=ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&o){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(r){const o=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ct,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,nv(r),r.isCheckStableRunning=!0,ev(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),nv(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,m,y,C)=>{try{return iv(r),l.invokeTask(h,m,y,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||r.shouldCoalesceRunChangeDetection)&&o(),rv(r)}},onInvoke:(l,u,h,m,y,C,E)=>{try{return iv(r),l.invoke(h,m,y,C,E)}finally{r.shouldCoalesceRunChangeDetection&&o(),rv(r)}},onHasTask:(l,u,h,m)=>{l.hasTask(h,m),u===h&&("microTask"==m.change?(r._hasPendingMicrotasks=m.microTask,nv(r),ev(r)):"macroTask"==m.change&&(r.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,h,m)=>(l.handleError(h,m),r.runOutsideAngular(()=>r.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,o,Xy,Eu,Eu);try{return m.runTask(y,l,u)}finally{m.cancelTask(y)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const Xy={};function ev(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function nv(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function iv(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function rv(r){r._nesting--,ev(r)}class VE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let sv=(()=>{class r{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),hg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return r.\u0275fac=function(l){return new(l||r)(X(Cr))},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})(),Er=(()=>{class r{constructor(){this._applications=new Map,lh.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return lh.findTestabilityInTree(this,l,u)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})();class pg{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function tc(r){lh=r}let Fn,lh=new pg;const nc=new an("AllowMultipleToken");class SS{constructor(o,l){this.name=o,this.token=l}}function HE(r,o,l=[]){const u=`Platform: ${o}`,h=new an(u);return(m=[])=>{let y=jE();if(!y||y.injector.get(nc,!1))if(r)r(l.concat(m).concat({provide:h,useValue:!0}));else{const C=l.concat(m).concat({provide:h,useValue:!0},{provide:F,useValue:"platform"});!function(r){if(Fn&&!Fn.destroyed&&!Fn.injector.get(nc,!1))throw new ke("400","");Fn=r.get(zE);const o=r.get(OE,null);o&&o.forEach(l=>l())}(Fr.create({providers:C,name:u}))}return function(r){const o=jE();if(!o)throw new ke("401","");return o}()}}function jE(){return Fn&&!Fn.destroyed?Fn:null}let zE=(()=>{class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const C=function(r,o){let l;return l="noop"===r?new VE:("zone.js"===r?void 0:r)||new Cr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Cr,useValue:C}];return C.run(()=>{const S=Fr.create({providers:E,parent:this.injector,name:l.moduleType.name}),x=l.create(S),N=x.injector.get(Fl,null);if(!N)throw new ke("402","");return C.runOutsideAngular(()=>{const z=C.onError.subscribe({next:K=>{N.handleError(K)}});x.onDestroy(()=>{np(this._modules,x),z.unsubscribe()})}),function(r,o,l){try{const u=l();return ki(u)?u.catch(h=>{throw o.runOutsideAngular(()=>r.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>r.handleError(u)),u}}(N,C,()=>{const z=x.injector.get(ah);return z.runInitializers(),z.donePromise.then(()=>(function(r){Et(r,"Expected localeId to be defined"),"string"==typeof r&&(MC=r.toLowerCase().replace(/_/g,"-"))}(x.injector.get(el,uu)||uu),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,u=[]){const h=tp({},u);return function(r,o,l){const u=new Xd(l);return Promise.resolve(u)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const u=l.injector.get(nl);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ke("403","");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(l){return new(l||r)(X(Fr))},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})();function tp(r,o){return Array.isArray(o)?o.reduce(tp,r):Fe(Fe({},r),o)}let nl=(()=>{class r{constructor(l,u,h,m,y){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new P.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new P.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),hg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,se.T)(C,E.pipe((0,re.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new ke("405","");let h;h=l instanceof Um?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function(r){return r.isBoundToModule}(h)?void 0:this._injector.get(_u),C=h.create(Fr.NULL,[],u||h.selector,m),E=C.location.nativeElement,S=C.injector.get(sv,null),x=S&&C.injector.get(Er);return S&&x&&x.registerApplication(E,S),C.onDestroy(()=>{this.detachView(C.hostView),np(this.components,C),x&&x.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ke("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;np(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(dg,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(l){return new(l||r)(X(Cr),X(Fr),X(Fl),X(Ls),X(ah))},r.\u0275prov=$t({token:r,factory:r.\u0275fac}),r})();function np(r,o){const l=r.indexOf(o);l>-1&&r.splice(l,1)}let lv=!0,cv=!1;function GE(){return cv=!0,lv}function fo(){if(cv)throw new Error("Cannot enable prod mode after platform setup.");lv=!1}let ED=(()=>{class r{}return r.__NG_ELEMENT_ID__=ZE,r})();function ZE(r){return function(r,o,l){if(Ur(r)&&!l){const u=zt(r.index,o);return new Hf(u,u)}return 47&r.type?new Hf(o[16],o):null}(dn(),Ee(),16==(16&r))}class xD{constructor(){}supports(o){return Cf(o)}create(o){return new RD(o)}}const kD=(r,o)=>o;class RD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||kD}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,m=null;for(;l||u;){const y=!u||l&&l.currentIndex<JE(u,h,m)?l:u,C=JE(y,h,m),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{m||(m=[]);const S=C-h,x=E-h;if(S!=x){for(let z=0;z<S;z++){const K=z<m.length?m[z]:m[z]=0,me=K+z;x<=me&&me<S&&(m[z]=K+1)}m[y.previousIndex]=x-S}}C!==E&&o(y,C,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Cf(o))throw new Error(`Error trying to diff '${oe(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,y,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],y=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,m,y,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,y,C),u=!0),l=l._next}else h=0,function(r,o){if(Array.isArray(r))for(let l=0;l<r.length;l++)o(r[l]);else{const l=r[Ka()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,C=>{y=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,C,y,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,y,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new OD(l,u),m,h),o}_verifyReinsertion(o,l,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class OD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class QE{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new PD,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JE(r,o,l){const u=r.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class XE{constructor(){}supports(o){return o instanceof Map||P_(o)}create(){return new ND}}class ND{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||P_(o)))throw new Error(`Error trying to diff '${oe(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const u=new FD(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class FD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e0(){return new fv([new xD])}let fv=(()=>{class r{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new r(l)}static extend(l){return{provide:r,useFactory:u=>r.create(l,u||e0()),deps:[[r,new pr,new xi]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(r){return r.name||typeof r}(l)}'`)}}return r.\u0275prov=$t({token:r,providedIn:"root",factory:e0}),r})();function t0(){return new yg([new XE])}let yg=(()=>{class r{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new r(l)}static extend(l){return{provide:r,useFactory:u=>r.create(l,u||t0()),deps:[[r,new pr,new xi]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return r.\u0275prov=$t({token:r,providedIn:"root",factory:t0}),r})();const LD=[new XE],VD=new fv([new xD]),BD=new yg(LD),UD=HE(null,"core",[{provide:PE,useValue:"unknown"},{provide:zE,deps:[Fr]},{provide:Er,deps:[]},{provide:NE,deps:[]}]),HD=[{provide:nl,useClass:nl,deps:[Cr,Fr,Fl,Ls,ah]},{provide:Gm,deps:[Cr],useFactory:function(r){let o=[];return r.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:ah,useClass:ah,deps:[[new xi,ep]]},{provide:ec,useClass:ec,deps:[]},RE,{provide:fv,useFactory:function(){return VD},deps:[]},{provide:yg,useFactory:function(){return BD},deps:[]},{provide:el,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||uu},deps:[[new pn(el),new xi,new pr]]},{provide:tl,useValue:"USD"}];let zD=(()=>{class r{constructor(l){}}return r.\u0275fac=function(l){return new(l||r)(X(nl))},r.\u0275mod=ta({type:r}),r.\u0275inj=vn({providers:HD}),r})()},6293:($e,fe,O)=>{"use strict";O.d(fe,{Z:()=>ke});var a=O(4213),Q=O(1177),P=O(1572),se=O(3855);class re{constructor(de,Z){this._delegate=de,this.firebase=Z,(0,P._addComponent)(de,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(de,Z=P._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(de);return!Se.isInitialized()&&"EXPLICIT"===(null===(ce=Se.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:Z})}_removeServiceInstance(de,Z=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(Z)}_addComponent(de){(0,P._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,P._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ae(){const Qe=function(Qe){const de={},Z={__esModule:!0,initializeApp:function(Ze,it={}){const ne=P.initializeApp(Ze,it);if((0,a.r3)(de,ne.name))return de[ne.name];const le=new Qe(ne,Z);return de[ne.name]=le,le},app:Se,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function(Ze){const it=Ze.name,ne=it.replace("-compat","");if(P._registerComponent(Ze)&&"PUBLIC"===Ze.type){const le=(ge=Se())=>{if("function"!=typeof ge[ne])throw J.create("invalid-app-argument",{appName:it});return ge[ne]()};void 0!==Ze.serviceProps&&(0,a.ZB)(le,Ze.serviceProps),Z[ne]=le,Qe.prototype[ne]=function(...ge){return this._getService.bind(this,it).apply(this,Ze.multipleInstances?ge:[])}}return"PUBLIC"===Ze.type?Z[ne]:null},removeApp:function(Ze){delete de[Ze]},useAsService:function(Ze,it){return"serverAuth"===it?null:it},modularAPIs:P}};function Se(Ze){if(!(0,a.r3)(de,Ze=Ze||P._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:Ze});return de[Ze]}return Z.default=Z,Object.defineProperty(Z,"apps",{get:function(){return Object.keys(de).map(Ze=>de[Ze])}}),Se.App=Qe,Z}(re);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function(Z){(0,a.ZB)(Qe,Z)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Qe}(),j=new se.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=H;(0,P.registerVersion)("@firebase/app-compat","0.1.19",undefined)},1572:($e,fe,O)=>{"use strict";O.r(fe),O.d(fe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>tr,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>$n,_addOrOverwriteComponent:()=>Ni,_apps:()=>gt,_clearComponents:()=>Fi,_components:()=>Ht,_getProvider:()=>Vs,_registerComponent:()=>$t,_removeServiceInstance:()=>vn,deleteApp:()=>Bn,getApp:()=>Te,getApps:()=>Vn,initializeApp:()=>Dr,onLog:()=>nr,registerVersion:()=>xt,setLogLevel:()=>mi});var a=O(8239),Q=O(1177),P=O(3855),se=O(4213),re=O(4995);class he{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function(ye){const pe=ye.getComponent();return"VERSION"===(null==pe?void 0:pe.type)}(Be)){const Je=Be.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Be=>Be).join(" ")}}const oe="@firebase/app",H=new P.Yd("@firebase/app"),pt="[DEFAULT]",Et={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,Ht=new Map;function $n(ye,pe){try{ye.container.addComponent(pe)}catch(Be){H.debug(`Component ${pe.name} failed to register with FirebaseApp ${ye.name}`,Be)}}function Ni(ye,pe){ye.container.addOrOverwriteComponent(pe)}function $t(ye){const pe=ye.name;if(Ht.has(pe))return H.debug(`There were multiple attempts to register component ${pe}.`),!1;Ht.set(pe,ye);for(const Be of gt.values())$n(Be,ye);return!0}function Vs(ye,pe){const Be=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),ye.container.getProvider(pe)}function vn(ye,pe,Be=pt){Vs(ye,pe).clearInstance(Be)}function Fi(){Ht.clear()}const Bt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class go{constructor(pe,Be,Je){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const tr="9.6.8";function Dr(ye,pe={}){"object"!=typeof pe&&(pe={name:pe});const Be=Object.assign({name:pt,automaticDataCollectionEnabled:!1},pe),Je=Be.name;if("string"!=typeof Je||!Je)throw Bt.create("bad-app-name",{appName:String(Je)});const bt=gt.get(Je);if(bt){if((0,se.vZ)(ye,bt.options)&&(0,se.vZ)(Be,bt.config))return bt;throw Bt.create("duplicate-app",{appName:Je})}const rt=new Q.H0(Je);for(const Wn of Ht.values())rt.addComponent(Wn);const Yt=new go(ye,Be,rt);return gt.set(Je,Yt),Yt}function Te(ye=pt){const pe=gt.get(ye);if(!pe)throw Bt.create("no-app",{appName:ye});return pe}function Vn(){return Array.from(gt.values())}function Bn(ye){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(ye){const pe=ye.name;gt.has(pe)&&(gt.delete(pe),yield Promise.all(ye.container.getProviders().map(Be=>Be.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function xt(ye,pe,Be){var Je;let bt=null!==(Je=Et[ye])&&void 0!==Je?Je:ye;Be&&(bt+=`-${Be}`);const rt=bt.match(/\s|\//),Yt=pe.match(/\s|\//);if(rt||Yt){const Wn=[`Unable to register library "${bt}" with version "${pe}":`];return rt&&Wn.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),rt&&Yt&&Wn.push("and"),Yt&&Wn.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void H.warn(Wn.join(" "))}$t(new Q.wA(`${bt}-version`,()=>({library:bt,version:pe}),"VERSION"))}function nr(ye,pe){if(null!==ye&&"function"!=typeof ye)throw Bt.create("invalid-log-argument");(0,P.Am)(ye,pe)}function mi(ye){(0,P.Ub)(ye)}const bn="firebase-heartbeat-store";let cn=null;function _o(){return cn||(cn=(0,re.openDb)("firebase-heartbeat-database",1,ye=>{0===ye.oldVersion&&ye.createObjectStore(bn)}).catch(ye=>{throw Bt.create("storage-open",{originalErrorMessage:ye.message})})),cn}function qe(){return(qe=(0,a.Z)(function*(ye){try{return(yield _o()).transaction(bn).objectStore(bn).get(ct(ye))}catch(pe){throw Bt.create("storage-get",{originalErrorMessage:pe.message})}})).apply(this,arguments)}function at(ye,pe){return Us.apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(ye,pe){try{const Je=(yield _o()).transaction(bn,"readwrite");return yield Je.objectStore(bn).put(pe,ct(ye)),Je.complete}catch(Be){throw Bt.create("storage-set",{originalErrorMessage:Be.message})}})).apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(ye){try{const Be=(yield _o()).transaction(bn,"readwrite");return yield Be.objectStore(bn).delete(ct(ye)),Be.complete}catch(pe){throw Bt.create("storage-delete",{originalErrorMessage:pe.message})}})).apply(this,arguments)}function ct(ye){return`${ye.name}!${ye.options.appId}`}class ${constructor(pe){this.container=pe,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new _e(Be),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var pe=this;return(0,a.Z)(function*(){const Je=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=(new Date).toISOString().substring(0,10);if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),!pe._heartbeatsCache.some(rt=>rt.date===bt))return pe._heartbeatsCache.push({date:bt,userAgent:Je}),pe._heartbeatsCache=pe._heartbeatsCache.filter(rt=>{const Yt=new Date(rt.date).valueOf();return Date.now()-Yt<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,a.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache)return"";const{heartbeatsToSend:Be,unsentEntries:Je}=function(ye,pe=1024){const Be=[];let Je=ye.slice();for(const bt of ye){const rt=Be.find(Yt=>Yt.userAgent===bt.userAgent);if(rt){if(rt.dates.push(bt.date),te(Be)>pe){rt.dates.pop();break}}else if(Be.push({userAgent:bt.userAgent,dates:[bt.date]}),te(Be)>pe){Be.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Be,unsentEntries:Je}}(pe._heartbeatsCache),bt=(0,se.h$)(JSON.stringify({version:2,heartbeats:Be}));return Je.length>0?(pe._heartbeatsCache=Je,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache=null,pe._storage.deleteAll()),bt})()}}class _e{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,a.Z)(function*(){if(yield pe._canUseIndexedDBPromise){const Je=yield function(ye){return qe.apply(this,arguments)}(pe.app);return(null==Je?void 0:Je.heartbeats)||[]}return[]})()}overwrite(pe){var Be=this;return(0,a.Z)(function*(){if(yield Be._canUseIndexedDBPromise)return at(Be.app,{heartbeats:pe})})()}add(pe){var Be=this;return(0,a.Z)(function*(){if(yield Be._canUseIndexedDBPromise){const bt=yield Be.read();return at(Be.app,{heartbeats:[...bt,...pe]})}})()}delete(pe){var Be=this;return(0,a.Z)(function*(){if(yield Be._canUseIndexedDBPromise){const bt=yield Be.read();return at(Be.app,{heartbeats:bt.filter(rt=>!pe.includes(rt))})}})()}deleteAll(){var pe=this;return(0,a.Z)(function*(){if(yield pe._canUseIndexedDBPromise)return function(ye){return Ot.apply(this,arguments)}(pe.app)})()}}function te(ye){return(0,se.h$)(JSON.stringify({version:2,heartbeats:ye})).length}$t(new Q.wA("platform-logger",pe=>new he(pe),"PRIVATE")),$t(new Q.wA("heartbeat",pe=>new $(pe),"PRIVATE")),xt(oe,"0.7.18",""),xt(oe,"0.7.18","esm2017"),xt("fire-js","")},1177:($e,fe,O)=>{"use strict";O.d(fe,{wA:()=>P,H0:()=>oe,zt:()=>re});var a=O(8239),Q=O(4213);class P{constructor(H,j,Y){this.name=H,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class re{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const Y=new Q.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:j});Pe&&Y.resolve(Pe)}catch(Pe){}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const Y=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Pe=null!==(j=null==H?void 0:H.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(De){if(Pe)return null;throw De}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if("EAGER"===H.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:se})}catch(j){}for(const[j,Y]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(j);try{const De=this.getOrInitializeService({instanceIdentifier:Pe});Y.resolve(De)}catch(De){}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,a.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[De,ke]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(De)&&ke.resolve(Pe);return Pe}onInit(H,j){var Y;const Pe=this.normalizeInstanceIdentifier(j),De=null!==(Y=this.onInitCallbacks.get(Pe))&&void 0!==Y?Y:new Set;De.add(H),this.onInitCallbacks.set(Pe,De);const ke=this.instances.get(Pe);return ke&&H(ke,Pe),()=>{De.delete(H)}}invokeOnInitCallbacks(H,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Pe of Y)try{Pe(H,j)}catch(De){}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=H,ae===se?void 0:ae),options:j}),this.instances.set(H,Y),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch(Pe){}var ae;return Y||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new re(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},3855:($e,fe,O)=>{"use strict";O.d(fe,{in:()=>Q,Yd:()=>J,Ub:()=>oe,Am:()=>ae});const a=[];var Q=(()=>{return(H=Q||(Q={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Q;var H})();const P={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},se=Q.INFO,re={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},he=(H,j,...Y)=>{if(j<H.logLevel)return;const Pe=(new Date).toISOString(),De=re[j];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[De](`[${Pe}]  ${H.name}:`,...Y)};class J{constructor(j){this.name=j,this._logLevel=se,this._logHandler=he,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function oe(H){a.forEach(j=>{j.setLogLevel(H)})}function ae(H,j){for(const Y of a){let Pe=null;j&&j.level&&(Pe=P[j.level]),Y.userLogHandler=null===H?null:(De,ke,...Qe)=>{const de=Qe.map(Z=>{if(null==Z)return null;if("string"==typeof Z)return Z;if("number"==typeof Z||"boolean"==typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch(ce){return null}}).filter(Z=>Z).join(" ");ke>=(null!=Pe?Pe:De.logLevel)&&H({level:Q[ke].toLowerCase(),message:de,args:Qe,type:De.name})}}}},8239:($e,fe,O)=>{"use strict";function a(P,se,re,he,J,oe,ae){try{var H=P[oe](ae),j=H.value}catch(Y){return void re(Y)}H.done?se(j):Promise.resolve(j).then(he,J)}function Q(P){return function(){var se=this,re=arguments;return new Promise(function(he,J){var oe=P.apply(se,re);function ae(j){a(oe,he,J,ae,H,"next",j)}function H(j){a(oe,he,J,ae,H,"throw",j)}ae(void 0)})}}O.d(fe,{Z:()=>Q})}},$e=>{$e($e.s=3434)}]);